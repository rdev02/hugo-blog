[{"content":"For those who decided \u0026lsquo;Remote Access\u0026quot; feature of Uniyfy isn\u0026rsquo;t worth the security risks associated with it, but still want a local backup of the config, I\u0026rsquo;ve found a decent solution.\nSharing this here, since it\u0026rsquo;s not readily searchable on the internet nor would AI give you a good answer if you ask about it. And if you run into this head-first, you\u0026rsquo;ll quickly discover that\nrouter doesn\u0026rsquo;t have samba(cifs) mount support router doesn\u0026rsquo;t have sftp/fuse mount so your usual rsync options of backup fall apart. Luckily there\u0026rsquo;s RClone. (his article I found basically does a great job comparing RClone VS BackiFy.\nExcept Backify has all the same issues as \u0026ldquo;Remote Access\u0026rdquo; IMHO.\nSo you do not have to use the cloud options, you can just do a clean samba or what-have-you to your NAS and then let NAS do the regular backup to cloud.\nNeat. Problem solved.\n","permalink":"https://blog.vnomad.com/posts/code/2024/unify-backup/","summary":"For those who decided \u0026lsquo;Remote Access\u0026quot; feature of Uniyfy isn\u0026rsquo;t worth the security risks associated with it, but still want a local backup of the config, I\u0026rsquo;ve found a decent solution.\nSharing this here, since it\u0026rsquo;s not readily searchable on the internet nor would AI give you a good answer if you ask about it. And if you run into this head-first, you\u0026rsquo;ll quickly discover that\nrouter doesn\u0026rsquo;t have samba(cifs) mount support router doesn\u0026rsquo;t have sftp/fuse mount so your usual rsync options of backup fall apart.","title":"Backing up Unify router config without Remote Access"},{"content":"Once the Apple Vision Pro became available I instantly ordered it to test out 3 use cases:\nwork monitor: use headset to be able to work in any place/condition with a comfortable large monitor gaming device: use headset as a streaming gaming platform anywhere personal IMAX: use headset to have unmatched movie-viewing experience anywhere. I\u0026rsquo;ve been using it on and off for about 3 weeks now. This post summarizes how it went for me.\nDisclaimer: The views expressed in this blog post are solely those of the individual author and do not necessarily represent the views, opinions, or policies of any current, former, or future employer. Any reference to specific individuals, organizations, products, or services in this post is for informational purposes only and does not constitute endorsement, critique or recommendation.\nVision Pro as work monitor Granted I had some initial trouble pairing the headset with my M1 MBP Pro, the experience of working is quite good. It\u0026rsquo;s way closer to a real solution then I thought it would be. Text is clearly readable, windows are stable spatially, lag is minimal if any. I did have to go into settings and tweak the contrast/size/motion effects till this became really true, but it\u0026rsquo;s there. The hardware is capable enough to plant virtual high-fidelity ~windows~ monitors in you physical space that look almost real.\nPros:\nno glare + complete privacy. You can have the sun shining right into your eyes or forehead - that would be of no concern to you, less heat, ofc :) large screen(s) on the go. You can have multiple \u0026ldquo;screens\u0026rdquo; on the go and BT/keyboard/mouse-anywhere integration works really well: you can open apps on Vision Pro and have the \u0026ldquo;screen: from a mac. Together this would emulate multiple monitors. And even when you need true multiple - there are already (software) tools that make this happen. it\u0026rsquo;s almost real. The pass-through is good enough, that you can keep track of your surroundings and glance at the clock/phone that is right next to you. I was not able to see what\u0026rsquo;s on my Apple Watch though - not enough fidelity :). I was able to react well to my wife showing me a picture of a dog on her cell to admire :). Cons:\nperipherals constant switching. Vision pro and your MBP are separate devices(DUH!). While it may really seem like it\u0026rsquo;s one(wearing Vision Pro), it simply isn\u0026rsquo;t. So if you\u0026rsquo;ve started a call on mac with your AirPods connected there and then do something with audio in your Vision Pro safari - it\u0026rsquo;s going to blast that audio through it\u0026rsquo;s separate speakers. Same goes for any other connected BT devices: they will be frantically switching to and fro trying to find that one that you are \u0026ldquo;actually\u0026rdquo; working with. Same goes for your VPN expectations, less you have it set up on the router side to begin with. mouse/eye mishaps. Vision Pro relentlessly tracks your eyes and hands, thus when you type on the keyboard and your fingers come together in a Vision Pro\u0026rsquo;s \u0026ldquo;click\u0026rdquo; gesture - you get a click. I think over time you may get used to this, but in the beginning it\u0026rsquo;s just quite frustrating. no circulation of air around eyes + weight. Maybe my neck is just weaker then it has to be, but I found myself looking slightly upwards quite a bit to ballance the weight sitting on my nose. I did find a comfortable enough position and stuck to it for a couple hours, while I\u0026rsquo;ve been working, but then the eye discomfort started catching up. It\u0026rsquo;s that feeling that you have after wearing any closed system over your eyes for a period of time: you just want to take it off, rub them a bit and splash some fresh water/air. blurriness of text unless it\u0026rsquo;s at a perfect distance and you\u0026rsquo;re looking at it straight. I\u0026rsquo;m quite surprised to learn how I actually interact with elements and text on the screen. It looks like I only focus on something for a split second and my attention immediately drifts away, letting hands complete the action, while I go exploring something else. Vision Pro doesn\u0026rsquo;t let you do this easily: it requires you to focus on the element you want to interact with until the interaction is complete. This is somewhat mitigated by keyboard and mouse, but causes the mishaps mentioned in the previous point. Use case verdict: if I had to work a lot in a noisy environment, that was poorly lit and had little privacy(aka airport, coffee shop, etc): I would really appreciate the Vision Pro. For all other intents and purposes, I\u0026rsquo;d prefer my 14\u0026rdquo; retina screen or my 32\u0026quot; 4k Dell, with all of their limitations :)\nVision Pro as a gaming device So I paired my XBox controller to it in no-time, fired up Safari and went to geforce-now. At the time of this writing stock Safari isn\u0026rsquo;t supported, but no big issue - there\u0026rsquo;s a community browser already patched together to make such things happen and it works. I played Doom Eternal, The Ascent and Half Life Episode 2. The latter worked flawlessly, making an impression of the game running right on the device itself. The Ascent was the most sluggish of them all, with Doom having decent FPS at full HD resolution. Unfortunately the browser client I used to play did not have the session statistics, so it was hard to figure out where the bottlenecks were. I also tried the same via using the MBP casting feature and it worked actually even slightly better, having re-paired the controller to mac(hello multiple devices), yet the lag increased.\nIt is very close to \u0026ldquo;great experience\u0026rdquo;******\n*1 Granted your network throughput supports the resolution you want to play at.\n*2 Granted you are located close to the serving node or you play games that are lag-friendly.\n*3 Granted your router is powerful and smart enough to keep your gaming traffic intact.\n*4 Granted you are fine playing in at least dimly lit room(Vision Pro struggles and glares in a completely dark setting).\n*5 and granted you\u0026rsquo;re fine playing geforce-now(or xbox-live) supported games only - this works.\nI can\u0026rsquo;t imagine network good enough for this on the go in current world. It\u0026rsquo;s simply not there. Either throughput or latency or lag will get you, so you\u0026rsquo;re way better off with a Nintendo switch or Steam deck in your pocket for that. That would mean gaming at home. If you\u0026rsquo;re in a quite tight space and really want a LARGE screen: Vision Pro can solve your problem. For me though, it doesn\u0026rsquo;t and here\u0026rsquo;s why:\nI want to play non-AAA games like Hades, Stray, Mad Max, XCom etc and strategy games like Civilization, BattleTech and FrostPunk. The only benefit I get from Vision Pro is if I use it as an MBP large screen. But most of these run best on a windows machine with an RTX card attached to it either way\u0026hellip; so\u0026hellip; you get it :) I often play late in a very dark setting. Vision Pro really struggles at that I just can\u0026rsquo;t get over the glare and discomfort, that is simply not there when I use my PC/Monitor/Controller combo. Pros\nlarger screen anywhere, controller(s) can be paired with the device Cons\nhigh lag/latency unless close to a very good router/network doesn\u0026rsquo;t really fit \u0026ldquo;play-on-the-go\u0026rdquo; or \u0026ldquo;play-at-night\u0026rdquo; scenario Use case verdict: It works, but turns out - it\u0026rsquo;s not for me :). As a streaming device, Vision Pro actually does a great job. My main issues came down to actual game availability and network stability/throughput issues, which would be issues for any device in that category. Turns out for me to be happy it needs to support a wide variety of games with wide variety of inputs.\nVision Pro as a personal IMAX This where I had the most success. I was truly stunned by Apple immersive videos. Those are something of a \u0026ldquo;next level\u0026rdquo;. I had a preview of what is possible with other VR headsets, but curated Vision Pro content is just a magnitude better then that. It\u0026rsquo;s a \u0026ldquo;you have to see it\u0026rdquo; experience, after which you\u0026rsquo;d want to run up to you friends and \u0026ldquo;let them try\u0026rdquo;.\nApple TV support is also great, not far behind the immersive video. They have made nice UX changes so that you can position yourself in any row of a virtual movie theatre and thoroughly enjoy your content. It\u0026rsquo;s smooth, it\u0026rsquo;s pleasant, it\u0026rsquo;s well thought out and polished.\nContrast this with Plex, which is just an un-adapted iPad app running on Vision Pro. You can still start and watch your movies in great fidelity, but you\u0026rsquo;d have to work your way through backgrounds, adjustments, unresponsive ux and resizing and positioning of content window to \u0026ldquo;make it happen\u0026rdquo;. Btw, this goes about using almost any \u0026ldquo;compatible\u0026rdquo; (aka iPad) apps on Vision Pro: experience ranges from \u0026ldquo;barely usable\u0026rdquo; to dysfunctional(apps that use a camera on iPad have a really hard time with Vision Pro :)) So I actually do not blame Netflix from \u0026ldquo;pulling out\u0026rdquo;: expectation would definitely be not met.\nPros\nunmatched experience in Apple TV unique content nearly 0 issues with content streaming/adjustment/etc Cons\nmedia platforms actively \u0026ldquo;wrestle\u0026rdquo; it right now: I\u0026rsquo;ve talked about how great Apple TV experience is, and how rough Plex is. UTube and Netflix went as far as to ban the iPad app altogether, so you\u0026rsquo;re left with in-browser experience, which is very close to Plex. Maybe slightly better :) I can\u0026rsquo;t get used to glare on the lens in dark environments. It\u0026rsquo;s just annoying. You can\u0026rsquo;t rub your eyes or eat ice-cream, less the room is at least 15+% lit :. Do not try it - you\u0026rsquo;ll make a mess :) Use case verdict: YES PLEASE!\nConclusion So there you have it: I have 1 very compelling leisure use case and maybe half of practical one. That\u0026rsquo;s a tall order for a ~$3k device, which means, less my significant other really wants it, it\u0026rsquo;s going \u0026ldquo;back on the market\u0026rdquo;. If the price was closer to $500 i might have kept it, such as I keep my GoPro10, my Mavic drone, my Optiplex etc.\nIf I were to pinpoint 1 reason I do not pick up the headset for work or play it would be weight with glare in dark environments coming as a close second. It\u0026rsquo;s simply too heavy and bulky to be easily reached out to and worn, not to mention the whole battery attachment thing(yea it\u0026rsquo;s heavy and annoying to haul around). A similar reason I dumped the previous VR headset I had.\nThat said, Vision Pro is a truly amazing, ground-breaking spatial computing device, and trying it out for work and play was a lot of fun for me. I can totally see the weight, the glare the UX and the app ecosystem eventually being dealt with, leaving us with a thin augmentation, truly enriching our real world experience. Can\u0026rsquo;t wait!\n","permalink":"https://blog.vnomad.com/posts/tea/2024/03/vision-pro/","summary":"Once the Apple Vision Pro became available I instantly ordered it to test out 3 use cases:\nwork monitor: use headset to be able to work in any place/condition with a comfortable large monitor gaming device: use headset as a streaming gaming platform anywhere personal IMAX: use headset to have unmatched movie-viewing experience anywhere. I\u0026rsquo;ve been using it on and off for about 3 weeks now. This post summarizes how it went for me.","title":"Apple Vision Pro for a regular prosumer"},{"content":"In this post I go over my move to Unify router, over a top-of-the-line Asus one, even though I got a new one just about a month ago.\nI used to like my Asus routers: they stroke a balance between performance, reliability user-friendliness and maintenance. \u0026ldquo;Balance\u0026rdquo; is a very important word here, because they did neither well. In fact, as my routing needs grew, even \u0026ldquo;well\u0026rdquo; became an issue.\nCommonly I\u0026rsquo;d need to run a couple networks: main network for all secure devices, guest network for, well, guests :), isolated guest network for all the non-US-made IoT thingies and one for gaming/mining/whatever. Now, for convenience, I\u0026rsquo;d like my printer to be available on all of them, I\u0026rsquo;d like my main network devices to be able to access my IoT devices, but not the other way around, I\u0026rsquo;d like my gaming to be isolated and I\u0026rsquo;d like my guests to be isolated, limited, but also able to \u0026ldquo;talk to\u0026rdquo; IoT. Oh, and yea - I\u0026rsquo;d like to have a custom domain VPN, that would bring me into the main and guest network, but not the gamin or IoT one. Easy, and not very complicated, right? Right ?!\nAchieving this with with native administration interface was possible, but a mess. It required using Merlin, YazFi and custom routing. And even with that, VPN was constantly malfunctioning, so I moved to have it on a separated raspberry pi. WiFi was separated into 2.4 and 5Ghz bands, so instead of having 4 networks I had to manage 8 and any change in DHCP would requite a full router restart and reset.\nWhile dealing with another \u0026ldquo;networking\u0026rdquo; issue, that, as usual turned out to be a bug in the firmware, I stumbled upon the Dream Router. I heard a lot of good things about the company before from the podcasts I listen to, so I decided to just give it a closer look, and shortly thereafter - a try.\nI\u0026rsquo;m so impressed. Finally, a routing product for a small home network enthusiast, that is easy to understand, configure and maintain.\nBenefits of the machine:\nDHCP rules applies without restart; automatic firmware update on schedule + automatic backup of configuration; 2.4 Ghz networks are \u0026ldquo;merged\u0026rdquo; with 5Ghz ones: device is \u0026ldquo;handled\u0026rdquo; on the best band it supports automatically, using one SSID You actually define networks and network(firewall/routing) rules rather then assuming that a particular SSID is a particular network. Thus you can apply same rules to networks, not AP/SSIDs. Port management and expansion out of the box. 1-click multi-site VPN network packet scanning and traffic rules(much better then QoS) out of the box. Network(wifi/WAN/client) health monitoring and alerting out of the box and much more\u0026hellip;. :) All of that for a quite meager price. Now, granted top-of-the-line Asus router would be more powerful in terms of transmission and coverage rules, but it would also cost more and I actually rarely use it\u0026rsquo;s limit speeds.\nThe throughput of Dream Router turned out to be more then enough for my daily needs and the simplicity of configuring and maitaning this piece of hardware is, so far, unmatched for me.\nI\u0026rsquo;m so happy I found it and I wholeheartedly recommend it to anyone who\u0026rsquo;s still out there, struggling with their clunky hardware to deliver simple results most household need today.\n","permalink":"https://blog.vnomad.com/posts/travel/2023/unify_merlin/","summary":"In this post I go over my move to Unify router, over a top-of-the-line Asus one, even though I got a new one just about a month ago.\nI used to like my Asus routers: they stroke a balance between performance, reliability user-friendliness and maintenance. \u0026ldquo;Balance\u0026rdquo; is a very important word here, because they did neither well. In fact, as my routing needs grew, even \u0026ldquo;well\u0026rdquo; became an issue.\nCommonly I\u0026rsquo;d need to run a couple networks: main network for all secure devices, guest network for, well, guests :), isolated guest network for all the non-US-made IoT thingies and one for gaming/mining/whatever.","title":"SNB: Unify Dream Router vs. Merlin-Compatible Router"},{"content":"It started as an innocent idea concluding my 2022 Canada ski trip: what if we went to Japan for ski trip, instead of Canada? Indeed, sometimes the border crossing and car travel time would amount to a length of a direct SEA-\u0026gt;HND. Japan was locked for travel at the time and we decided to commit to it softly, putting little hope on this actually coming to fruition.\njumping ahead, a piece of contemporary japanese art Lo and behold: mid 2022 fall Japan has re-opened for tourism and the place we booked for stay did not go out of business because of Covid. So we had to go\u0026hellip; :)\nGetting there Flying Delta or ANA or JAR would get you there with comfort and no stops, all would allow a generous 2 bags + a carry-on + a personal item, which kinda totals 4 bags. If you\u0026rsquo;re traveling with a friend, which I was, and which is generally a good idea - you can lump all skis into one ski travel bag and use the rest for yourself. Do not take small bags: you\u0026rsquo;ll need large bags later, coming back from Japan, but more on that later.\nWhen I was planning this, I was anticipating being tired, confused and disoriented in a completely different country. Yes, airports work the same and still, when planning connections, some airports are efficient enough to make a transfer in 30 minutes, whereas other would require more than an hour. It\u0026rsquo;s definitely not an issue with Japanese airports. Japanese airports are very organized. They have no shortage of people and they would make sure you make your connection: they would pluck you out of the crowd, take care of your bags/babies, speed you through the system and make sure you are at the gate at the right time. All you need to do, is raise your hand and show them your reservation. They do not speak english, but they have enough \u0026ldquo;experience\u0026rdquo; to get you through it. Thus staying in Tokio for a night since your connection is only 45m in NHD isn\u0026rsquo;t necessary. I\u0026rsquo;m still happy I did it: made the journey more interesting and relaxing.\nOn Japanese punctuality In the previous paragraph I tried to highlight the lengths japanese would go to make sure airports work \u0026ldquo;on time\u0026rdquo;. But it\u0026rsquo;s not just airports: busses, trains, metro, etc. - all run in a very timely and precise manner. If your bus is scheduled to depart at, say 4:05, your driver would put on their hat at 4:04, start the engine and at 4:05 the bus would depart. Not a minute earlier, not a minute later. Any delays that happen in the infrastructure are usually around accidents and security protocols. Otherwise you can count on that train be gone 4:06, if the departure time says 4:05. Makes you be \u0026ldquo;on time\u0026rdquo; with a few minutes to spare always. What a way to learn to be punctual :).\nBtw, this doesn\u0026rsquo;t only run in \u0026ldquo;transportation\u0026rdquo;. This runs deep in the culture: the ski chairlifts won\u0026rsquo;t start a minute earlier, than scheduled. The dining place would \u0026ldquo;ask you out\u0026rdquo; 2 minutes before closing(we did not try to push our luck staying over a few minutes to \u0026lsquo;see what happens\u0026rsquo;.) It would also not let you in a minute before opening. And so on. Japanese are very punctual and responsible with their commitments. They know precisely where the commitment starts anf where it ends. The sword cuts both ways: if something needs to be done over-time: there must be a very good reason for it. Unless it\u0026rsquo;s a known custom(like leaving only after your boss leaves), do not expect japanese to \u0026ldquo;contribute\u0026rdquo; more. Their days are well measured: they have other things to do.\nmake no mistake: this bus leaves exactly in 3 minutes Hokkaido and the Niseko United Ski resort Skiing was the first stop on our trip, the initial \u0026ldquo;main attraction\u0026rdquo;. At first, it was hard to believe the place, just some 400mi north of Tokyo, which was mild +5 - +9 degrees celsius, would be a frigid -15 and snowing all the time. Just landing in Sapporo was a good indication of how different the climate of Hokkaido is from mainland Japan: the airport was all in snow and outside was no \u0026ldquo;+\u0026rdquo; anywhere. Getting further and further into the \u0026ldquo;mountains\u0026rdquo; only lowered the temps and raised the hight of the snow walls outside the bus window. I say \u0026ldquo;mountains\u0026rdquo; because, for the most part, Japan is relatively flat with some peaks around 1km, mild slopes, wast territories. Nothing like the sharp cliffs of PNW, steep inclines and sharp ledges. Instead - very smooth lines of the hills and mountains, mildly settling into the below plains of agricultural land. At the time - covered with a very thick blanket of snow.\nThe Ski resort is a busy place. I wouldn\u0026rsquo;t say it\u0026rsquo;s busier then the resorts of PNW or Europe - to the contrary. It\u0026rsquo;s rare to see the lines on the chairlifts and there are some - that\u0026rsquo;s usually for the freshest morning pow or on a \u0026ldquo;very good day\u0026rdquo;. It\u0026rsquo;s just much busier then other places in Hokkaido, especially when it comes to dining. Apparently the resort popularity is rising faster than the infrastructure is able to keep up: the shuttles are full of people and dining in the evening is an hour wait. You can choose which hour to wait though: you can wait for an hour before the opening outside - then you\u0026rsquo;ll be the first to come in. You can wait an hour after the first people come in and dine - then you\u0026rsquo;d be the \u0026ldquo;second wave\u0026rdquo;. Or you can wait an hour after dinner - and catch the tail of the service time, when most have have their food this way or the other and places have run out of most popular dishes. You may choose when, but you can\u0026rsquo;t escape the wait: the places are just too small for the amount of people that want service and they refuse to work extra hours/tables/etc. Remember what I wrote above about punctuality - there it comes right back at ya. Of course you can reserve a place, call in advance, say, a couple weeks in advance. Then you won\u0026rsquo;t have to wait - you\u0026rsquo;ll just have to spend a lot :). Most places do not take reservations and those that do - expect you to \u0026ldquo;have an experience\u0026rdquo;, so not \u0026ldquo;quick chow\u0026rdquo;. And of course you can do a food truck, of which there are quite a few, serving okay food at less-than-okay prices. Have it at -10c outside, standing. It\u0026rsquo;s a type of \u0026ldquo;fun\u0026rdquo; I did not try - was too sober this trip for it.\nThe skiing itself is quite a treat: the snow is perfect, the slopes are not aggressive, the lines, as mentioned, are okay. Whatever is marked blue in PNW/Europe is back/double-black here, so it\u0026rsquo;s pure fun and joy, with lots of snow, riding through the plains and trees. Because there\u0026rsquo;s so much snow avvy gear is a must: it\u0026rsquo;s easy to get buried in so much snow, or get into a crack, created by snow sliding on bamboo leaves. You\u0026rsquo;d better have a buddy. This amount of snow allows for lots of fun jumps and tricks, once you\u0026rsquo;ve scouted the areas, which there is quite a bit to scout. Niseko United is actually four resorts, joined together into one system: Niseko(Village), Grand Hirafu, Hanazono and Annupuri. You would notice how the resort developed, expanded, added new chairlifts and gondolas, sometimes just forsaking the old ones.\noff piste Hokkaido The chairlifts and infrastructure, for the most part is quite old. The cabins are not fitted to carry the modern, wider skis. Some chairs are a flat wooden seat(single or double), attached to a metal tube/rod, going quite slowly up the mountain. The are newer chairlifts too: sprinkled here and there, they have very simple naming: quad-1, dual-2\u0026hellip;etc. Not like \u0026ldquo;The Forest Queen\u0026rdquo; in PNW. Some might say this lacks character. I\u0026rsquo;d agree, and say that you always know how many people the char takes though. Not that it\u0026rsquo;s that important. Some of them are open, some have an auto-closing/opening plastic hood to help with the winds and snow, which are quite frequent and need some getting used to, especially for those of us, who are that 6 ft mark.\nchairlift to the top It\u0026rsquo;s clear the chairlifts and the tracks were made by japanese for japanese: the chairs are small and efficient. The runs are medium length and quite mellow, extra wide. Anything that has \u0026ldquo;bumps\u0026rdquo; is immediately classified as \u0026ldquo;black diamond\u0026rdquo;. In my observation most japanese skiers come with narrow skis and use the flat tracks to race up/down. There are much more boarders though. It\u0026rsquo;s the foreign, who come with fat skis and venture of-piste. Locals ski quite \u0026ldquo;average\u0026rdquo; on average and prefer an easier entry board to spend their time on the snow. Which they spend little of: the lift starts at 9am, and goes till 3-4pm. There is night skiing, but very few take advantage of it. Minding the lines at lunch, you get yourself 4-5hrs of skiing or barding and then it\u0026rsquo;s up for bars, food and onsens.\nwide groomed tracks of Niseko United Onsen(s) Onsen is effectively a pool, either inside or outside, about knee deep, filled with hot water of volcanic origin(that is - heated by mother earth and delivered into the pool by some intricate piping). The water comes out around 60C and makes staying in pool comfortable even when it\u0026rsquo;s -5C outside. No clothes, gender separated. I do not think Japanese ever concerned themselves with the question of gender fluidity when it comes to administering onsens. This thought never crossed my mind while being there. Being as traditional as they are, even being gay might be tough in Japan. Anyhow, you walk, after taking a shower, through entire pool dangling your privates in front of everyone, land in a free spot and stay submerged for the next 5-10 minutes. After that, less you\u0026rsquo;d like to become a human sous vide, you\u0026rsquo;d need to cool off. Different onsens provide different options for that, ranging from simply standing, or sitting on little benches organized around the pool, to cooling off in a cold water bath, conveniently located next to a conventional dry sauna. Outside some might take advantage of the walls of snow around the water. All around onsen is a great way to spend a couple hours meditating after a day of skiing or other outdoor activities. It\u0026rsquo;s open from 5am and till 11pm, so if you did not get into an onsen while being in Japan - that is definitely by choice :).\nTokyo Done with skiing we went back to Tokyo. Enormous city, home to some 40 million people in the larger metro area actually feels quite spacious and not cramped with people. The huge, well run underground metro system makes the streets almost void of cars. And the fact that you need to buy a parking space before you\u0026rsquo;re allowed to purchase a car. And I haven\u0026rsquo;t seen too many parking spaces. Instead lots of people bike. Some(further from downtown) parts of the city are better equipped for bikes with special lanes and street signs. Some are are bare-bones spray paint available for bikers to share the road with cars. Since there are, again, few cars, biking in the relatively flat Tokio makes a lot sense, if, for some reason, you do not want to move by subway. Subway is very nice and clean, not too crowded during daytime hours and a perfect way of moving around the city quickly and efficiently. I wouldn\u0026rsquo;t take a bike, as long as I had JPY left on my metro card. Japanese love little gardens and the city is sprinkled with them, most areas having a few. There are trees to the sides of the road and everything is clean an tidy. No trash cans almost anywhere, but it\u0026rsquo;s very clean and orderly around. Haven\u0026rsquo;t seen any bums.\nwalking \u0026#39;crowded\u0026#39; streets of Tokyo in the night The city has completely taken over the rivers, building metro lines and bridges over them, such that the river keeps flowing underneath, yet with little to enjoy. This is not a great site, and, imho, goes quite against japanese love for natural beauty and perfection. Tokyo has a lot of different thematic districts: arts, museums, tech, anime, (fish)markets, transportation, bar, historical, etc. We haven\u0026rsquo;t visited them all, but felt like Tokyo has enough to have you wondering the streets for a month and keep discovering something completely new. The streets seem to be quite safe, even in the dusk and night: we haven\u0026rsquo;t observed any violence of any kind. Nor the wailing of the sirens of a police or first aid car. One thing that I missed from the trip, was certainly the automotive district with the Tokyo drift. well\u0026hellip; another time.\nKyoto The thing I haven\u0026rsquo;t missed, was riding the Shinkansen. Turns out Shinkansen is a network of trains and destinations. All quite pricey(or just similar to Europe train fares), but nonetheless thrilling. Traveling at an average of 280-300 kmph those trains get your across the country in less-then-a-day, which is very convenient. There\u0026rsquo;s lots to do in Tokyo, yet if you want to see and learn about historic Japan - Kyoto is the place to go. Kyoto is riddled with shrines and temples, castles and worship places. Walking the streets of Kyoto you\u0026rsquo;d be running into them evey 20 minutes and if you\u0026rsquo;re determined to visit a set of things - there are days to be filled easily. We came in for 2 nights and barely got the smallest subset of \u0026lsquo;important\u0026rsquo; places visited. Even though Kyoto itself isn\u0026rsquo;t very large, you\u0026rsquo;d be spending at least an hour at each place and of those - there are, as I mentioned, plenty.\n\u0026#39;Kinkaku-ji\u0026#39; or \u0026#39;golden pavilion\u0026#39; For added experience(s) you can book a traditional Japanese AirBnB, instead of a regular hotel, which would immerse you even more into the Japanese ways: those of minimalism and humbleness. You\u0026rsquo;d be staying in a relatively wells-sized apartment, with quite short ceilings, gaping holes in the doorways(including the outside ones) and very few items of furniture. There will be minimal heating as well as minimal ventilation. Miniscule showers and tiny restrooms. Pass-by kitchen and a dining room fashioned in place of a former parking spot. Very traditional, minimalist japanese style. With a tiny garden in the back of the property, not properly taken care of by the visitors, of course. It is an experience, I definitely recommend it, especially if you\u0026rsquo;re staying for a night or two: this way the ways and planning of the palaces and castles you\u0026rsquo;d visiting on your day walks would make so much more sense. If you\u0026rsquo;re quite sensitive to your accomodations and prefer space and warmth, better book a hotel instead. It\u0026rsquo;ll be small, but at least would have a decent shower and be well insulated.\ninspecting and embracing japanese living room Natural Japanese beauty I\u0026rsquo;ve mentioned that most places in Japan are very beautiful: the trees are well kept, the streets are all clean. The pathways are all maintained. No trash or wild grass/mud anywhere. Facades of the buildings, even those that are quite old, are looking quite descent and, most of all, are in harmony with the surroundings. All looks naturally perfect. Naturally: there isn\u0026rsquo;t plastics, or much man-made materials around. The trees seem to just grow of the right shape, the grass seems to just be of the same consistency, even the shrubs seem to \u0026ldquo;behave\u0026rdquo;. But, of course, that can\u0026rsquo;t be so \u0026ldquo;naturally\u0026rdquo;. Japanese put a lot of effort every day to maintain this eye candy. They wake up very early and wipe, re-arrange and correct all the altars. They sweep the streets relentlessly and wipe the windows, tables and benches with no less vigor. They prune each and every tree and go as far as to mold the tree branches with wires while they are the youngest seedling.\nAs a result the tree becomes \u0026ldquo;naturally\u0026rdquo; symmetric and pleasing to look at. After years of fighting against the wire and relentless pruning, the tree is of it\u0026rsquo;s \u0026ldquo;natural\u0026rdquo; \u0026ldquo;beautiful\u0026rdquo; \u0026ldquo;shape\u0026rdquo;. I find this to be a very profound, permeating and powerful trait of Japan. Probably the one thing that made the strongest impression on me. contemplating \u0026#39;natural\u0026#39; beauty over frozen toes Japanese food(and drinks) Two things were hard to find in Tokyo: good vegetarian food and good coffee. You can find them, but you\u0026rsquo;d really need to spend some time looking. The staples of Japanese food seem to be rice, pork, beef and fish(also, my favorite, kitsune tofu, but that\u0026rsquo;s mostly available only in Hokkaido). Rice is usually offered without limits, i.e. \u0026ldquo;take as much as you need from that huge rice cooker over there\u0026rdquo;. Pork usually costs less, beef costs more and fancy sushi would be the most expensive. Japan is a heaven-on-earth for a carnivore eater who likes freshly cooked food. The ramen and gyoza are delicios; yakitories are a sizzling street awesomeness, especially if you find a place with good sauces. Japanese like to eat skins and innards just as much as they like to eat pure meat. Pure groseness to me :). After a couple weeks staying there I found myself missing good vegetarian food and regular bread. The abundance of rice and heavy-sauced meat was overwhelming, the salads were non existent, or underwhelming. I was quite happy to go back: especially now knowing SEA really has quite a few authentic places for ramen and katsu - just the way you\u0026rsquo;d get it in Japan. michelin star rated ramen. izzgood. wrapping up Japan is a very mellow, family and senior friendly country. It\u0026rsquo;s a homeland of imported goods and customs, polished to perfection by 100s of years of island isolation. It\u0026rsquo;s a unique country, very easy and pleasant to travel through, filled with people living the lives of minimalistic ascetism, very punctual and friendly, devoted to whatever was called their life\u0026rsquo;s vocation. It\u0026rsquo;s a place to visit for fresh sea food, stunning \u0026ldquo;natural\u0026rdquo; view and serene meditations. Being one of the most quiet and non-disturbing places on Earth Japan would definitely stay quite high on my \u0026ldquo;visit-again\u0026rdquo; list. I packed my bags full of fresh, individually packaged sweets, tea, cookies and other tasty things, cursing my choices of \u0026ldquo;reasonable\u0026rdquo; luggage, not being able to host all of the packages and bottles I now wanted to take back with me either as presents or as personal treats. Lessons learned for the next travel\u0026hellip;\n","permalink":"https://blog.vnomad.com/posts/travel/2023/japan_ski/","summary":"It started as an innocent idea concluding my 2022 Canada ski trip: what if we went to Japan for ski trip, instead of Canada? Indeed, sometimes the border crossing and car travel time would amount to a length of a direct SEA-\u0026gt;HND. Japan was locked for travel at the time and we decided to commit to it softly, putting little hope on this actually coming to fruition.\njumping ahead, a piece of contemporary japanese art Lo and behold: mid 2022 fall Japan has re-opened for tourism and the place we booked for stay did not go out of business because of Covid.","title":"TRVL: Japan. Skiing, Tokyo and Kyoto"},{"content":"My series 4 apple watch was purchased something like 4 years ago, just to help with running. With the release of the new Ultra and the battery on my trusty friend starting to show signs of wear, I was seriously considering an upgrade. That was, until a great deal on a Garmin 6s watch swooped in and I \u0026ldquo;took a bite\u0026rdquo;.\nThis post serves as a recount my personal experience with the two, since they are truly different devices. TL;DR: I can see myself bouncing between the two, depending on what exactly is going in my life, slightly leaning toward the fenix device atm.\nBut why not Ultra? To my personal liking: it\u0026rsquo;s too large and less visually appealing. The entry level strap also makes me ponder. Then there is the price point: Ultra is not cheap. You can get a 6s at less than half the price. Granted - it\u0026rsquo;s a very different device and I\u0026rsquo;ll talk about this soon, but essentially I concluded Ultra to be too bulky for my \u0026ldquo;every day\u0026rdquo; and less functional for my sports needs.\nThe interesting points in Ultra for me were:\ndive watch. This is cool. I\u0026rsquo;d love to have a secondary dive watch to be my daily regular one. But turns out this one doesn\u0026rsquo;t really work out of the box: only freedive does\u0026hellip; kinda. For the rest you\u0026rsquo;d need a 3rd party app and that would need a sub at extra $$/mo. Ugh\u0026hellip; I guess I can get a used dive watch with a 1-time investment and check the \u0026ldquo;backup\u0026rdquo; box. My bag of gear in PNW isn\u0026rsquo;t light to begin with, so this would be barely noticeable.\nSatellite SOS. Em\u0026hellip; not available standalone. I carry a SpotX with me, should I go deep into the boonies, so having my watch cover that \u0026ldquo;extra safety device\u0026rdquo; would be awesome. It works, but with a phone only and a lot of \u0026ldquo;conditions\u0026rdquo;. I sense this technology might be where I need it to bee in some time, but it\u0026rsquo;s definitely not there now.\nImproved battery, new complication screen with compass, altitude and point navigation. On point, but the fenix 6s device does the same or slightly \u0026ldquo;better\u0026rdquo;, at half the price.\nSo is this fenix so awesome? It is quite a remarkable device. I\u0026rsquo;ll talk about things I like now, but garmin fans may skip to the things I do not, below.\nmuch more health data. Out of the box, additional to sleep time, steps and Vo2Max garmin would tell you much more about your sleep(REM/stress/deep breakdown), altitude acclimation, training load and status as well provide something they call \u0026ldquo;body battery\u0026rdquo; and HRV, both of which I found very helpful in adjusting my training.\nmuch better sports tracking. This might be a no-brainer, since garmin was designed as such, but it\u0026rsquo;s just a \u0026ldquo;night and day\u0026rdquo; situation. The amount of thought that went into designing each activity watch screen shows and delights. You\u0026rsquo;d have different measures and dials for different kinds of sports and the number of supported activities is also quite remarkable. Getting data out of garmin is quite easy too. Using stock Apple activities required me to use RunGap(for a sub $$/mo) to export my data to Strava. I\u0026rsquo;ve been using Strava(app on iWatch) lately to mitigate that, yet Strava had it\u0026rsquo;s limitations on battery life and functionality as well. Basically you get most things you purchase Strava sub for, free with stock garmin watch software. Sweet.\nANT+ for detailed sensor metrics. Later Apple watch models can do similar via BT, but that is much less power efficient and then not all data is transmitted. ANT+ is native to garmin watches which makes pairing it with sensors a breathe.\nmuch better running/marathon/training support. I initially got the Apple watch to train for a marathon. It helped a lot, but I was struggling to keep my run schedules and progress. Stock software doesn\u0026rsquo;t do anything to help and Strava turned out to be of little help as well. Things are much different with Garmin: you can select training from one of the top two world(US?) coaches and the watch would tailor your workouts for the week based on how you did last time/week. It would also be capable to \u0026ldquo;see\u0026rdquo; how much you de-trained if you had to pause and adjust accordingly. You can map you runs with RacePro, switch to treadmill, or do an alternate type of run for the workout very easily and with very little disruption. All of that is free, btw and nicely kept in one place. Garmin simply takes a lot fo the thinking and planning out of your mind, letting you focus on the training itself. Fantastic!\nweb dashboard and daily stats in the app. The app does need some getting used to and this would be a small segway to the next section, but once you do - it\u0026rsquo;s a very useful summary of your workout and day. The web interface is even more elaborate and nicer to look at. With garmin you can even pull the stats to your PA/SmartHome if you really want to(I haven\u0026rsquo;t yet). The Apple Health counterpart is nice too, but I find it even harder to navigate and find the things(health stats) I\u0026rsquo;m searching for ever so often. Both do a good job of feeding you \u0026ldquo;insights\u0026rdquo; now and then, should the software notice \u0026ldquo;a change of trend\u0026rdquo;.\nThe \u0026ldquo;not so awesome\u0026rdquo; garmin parts :) In short, Garmin is a great smart watch sensor/device package, whereas Apple Watch is a great smart watch software organizer package. Most of below is attributed to garmin software and UX/UI. Something very \u0026ldquo;fixable\u0026rdquo; and yet so hard to get \u0026ldquo;right\u0026rdquo;.\nalmost all interaction with Garmin watch is clunky and rigid. You really get used to ease of doing things on Apple watch: touch, swipe and tap away, almost never use the crown/button. Things are exactly the opposite on 6s(7s has a touch screen so maybe things are better there, but I doubt it: UI needs to change as well): you use buttons a lot and you really need to learn them all. They do a decent job with hints, but many times you\u0026rsquo;re left clueless, choosing a button by instinct, hoping it\u0026rsquo;d do the right thing. Sometimes it does. There are parts of the watch I\u0026rsquo;d never stumble into, less I watched some \u0026ldquo;training video\u0026rdquo; or actually read a manual. It\u0026rsquo;s that intuitive. You learn to minimize your interaction with the watch and just avoid using anything other then the \u0026ldquo;current screen\u0026rdquo;.\nwatch faces customization is a nightmare. On the Apple watch I have a few \u0026ldquo;faces\u0026rdquo; that organize information, depending on what I need at any given moment. Switching between them is a swipe away. Not so much on garmin: getting faces is possible and you can even somewhat configure them, but it\u0026rsquo;s quite a lot of time and clicks. And there\u0026rsquo;s no way to quickly change a face on the go(I\u0026rsquo;m aware of). So people either stick to the stock one, or get \u0026ldquo;another one\u0026rdquo; that pretty much includes every possible bit of data the watch can produce on the home screen. This works okay-ish with the larger models, but looks absolutely awefull with the smaller \u0026lsquo;S\u0026rsquo; model I have and like. And(all these data updates) drain battery too.\ncharging sucks. Okay, so you probably do not have to do that every day now, and only every 3-4 days, if you do a couple activities a day, but still, getting that custom port(!) charger attached to the thing is\u0026hellip; underwhelming. And internet has it - the stock wire gets loose over time and you need to buy a custom one. And yes - it vibrates while charging on notifications, so your charging might be disrupted by that. No more throwing your watch on a pad/support for 20 minutes and picking it up after shower: need to carefully charge it for 2-4 hrs in a secure spot. Okay.\ncredit card NFC support is\u0026hellip; present. Like, I\u0026rsquo;ve set it up, and it does work, but it\u0026rsquo;s easier for me to use my phone for payment then to use my watch: you need to enter a pass code every time, using watch buttons. If you make a mistake you need to do it all over again. Compare to pulling out your phone and having the thing on with a face-unlock.\nsmall utility software things are quite cumbersome to use, if available at all. I\u0026rsquo;ve gotten used to setting a timer/alarm or checking my ToDo list on a watch. Also asking Siri for something ever so often or getting directions. Most of these are not really an option on garmin watch. Like, there is a timer, but setting one up is so many clicks on the watch, that I\u0026rsquo;d rather ask my phone Siri to do it. There is an alarm, but so many clicks to get to it. There are world clocks but\u0026hellip; you get it: yes - it\u0026rsquo;s easier for me to use all of these on my phone then my watch. fenix 6s is smart, but it\u0026rsquo;s usable smart only for sports and sports-related smarts.\non that vibration(s)\u0026hellip;. they are quite annoying. I guess I\u0026rsquo;m spoiled by the apple watch\u0026rsquo;s pleasant haptics: there are different styles and you can discern meaning just from the feel of the vibration on your wrist. Garmin fenix has only 1. The one it uses for anything that happens: reached a goal? there it is. calendar notification? there it is. alarm? there it is. Reached a workout milestone? Same strong pronounced vibration. Less the phone had dnd modes of suppressing notifications - sleeping would be next to impossible wearing the thing. In the end, this vibration thing might be the tipping point forcing me to go back to apple watch.\nWrap up. In my world Apple Watch still stands out as a distinctly pleasant to use software smart watch. In terms of UI/UX for consumer features garmin is still quite far behind. And if you\u0026rsquo;re in the Apple ecosystem there are even more integrations to be enjoyed(music, driving, security, continuity\u0026hellip; the list goes on) and missed if switched to garmin.\nAt the same time, for me there\u0026rsquo;s no denying sports and activity/health tracking on fenix 6s is outstanding. Apple Watch is catching up with Ultra, but similarly has years of development and, maybe, patents to work through. If your focus is precision training - get a fenix and an HRM.\nIf giving up Apple ecosystem hurts too much, there\u0026rsquo;s probably a middle ground to be found by connecting an HRM to your new apple watch and getting a better 3rd party sports tracking app. Haven\u0026rsquo;t tried that route yet though :).\nPS: looking at fenix 7s, I see quite a few of my concerns addressed. Should they change the haptics and make and even better charging port in the 8+ model\u0026hellip; that would be a hard to pass one :)\n","permalink":"https://blog.vnomad.com/posts/tea/2023/02/fenix-apple/","summary":"My series 4 apple watch was purchased something like 4 years ago, just to help with running. With the release of the new Ultra and the battery on my trusty friend starting to show signs of wear, I was seriously considering an upgrade. That was, until a great deal on a Garmin 6s watch swooped in and I \u0026ldquo;took a bite\u0026rdquo;.\nThis post serves as a recount my personal experience with the two, since they are truly different devices.","title":"Garmin fenix 6s vs Apple watch 4."},{"content":"Long time ago smart homes were hyped and the next generation of home automation. Beyond your analog timers and motion sensors, wouldn\u0026rsquo;t it be nice to have something a tad more sophisticated to manage all these signals? For the last couple years I\u0026rsquo;ve been growing my smart devices set and hopping between platforms. This post summarizes the journey, currently at Samsung Aeotec Hub stop.\nIn place of intro\u0026hellip; The moment one has an electrical device or switch, 2 maintenance problems arise, somewhat tied to each other:\nswitch operation, and as a result of it: electricity costs In the olden days devices were quite simple and we generally turned them on when necessary and then turned them off when not in use. Even at that time, perceptive of us would wonder: \u0026ldquo;can\u0026rsquo;t the lights just come on when it\u0026rsquo;s not enough light(i.e. dark?)? Or \u0026ldquo;wouldn\u0026rsquo;t it be great if the thing just shut itself off once I\u0026rsquo;m not there?\u0026rdquo;.\nPeople solved this problem in one of 3 ways:\nhave someone else do it for ya: a maid or else would turn on lights at dusk, and switch off things when everyone is in bed. have things on all the time: for the most part, you do not notice electricity-powered devices being on during day time, but it\u0026rsquo;s obviously a waste and a drain on the grid/budget, hence\u0026hellip; constantly obsess about having things on/off only when they are needed/used. It takes a surprising amount of cognitive load to keep the most recent state of all the switches you interacted with in your mind. I mean, it\u0026rsquo;s an exercise for the brain, but it\u0026rsquo;s not one we evolved to solve efficiently, not is it the one I think humans should spend their life/mental power on. Especially when your estate grows and the amount of switches/devices multiplies.\nSo smarter ones of those(humans) started coming up with solutions. Enter the era of\nAnalog devices and tailored solutions. So lets formalize the problem a little bit: there\u0026rsquo;s an electrical device which provides value to you, but only a subset of the time, that needs management. A light bulb in your (home) office serves a great example. You\u0026rsquo;d generally want it \u0026ldquo;on\u0026rdquo; only when you\u0026rsquo;re at work and it\u0026rsquo;s dark in the office. So how do you solve this? \u0026ldquo;Just turn it \u0026lsquo;on\u0026rsquo; upon entry and turn it \u0026lsquo;off\u0026rsquo; upon exit, you dummy!\u0026rdquo; - one would say and be right!\nIf there\u0026rsquo;s a space you enter and exit often though, you might be ok switching \u0026ldquo;on\u0026rdquo; the light, but switching \u0026ldquo;off\u0026rdquo; is something entirely \u0026ldquo;else\u0026rdquo;. A generic timer solves the problem. The problem with this solution is that generic timer has a fixed \u0026ldquo;time\u0026rdquo;. So you can get a motion-detector with the timeout - problem solved! mmmm almost: what if you only want this to be on when it\u0026rsquo;s \u0026ldquo;dark\u0026rdquo;? This motion sensor becomes much more expensive and search for it becomes much more involved\u0026hellip;\nAt this point you have 95% of requirements done and you\u0026rsquo;ve gone through a small zoo of switches/sensors/solutions. the 5% still lingers\u0026hellip;\nEnter smart home automation. It started with bulbs and now it\u0026rsquo;s pretty much in as many devices as you\u0026rsquo;d be interested in. Starting with Z-Wave, ZigBee and lately Thread these devices cost a little extra, but add a great deal of versatility to your day-to-day. Also, since they operate on a separate band, using a separate gateway, that is, most likely, connected to your main net via a single wire, they do not interfere with you regular WiFi needs, which so many have grown so sensitive to. The greatest challenge becomes, instead of choosing devices - choosing the ecosystem.\nNow, let\u0026rsquo;s address the elephants in the room: Google(with google assistant) and Apple (with Siri home automation) and Amazon(with Alexa ecosystem). All of these are very powerful, but they require devices to work over regular WiFi, which, as mentioned above, is a non-starter. WiFi is heavy, power-hungry and unreliable in small devices. So you may still use some of their integration, just to be able to say \u0026ldquo;XYZ - switch off all the lights please\u0026rdquo;, but somehow without the hassle of seeing all of your devices being regular citizens in your home WiFi(even if you\u0026rsquo;ve gone an extra mile of connecting all of them to a separate edge network). So you need a hub.\nOn the market there have been a couple, notably SmartThings and Wink. I\u0026rsquo;ve used Wink for quite a few years with great success. However since they switched to the paid model, I have really seen them make any of their infrastructure more reliable, not have I seen any updates to the app. In fact their user base have grown to inflict outages, that would go unfixed for days at a time.\nThis is when I switched to Aeotec(aka SmartThings with a brand new name). I was surprised not only by feature parity, but with the fact that Samsung platform allows for even more flexibility in configuring and using things, being at the same time completely free. For the first few months there haven\u0026rsquo;t been any disruptions in the service as well. I kept my Wink router just in case things go horribly bad and I have to switch back, but since that time almost a year has passed and I\u0026rsquo;m no way looking to come back to Wink. I still occasionally get notifications from Wink, their services being down. Now that amuses me. The ratio of services outages between Wink and Samsung seems to be, anecdotally 10:1. And it\u0026rsquo;s free.\nIt\u0026rsquo;s also much smaller then Wink, which makes it way more portable. Android users might also enjoy a greater level of support/integrations. And switch isn\u0026rsquo;t that painful. Yes you\u0026rsquo;ll need to reconnect all of your devices\u0026hellip; but it\u0026rsquo;s only upside from there.\nFinally, if you\u0026rsquo;re still putting away switching, hesitating on Wink improving or wondering if SmartThings would be same-or-worse - don\u0026rsquo;t be. It\u0026rsquo;s same-or better, and, as of today, it\u0026rsquo;s also free.\nSo there you have it: buy a Z-Wave/Zigbee/Thread switch-\u0026gt; install-\u0026gt; get the Aeotec hub -\u0026gt; configure via the app -\u0026gt; bliss:\nnow you can tell your assistant to switch off the light. now the light would automatically switch off after 15 minutes but only if you\u0026rsquo;re not in the room and also witch on when you enter but only when it\u0026rsquo;s dark and only to 30% if it\u0026rsquo;s a weekend and then increase to 77% if the desk lamp switches on. but go back to 30% if it switches off, but only on weekdays yes you can build such complicated rules and not only for the switch\u0026hellip; but, in the end, it\u0026rsquo;s all some sort of a switch\u0026hellip; :)\n","permalink":"https://blog.vnomad.com/posts/code/2022/10/wink-smartthings-aeotec/","summary":"Long time ago smart homes were hyped and the next generation of home automation. Beyond your analog timers and motion sensors, wouldn\u0026rsquo;t it be nice to have something a tad more sophisticated to manage all these signals? For the last couple years I\u0026rsquo;ve been growing my smart devices set and hopping between platforms. This post summarizes the journey, currently at Samsung Aeotec Hub stop.\nIn place of intro\u0026hellip; The moment one has an electrical device or switch, 2 maintenance problems arise, somewhat tied to each other:","title":"Smart home automation."},{"content":"In this post I go about my journey into VPNs and conclude TailScale is the GOTO for anyone who needs a nice cheap connectivity tool asap.\nHistory Sooner or later one needs a VPN. Various reasons:\ntest out UX/behavior from a different part of the world access your test server DMZ, while away from your test server LAN verify prices in other country pay your bills through your bank, while abroad Most people today, though, get it for privacy reasons. Most of the marketing around ISPs misses me entirely(as the majority which knows a thing or two about networking). I use VPN for strictly practical reasons:\nwhen the network can\u0026rsquo;t be trusted(no that\u0026rsquo;s not privacy, really, that\u0026rsquo;s more, like, security :)) when the resource I need can\u0026rsquo;t be easily reached via current network For those, in the olden days, I\u0026rsquo;ve tweaked an OpenVPN based set of scripts that would allow me to easily create an instance using some provider, like DigitalOcean or AWS. Within 20 minutes I\u0026rsquo;d have a living OpenVPN connection, based on a data center of choice. I still use this solution from time to time, but it\u0026rsquo;s quite inconvenient for a number of reasons:\nIt takes gd long 20 minutes. Creation requires transmission of sensitive information via network, which, by definition, isn\u0026rsquo;t trust-worthy. Cleanup is necessary later, unless infinite credits or money are assumed(In that case points 1 and 2 do not apply either - one could just pre-create a bunch of instances and switch between them on-demand). Both time and cost are of issue, but since my VPN needs are very infrequent, I made do with those, planning ahead(and not forgetting to clean up later). If it works - do not break it :)\nTime has passed and I figured that a strategically placed raspberry pi solves 98% of my use cases, costs nothing or next to nothing to maintain and is even easier to run PiVPN on it. So it has been a while since I used above set of scripts for anything practical.\nFinally recently I started hitting some serious network speed issues with OpenVPN. That got me looking around again.\nWireGuard Enter WireGuard. This solved my speed issue and is still very easy to set up with raspberry pi: you can use the same PiVPN project! You can even have both on the same pi: just different ports. Very convenient to do side-by-side testing. As a perk: WireGuard did wonders for my MicRouter. Btw, I really recommend this thing as your travel companion for those places that would charge you extra for each mac address used to connect to WiFi! I won\u0026rsquo;t post my speed tests, looks like plenty of people did that before me :) However since I was looking at the market one more tool caught my eye\u0026hellip;\nTailScale I first heard about this tool listening to a tech podcast. It sounded promising, especially the exit node functionality looked appealing.\nbrew install tailscale authorized via GitHub and viola - TailScale is running on my new M1 Pro Max.\nsudo apt install tailscale and it\u0026rsquo;s running on my pi! literally minutes to get this set up and test connectivity: it just works. Next testing the exit node\u0026hellip; that has hit a snag. My internet just stopped working. Awesome, time to test out documentation and support forums! Documentation is solid, I\u0026rsquo;ve found some bits of wisdom here and there, added\nnet.ipv4.ip_forward = 1 net.ipv6.conf.all.forwarding = 1 did not help the issue. But after a couple of weeks, reports and 3 minor versions later it\u0026rsquo;s working with no issues.\nWait. Did I mention that it\u0026rsquo;s free for personal use?\nWait, wait\u0026hellip; Did I mention that the code is available on GitHub and it\u0026rsquo;s Go + WireGuard?\nThe speed of this solution using my mac and pi is still for some reason below my native pi/wireguard/tunnelblick combo, but judging by the way this company grows and addresses issues: I foresee good this coming from them.\nIn summary\nWhile PiVPN/WireGuard is still my to-go tool for personal VPN needs, TailScale grows quickly on me for it\u0026rsquo;s ease of deployment, use and versatility.\n","permalink":"https://blog.vnomad.com/posts/code/2022/02/openvpn-wireguard-tailscale/","summary":"In this post I go about my journey into VPNs and conclude TailScale is the GOTO for anyone who needs a nice cheap connectivity tool asap.\nHistory Sooner or later one needs a VPN. Various reasons:\ntest out UX/behavior from a different part of the world access your test server DMZ, while away from your test server LAN verify prices in other country pay your bills through your bank, while abroad Most people today, though, get it for privacy reasons.","title":"VPN. Open? Wire? Scale?"},{"content":"Few things motivate me more, than exciting new hardware and music. My last post has been over a year ago, and that was when Synology released new exciting NAS options. Side-tracking a bit, 920+ turned out to be well worth it\u0026rsquo;s money: a year later it\u0026rsquo;s still as performant as day 1, though I did have to disable the RW cache on it :).\nHowever today the new M1 Pro Max takes spotlight. Frankly, I was quite thrilled to order it: brand new arm platform, refined for ~1 year since M1 launch. What is it going to be like? I purposefully haven\u0026rsquo;t read much about compatibility and perf tests so that my experience was be kept pristine. And thus, after watching the keynote and learning that my beloved 16 inch form factor is available without the controversial touch bar and a proper row of sturdy buttons instead - i took the plunge and ordered it:\nMacBook Pro (14-inch, 2021)\nChip: Apple M1 Max Memory 32Gb Disk 1Tb I wanted to go 16Gb RAM, but I ended up with 32 and here\u0026rsquo;s why: Max with 24 core GPU cannot run 16Gb. Website just won\u0026rsquo;t let you order that config and it\u0026rsquo;s quite subtle: you toggle that radio button on the chip, suddenly you are another $600 in. I was so surprised that I filed a bug for them. As usual: by design :D. With the purchase of home server, the amount onboard RAM became less important to me. Welp - more RAM is always better. I rarely get baseline models: they tend to be just a \u0026ldquo;sneak peak\u0026rdquo; of what the package was intended to be, so I went for it. Just a month and a few days later it arrived.\nFirst impressions\nIt\u0026rsquo;s thick(that\u0026rsquo;s what she said). It\u0026rsquo;s also heavy: heavier then my former 14\u0026quot; MBP. I really liked the charge cable, even though frankly, with my dock station and urge to move 100% usb-c everywhere I don\u0026rsquo;t see myself using that(charge cable) very often. If only they provided a usb-c of the same quality: that\u0026rsquo;d be awesome.\nThe screen is way better and so far, doing regular office/installation/dev work I did not notice much discomfort with the brow: most tools I use either support it out of the box, or added support recently (like JebBrains Idea, which I use a lot.)\nThe keyboard is very pleasant. I\u0026rsquo;m not a keyboard geek, and for me, the surface keyboard is still the one I like to type on the most(out of the stock keyboards one could buy off the shelf in reasonable time). On 14\u0026quot; model touchpad and keyboard size work perfectly, so that you almost never hit on touchpad accidentally. When using touchpad - it has quite a bit of surface to make mousing comfortable. it\u0026rsquo;s rare occasion for me to reach out for my MX Master\u0026hellip;\nThe noise (aka the fans)\u0026hellip; is absent(stay silent)! Probably the biggest win since the last x64 intel processors. There\u0026rsquo;s virtually nothing in a regular(java/go) development flow that would make the fans scream. Which would easily launch my previous fans full-throttle. Virtualization doesn\u0026rsquo;t do it. Back-to-back installations do not do it. I haven\u0026rsquo;t really processed much video on it yet(still have to unpack and test out my new GoPro10). ~ 1mo into owning this machine I\u0026rsquo;m yet to hear it turn on fans\u0026hellip; Or maybe it did, I just did not hear it :) Either way - works for me.\nThe battery is another big win. After a couple years have passed I had to replace my mbp battery. Even after having done that, (battery) performance wasn\u0026rsquo;t that great. I could do 2-3 hours of development, but I really had to watch my battery. I could only hope to survive a day if it was an office mail-and-chat day (no videoconferencing). The story has completely changed with this little helper: I can do a full day again(yay!). I can also throw in a few video calls and I do not need to strategically plan my position being close to the charger at all times. Way to go Apple!\nSoftware support\nM1 is ARM and that puts quite a bit of hesitation in people\u0026rsquo;s minds. I\u0026rsquo;m no exception. This time I decided to go \u0026ldquo;clean install\u0026rdquo; such that none of the x64 \u0026ldquo;junk\u0026rdquo; creeps into the new platform(there turned out to be way more then just \u0026ldquo;x64 stuff\u0026rdquo;\u0026hellip;) and I get native versions instead, when available. Another hesitation was around Rosetta compatibility: would I need to do anything extra? How smooth is it?\nMy worries were greatly exaggerated. It might have well been an issue at M1 launch, but it\u0026rsquo;s definitely not an issue anymore. Most things are installable via Brew casks these days and you\u0026rsquo;ll get an arm version if one is available or an x64 version if not. Both would launch just like native. I haven\u0026rsquo;t noticed any lag or perf issue for the apps I use. Here is quick rundown of notes I\u0026rsquo;ve been taking while installing:\nThings installed via brew: Tunnelblick, Skype, VLC, GPG suite, docker(client), jdk, Parallels, Steam\u0026hellip; Things that did not work: Plex player(can be replaced with web version) docker-machine(it \u0026lsquo;kinda works\u0026rsquo;) Tor(installed but did not work) parallels x64 vm(duh!, but the move to 11 arm was almost painless, more on that below) Things that required a separate install Office365 (thanks, Microsoft!) Paragon FS tools (grab the 50% off deal from you account!) Things I moved manually and they worked with no issues TurboTax 2008 anything else I moved? I think I moved something else\u0026hellip; anyway: it just worked. Games\u0026hellip; That is a bit more sad, but still quite a lot of things work via steam: Doom FTL / IntoTheBreach MadMax BattleTech Worms :) Civilization 5+ and these do not Portal Counter Strike On the games note, one game I keep playing since \u0026ldquo;forever\u0026rdquo; is HMMSoD, which has now become HoTA(combining HD mod with some nice improvements). Interestingly, after installing fresh win 11 arm via Parallels HoTA ran there smoothly in compatibility mode. Crysis averted! No such luck with Age Of Mythology. The game installed and ran, however custom Apple graphics hardware + Parallels emulation doesn\u0026rsquo;t let it happen. I have a strong feeling the game might be fooled/forced to still run(HMMSoD is older and still runs), but I just can\u0026rsquo;t make myself spend that much time on this, minding my windows rig is just 1 network hop away\u0026hellip;\nA note on time machine All the simplicity and greatness of Apple time machine shines when one uses it as intended: to restore a mac or to restore files from within a mac that is connected to said time machine(backup). Things get a bit more cumbersome when one just needs to pull a fricken file off the encrypted backup\u0026hellip; See you can\u0026rsquo;t just open a source and explore a-la-carte: full restore or nothing it is. So I opted to just manually backup my user directory to an external drive\u0026hellip; Sound reasonable, right? kinda wrong :) Doing a simple cp -r of a 500Gb driver(filled 75%-ish) resulted in 1.2Tb of \u0026ldquo;copying\u0026rdquo; on the NAS\u0026hellip; at which point I stopped the while thing and cherry picked stuff I needed manually. Worst case - can restore into the previous one, draw files and restore back into the current one. But now that the disk is 1Tb this just takes quite a bit of time and really reminds me of\nI just need a few files, okay? Why can\u0026rsquo;t I has easily via some TM UX? Is that so much to ask?\nIn summary\nI\u0026rsquo;m very happy with my purchase: better screen and power with very little migration issues. Let\u0026rsquo;s see how this works out over time. I\u0026rsquo;ll try to post any interesting migration issues as those happen. Super curious to test out video performance\u0026hellip;\n","permalink":"https://blog.vnomad.com/posts/code/2021/12-06/macbook-pro-max-migration/","summary":"Few things motivate me more, than exciting new hardware and music. My last post has been over a year ago, and that was when Synology released new exciting NAS options. Side-tracking a bit, 920+ turned out to be well worth it\u0026rsquo;s money: a year later it\u0026rsquo;s still as performant as day 1, though I did have to disable the RW cache on it :).\nHowever today the new M1 Pro Max takes spotlight.","title":"x64 Macbook Pro -\u003e Apple Silicon Macbook Pro Max"},{"content":"Back in 2013 I got myself a Synology DS413j, which has proven to be a reliable companion for me though these 7 years. I used it for file backup, media streaming and as a TimeMachine destination pretty successfully. Any such station needs good drives to provide value, and drives, as many of us know, are pretty unreliable. In 7 years I replaced about 6: 2 were bad right after arrival, and another 4 went bad as the years went by. Only 2 original drives, purchased back in 2013, are still in service.\nTo suss out bad drives sooner, rather then later, I used a small java tool I wrote. The idea behind the tool was simple:\nwrite -\u0026gt; record -\u0026gt; read -\u0026gt; verify\nDefective drives would actually fail pretty quickly on the first full write and read. Or they would exhibit bad sectors after the sequence: those were returned by warranty very easily and expediently.\nThe tool was written quickly, held many unnecessary things in memory, ran sequentially, but, most importantly, it worked. That was till the drive size grew and suddenly my little tool started to OOM closer to the end of the verification phase. Of course I should have profiled the tool and improved it\u0026hellip; But I do that(profiling and improving) as my day job, so instead I decided I can practice a language way better suited for things like that\nGo\nSo I simply rewrote my little tool in go, and this time, made it open source. Welcome DiskTest. Now you can easily stress-test you drive like this:\ndisktest --size=\u0026#34;10TB\u0026#34; /mount/driveZ It should would use minimal RAM(about 100MB, most of which would be dedicated to 20MB IO buffers) and run up to the limit of your drive\u0026rsquo;s IO.\nWhile at it also came across a few useful commands for dealing with drives/partitions for linux. I\u0026rsquo;ll just list them here for posterity:\nChecking drives and any partitions present\nlsblk fdisk -l making partitions\nmkfs.XXXX /dev/sda where XXXX is the partition type, i.e. xfs, ext4, etc.\nChecking for bad blocks:\nsudo e2fsck -c -v /dev/sda1 badblocks -b 4096 -s -v /dev/sda1 The first one invokes the second one along other checks. However the first one doesn\u0026rsquo;t work with xfs, which may be a deal breaker.\nSince your drive is probably S.M.A.R.T, using bablocks might yield nothing, since the drive firmware would map those away transparently for any OS process. To know for sure, you\u0026rsquo;d want to check S.M.A.R.T info on your drive. That is usually quite simple with Synology or any GUI shell, but if you\u0026rsquo;re not there just yet and would like to know - these things were of help for me:\napt install smartmontools --no-install-recommends smartctl --all /dev/sda IF the output says that the test hasn\u0026rsquo;t been run, you probably want to run one :). At least a short one:\nsmartctl -t short /dev/sda smartctl -t long /dev/sda So I got the new DS918+ to test it and the drives :). While testing drives for my new setup I experimented with a couple ways of loading the drive IO, monitoring the overall throughput via\niotop -o My general finding is that IO-wise running 10 threads in parallel against the drive is just as fast as running 2, just eats more RAM for the buffers.\nAnother interesting finding was disk IO speed at saturation points: closer to the disk being 100% full disk write speed deteriorated greatly: went down to single digit M/s. I did not take the time to understand if different FS would handle this differently, but this little observation re-iterated the rule of keeping at least 15% of the drive free at all times.\nLast but not least, before selling/trashing your old drives you might want to consider\nshred -vf /dev/sda Synology, again, has the same tool avoilable via GUI, however you won\u0026rsquo;t be able to run it on the last drive(where Synology is intialized).\n","permalink":"https://blog.vnomad.com/posts/code/2020/disktest-go-and-synology-nas/","summary":"Back in 2013 I got myself a Synology DS413j, which has proven to be a reliable companion for me though these 7 years. I used it for file backup, media streaming and as a TimeMachine destination pretty successfully. Any such station needs good drives to provide value, and drives, as many of us know, are pretty unreliable. In 7 years I replaced about 6: 2 were bad right after arrival, and another 4 went bad as the years went by.","title":"DiskTest in go and Synology NAS"},{"content":" Учітеся, брати мої,\nУчітесь, читайте ,\nІ чужому научайтесь ,\nСвого не цурайтесь! [Т. Г. Шевченко] На днях на очі потрапила чудова стаття, що непогано підсумовує міркування багатьох людей навколо мене(не дарма поширена більше 9 тис. раз). Текст відносно короткий, проте коментарів викликає чимало і, щоб, як то кажуть, \u0026ldquo;три рази не вставати\u0026rdquo;, я вирішив викласти свої коментарі сюди\u0026hellip;\nАле, з початку, невеличкий ліричний відступ :)\nДо появи інтернету щоденним джерелом інформації була газета, радіо, чи то пак телевізор. Друкуватись в газетах було дорого; радіо і телебачення були також не з дешевих, та, в основному, контролювались державою. Потік інформації був доволі одноманітний(інформаційне поле було вузьке), а у головах було, в основному, дві гілки мишлення: те що в радіо/телебаченні і те що людина думала сама. Такий собі дуалізм думок: правильна і державна.\nІнтернет все змінив: \u0026ldquo;друк\u0026rdquo; і розповсюдження інформації стали доступні усім, або майже усім. Сучасні телефони та планшети мають куди більше видавничої потужності і здатності \u0026ldquo;досягнути\u0026rdquo; читача, ніж колишній середній друкарський прес. Наявність міркувань \u0026ldquo;усіх\u0026rdquo; в широкому доступі(як, наприклад, цієї) породила такий собі плюралізм думок.\nВсе б чудово, але плюралізм також породжує проблему вибору правильної думки. Особливо, коли думки подані грамотно. І що ж тоді? Та просто все: аби зберегти здоровий глузд а також купу часу кожен собі із плюралізму вибирає(і втікає в) свою, так звану, ідеологічну ехо-камеру(як наприклад оця чи ця). Привіт друже дуалізм! Така поведінка практична, але не раціональна: вона ніяк не розширює інформаційне поле а лише створює іллюзію наявності такого.\nВідступ завершимо і повернемось до статті.\n\u0026ldquo;Сповільняться темпи зростання економіки в усіх країнах\u0026rdquo; - правда, підтверджена джерелом(15 сторінок всього - навсього). \u0026ldquo;Україна, маючи мізерний стартовий рівень при середніх темпах зростання, залишиться далеко позаду азіатських країн і стане найбіднішою країною світу.\u0026rdquo; - висновок автора. Україна у джерелі згадується рівно на 2х графіках(а от Швейцарія - на жодному :). Про найбідніші країни в джерелі не йдеться узагалі. Із таким самим успіхом у твердженні автора \u0026ldquo;Україна\u0026rdquo; можна замінити на \u0026ldquo;Швейцарія\u0026rdquo; або \u0026ldquo;Польща\u0026rdquo;.\n\u0026ldquo;Зросте протекціонізм у торгівлі, частка сировинних товарів впаде\u0026rdquo; - правда, підтверджена джерелом(175 сторінок всього - навсього). \u0026ldquo;літаки \u0026ldquo;Мрія\u0026rdquo; збираються на обладнанні минулого століття.\u0026rdquo; - правда( достатньо 15 хвилин пошуків по вікіпедії і офційним сторінкам). \u0026ldquo;Населення сировинної, аграрної України втратить останні джерела існування, а бізнес та уряд держави залишаться без внутрішніх ресурсів для розвитку.\u0026rdquo; - додумка автора. От Індія, згадана у попередньому розділі, з такими ж(подібними) даними стане 3-ю економікою світу, а Україна загнеться значить. ОК.\n\u0026ldquo;Річна виручка Apple і України\u0026hellip;\u0026rdquo; це взагалі смішно - 226:26. От наприклад порівняємо виручку Apple і Польщі буде 226:79. Або виручку Apple і Россії 226:206. Можна ще що - небудь порівняти з компанією країни, що домінує на міжнародному ринку і друкує стандарт міжнародної валюти\u0026hellip;\nІ так практично все у цій статті. На неї можна витратити чимало часу і здоров\u0026quot;я, проте на такі статті є доволі хороший \u0026ldquo;life hack\u0026rdquo;: беремо якийсь доволі значний кусок статті і шукаємо його у мережі. Не знаходиться - цілком імовірно що це оригінальна стаття і людина так дійсно думає. Знаходиться - аналізуємо що знайшлось. Для цієї статті я випадково обрав \u0026ldquo;літаки \u0026ldquo;Мрія\u0026rdquo; збираються на обладнанні минулого століття.\u0026rdquo;. Знаходиться купа доменів, передруковуючих Ірину Боднар-Коваленко та Олексія Жмеренецького. Навіть соціалістична партія Вітренко\u0026hellip;\nКопірка:\nКрок 1: беремо факт Крок 2: підручуємо трішки неточностей Крок 3: робимо висновок \u0026ldquo;усе пропало, шеф\u0026rdquo; Такі статті у нас знаходяться практично по всіх \u0026ldquo;больових\u0026rdquo; точках. Дороги ремонтуються (нові дороги), чи не ремонтуються (напрямки залишаються)? Людей гине багато чи мало (кількість смертей на дорогах\\АТО)? Бюджет став позитивний (15 мільярдів +), чи борг який був (борг 77.5м), такий і залишився (дефіцит на 2018 рік). Чи насправді це не важливо (176млрд станом на 3й квартал)? Експорт збільшився (на 24 %), чи зменшився (деградація економіки раз, два)? А якщо подивитись у іншу сторону(експорт в ЄС, ріст агросектору)?\nВ країні, між іншим, на сході війна. А люди роблять гроші. Як? Та просто працюють. Бюджет далі розкрадається. На заході це розуміють: раз, два. Зміни за день не відбуваються, мирним шляхом. Але траєкторія все-таки не така вже й нездала. Так - це не незалежна траєкторія сильної держави, всім це зрозуміло, проте\nбудівництво росте - значить люди купують квартири бізнес стає проззорррішим навіть знайшовся спосіб друкувати українські книжки і добувати електроенергію з вітру Окремо продено ряд реформ(гроші вище просто так не дають):\nреформа освіти реформа медицини реформи бізнесу/податків пенсійна реформа Так народ втомився і їде(я в тому числі, проте стан країни це тільки половина мотивації: менша). Але негатив це не єдине що відбувається з Україною.\nРеальна картина, як на мене, малюється у матеріалах, де політики мало. Наприклад тут, або тут, або тут. Якщо ну зовсім лінь, то можна підняти держкомстат.\nЯкщо навколо зібралось надто багато негативу - ось декльіка лінків із \u0026ldquo;позитивом\u0026rdquo; : телеграм, ютуб. Їх також потрібно акуратно читати, бо може скластись враження, що в Україні прямо все чудово і наступного року доллар ну зовсім не буде 30.\nРаніше можна було \u0026ldquo;сходити в інтернет\u0026rdquo; і почитати \u0026ldquo;що насправді\u0026rdquo;. Більше так вийде - треба або опрацьовувати матеріали самому, або платити гроші за солідні видання/огляди, котрі шанують свої репутацію і бізнес. А безоплатно можна собі хіба настрій попсути ).\n","permalink":"https://blog.vnomad.com/posts/tea/zradofila-vs-porohobot/","summary":"Учітеся, брати мої,\nУчітесь, читайте ,\nІ чужому научайтесь ,\nСвого не цурайтесь! [Т. Г. Шевченко] На днях на очі потрапила чудова стаття, що непогано підсумовує міркування багатьох людей навколо мене(не дарма поширена більше 9 тис. раз). Текст відносно короткий, проте коментарів викликає чимало і, щоб, як то кажуть, \u0026ldquo;три рази не вставати\u0026rdquo;, я вирішив викласти свої коментарі сюди\u0026hellip;\nАле, з початку, невеличкий ліричний відступ :)\nДо появи інтернету щоденним джерелом інформації була газета, радіо, чи то пак телевізор.","title":"\"Порохоботи VS зрадофіли\", або медійна інформаційна війна триває."},{"content":"It\u0026rsquo;s rare that a blog has 0 images. Hosting them on the same box as the blog instance is the easiest solution, but it comes at a cost: disk space and page load speed. Unless you are a professional blogger, you are also not ready shell out many $$ for a CDN, so what options are there?\n1. Reference images on the web. That works well in the beginning, but soon some of the urls start to die(server moved/content updated/etc). Thus this is not a great solution, especially when you have your custom content to share. Enter..\n2. Use a cloud file storage service, e.g. GDrive/OneDrive/iCloud/DropBox/etc. GoogleDrive I used to store my content on GoogleDrive. There is a way to get a url for your content, and it will most likely work. Until google decides to change the way it serves content or closes the API altogether. At the moment, the worst thing about this method is having to manually parse/create urls for your content.\nOneDrive OneDrive offers similar functionality without url manipulation. It works well and even offers some dynamic sizing options for your content, however I quickly ran into problems:\na) links are absurdly long. Here is a sample link, OneDrive generated for me: https://vfybkq.bn1303.livefilestore.com/y4mGqBlcQGSIsuw6OFD-MyiXqy5dq-7DqQCgrXbP8kko6a9YT1Fr8ggCKZtEAdbDOqQa1eLNBJs9ZrWtimhlGd9Kum54jI9nWD-XvxFXe82LAKj11EtvUynlpcA6w__DOYjkaDPllOF-Xrs5acIf_p5kh7S9c8p_kGs3qjzXwko2tXxqSDt1Oe9himcpdzjiofihRH_N4cHAKRqiHvGui1g?width=3072\u0026height=1728\u0026cropmode=none gnarly, eh?\nb) OneDrive screws up your PNGs. Filed a bug about that, so this should get fixed eventually, but for now PNGs are served with a black background.\niCloud and DropBox do not really provide embed functionality. Or at least I was not able to find it readily. They provide you a way to share your content in a form of an album or a link (like this one https://www.dropbox.com/s/f0xeaz2asdwi31lv/IMG_1710.JPG?dl=0 ) to a specific photo, but that(link) would load the whole website and also, probably, sell some ads).\nOut of all these gdrive was the only working, but also quite painful solution. I needed something better\u0026hellip;\n3. AWS S3. Is a very simple service. You might argue it\u0026rsquo;s not free, but I\u0026rsquo;d counter that it\u0026rsquo;s not super expensive(cents per GB of storage/transfer/requests). However it is very simple and pleasant work with: you can use a variety of tools for getting your content into the bucket. Once there, sharing is as simple as https://s3-dc-name.amazonaws.com/bucket-name/resource_name.jpg. That is it! You can just use that url and you content would load correctly and reasonably fast(depending on your requirements). All of that would cost you cents a month if your site is not content heavy.\nImo, this should satisfy most developers. If you want to go further,\n4. AWS CloudFront, Cloudinary and other CDN\u0026rsquo;s. AWS is great in a way it is simple, well-priced and reliable. However it might not be the best solution for you: if AWS is just something you do not feel good about, Cloudinary is a great place to start. They have a free tier that should satisfy a medium blogger and, most importantly, they have an absolutely lovely url api for content transformations.\n","permalink":"https://blog.vnomad.com/posts/code/2017/blog-images-using-cdn/","summary":"\u003cp\u003eIt\u0026rsquo;s rare that a blog has 0 images. Hosting them on the same box as the blog instance is the easiest solution, but it comes at a cost: disk space and page load speed. Unless you are a professional blogger, you are also not ready shell out many $$ for a CDN, so what options are there?\u003c/p\u003e","title":"CDN image hosting for blog'"},{"content":"Two weeks ago my blog was hosted on a 10$/mo vps instance in DigitalOcean, powered by a couple docker containers, running an ever dynamic Wordpress platform. Now it\u0026rsquo;s completely static, served from GitHub Pages servers free. What follows is a small experience reco/guide on how to make this happen.\nTL;DR link explaining the process.\nMotivation Running on a small vps with wordpress was nice, but not inspiring: I moved there from (google)blogger platform, which at that time was one of the fastest ways to bootstrap a blog, seeking something, that is more editor/code/content friendly. After all, Wordpress, with the heritage of catering to bloggers around the world, was a promising platform to look at. The things that I was looking for included:\nclean readable design/theme easy to use editor, preferably wysiwyg easy basics: tags, archive, search, comments, bio etc. After getting a closer look it turned out that Wordpress is a very bare-bones platform: plugins+themes are the things that make it beautiful and functional. I spent a lot of time looking for a functional simple free themes/plugins that would make my blog look readable on both mobile and desktop. I found one, but ultimately I wasn\u0026rsquo;t happy with it. On top of that my vps docker system kept asking for more RAM to keep MySQL, Varnish and a couple NGinxs satisfied. It was the time I realized I need something way simpler and more developer - oriented.\nEnter HUGO HUGO is static pages generator, written in Go. It comes with a fast server, that takes about 30 MB mem to run on site of this size(which is not large, but not exactly empty either). You write your posts in markdown, which is currently what I breathe, and you can literally program you pages(with go-like syntax), should you really want to. You need to keep in mind everything is static in the end, thus, should you want your site to be responsive, you\u0026rsquo;ll have to use javascript.\nHugo has support for most things you\u0026rsquo;d want to have: tags(taxonomies), categories, metadata, templates for different types of content, ready to use themes and internationalization support. That being said support !== ready to use out of the box. In other words one can build pages that have all the features mentioned, using the framework, but you need to do the legwork\u0026hellip; or not ).\nEnter TranquilPeak theme TranquilPeak is an open-source theme that has most of the basics implemented for you, using hugo\u0026rsquo;s framework. You can easily extend it if you wish. Thus blog runs it, so feel free to look around, but there is a showcase available as well. I won\u0026rsquo;t talk much about it here, as the docs are quite exhaustive, suffices to say that the theme comes loaded with goodness like\ndisquss for comments fancybox for images google fonts support (essentially any custom css/js support) font-awesome icons highlight.js compatible Migration experience The goal was to get my wordpress running on GitHub Pages, with a custom domain. I also prefer my content to be versioned separately from the framework, therefore I went with git worktrees workflow as described below. As described here, use the exporter plugin to get your content out of wordpress. I\u0026rsquo;ve hit problems right there, on step one:\nFatal error: Class \u0026lsquo;ZipArchive\u0026rsquo; not found in /var/www/html/wp-content/plugins/hugo-export.php on line 403 Solution: make sure you have zip installed and enabled(in php.ini) on your machine. php info would be you guiding light. I was running an old wordpress:4.6.1-fpm bare container hence apt-get was useless. If you are in the same or similar boat that I was - upgrade to latest wordpress:4.8.3-php7.0-fpm then use docker-php-ext-install zip\ninside the container. Restart the container - now it(export) should work.\nInstall tranquipeak theme\nThere were no problems for me doing this. Configuring the theme takes a while, especially if you decide to change fonts, highlights etc.\nTest everything works by running hugo server or hugo to generate files.\nNow host the thing on GitHub Pages, using this guide\nI had several problems here where I could not select the branch to publish from on github, or my CNAME was not working. The remedy was to follow the steps and instructions exactly as prescribed by github, namely:\nCreate a new project.\nCreate the index.html page\nSet your project to be GitHub pages in Settings.\nPull your project from GitHub.\nMake sure you have latest git installed and follow the guide\nI had a problem here where wit git worktree: fatal: Refusing to point HEAD outside of refs/ solved, by updating to the latest git.\n6 Add CNAME file, containing your domain name to your gh-pages branch root\nProfit!\nHope this helps people, should they have trouble. Also, if you have problems following these instructions - let me know in comments.\nPS: In my NGinx:Varnish:NGinx:Php-fpm:MySQL Wordpress setup I went overzealous on the HSTS header\n# Set HSTS to 365 days add_header Strict-Transport-Security \u0026#34;max-age=31536000; includeSubdomains; preload\u0026#34;; So now people, that visited my blog a year ago, and haven\u0026rsquo;t cleared their cache since, will be forced to https, which would yield nothing, since custom domains are not served through https yet from GitHub Pages. Oh well\u0026hellip;\n","permalink":"https://blog.vnomad.com/posts/code/2017/migrate-wordpress-to-hugo-github-pages/","summary":"\u003cp\u003eTwo weeks ago my blog was hosted on a 10$/mo vps instance in \u003ca href=\"https://www.digitalocean.com\"\u003eDigitalOcean\u003c/a\u003e, powered by a couple docker containers, running an ever dynamic \u003ca href=\"http://wordpress.com\"\u003eWordpress\u003c/a\u003e platform. Now it\u0026rsquo;s completely static, served from \u003ca href=\"https://pages.github.com/\"\u003eGitHub Pages\u003c/a\u003e servers free. What follows is a small experience reco/guide on how to make this happen.\u003c/p\u003e","title":"Migrating wordpress blog to hugo and hosting it with GitHub Pages"},{"content":" In my previous post I was rambling about Seagate BlackArmor and my sad experience with it. Apart from the sadness it also has my initial thoughts and requirements, so I won\u0026#8217;t duplicate them in this one. But, to keep consistent with the previous review I\u0026#8217;ll go with the same headings/experience areas. That being said \u0026#8211; here we go! DSJ413j Half a year has passed and I\u0026#8217;ve been using Synology NAS for all this time. I ordered it from Amazon and off it came right in the delivery timeframes, ready for my experiments and scrutiny. Packaging and build quality. I couldn\u0026#8217;t be impressed more. Apple usually is a master in packaging their products, but these guys(synology) can stand up the competition. Everything in the box was perfectly packed a secured in a very little amount of space yet preserving a pleasant unpacking experience. One of the nice things is \u0026#8211; when I was moving I managed to pack it with the box I saved just as if it was never unpackaged. Somehow they thought out the packaging in a way you use all the parts, perfectly seal the device and accessories and you have no junk left:) \u0026#8211; KUDOS! Build is a step up from the aforementioned NAS. All the parts that were plastic in seagate are metallic in synology. The drive bay has 2 solid fans and the drives themselves are secured inside the bay with bolts. Accessing the drives is also not that easy \u0026#8211; you have to unscrew 4 bolts at the back, lower the back panel with fans and then get to the drives. This is not as convenient as seagate\u0026#8217;s open-dorr-click-and-take-away system, but how often do you actually want to replace drives inside your NAS? 😉 Other then that Synology is about the same size and noise, although heavier(due to metal parts). Move on to usage:) UI and Software. It comes with DSM 4.2. Usually, when you log into the web interface you would expect some semi-lame web app that\u0026#8217;ll link you to the features of your device. Not the case! Not even close! DSM web interface if one of the most(in not just the most) advanced web interfaces I\u0026#8217;ve ever seen. It\u0026#8217;s all ajax and feels like a fine-tuned linux window manager. you literally have a web-like sort-of OS, working on your NAS giving you full control over it. Pages can be written about all the possibilities you have with the built in apps and there\u0026#8217;s even more with thirds party packages. Literally, everything I might have thought/dreamed about that I could combine/use NAS for \u0026#8211; is already there. With a nice, multitasking, rich intuitive and responsive interface. I won\u0026#8217;t go into much details about the apps \u0026#8211; there\u0026#8217;s just too many of them to cover and each and every of them deserves good comments. Those who want to learn more \u0026#8211; I welcome you to use link I mentioned a couple lines up. In 6 months I\u0026#8217;ve never seen any app crash or misbehave. Neither did I see any hardware faults or reboots. Stable. Reliable. The worx. I did the same tests, that I had done for the previous NAS. They all showed good consistent results, so I went on started configuring and placing my data on it. For some reason new apps did not want to install to second partition, so I had to use the first one for all the apps and the second one for all other stuff which was not my initial plan. Whatever. I checked the read/write speeds and they were almost at what the specs were saying. Later I tested out 2 simultanious clients accessing 1080p video from the device, while one other device was listing pictures from it. They all showed decent performance and that is probably the biggest load I\u0026#8217;ll ever put on this device. So in general \u0026#8211; it worx:). The problems. I did not have them:) There was one problem I had not being able to set up Glacier backup from my NAS after I moved. But luckily they do have support forums which helped me understand that my time was not synchronized. After I fixed the time issue everything worked like a charm. Summary. pros: + build quality + realiability + software + configurability cons: \u0026#8211; pricey Bonus. It costs around 2.5 times more than seagate, but I\u0026#8217;d say it\u0026#8217;s worth every penny I paid. In fact I was so happy with my purchase that I spread the word around and now a couple of my friends also have similar setups. And neither of them is unhappy. These boxes just work, so far.*all pictures are referenced from www.synology.com ","permalink":"https://blog.vnomad.com/posts/code/synology-ds413j-nas/","summary":"In my previous post I was rambling about Seagate BlackArmor and my sad experience with it. Apart from the sadness it also has my initial thoughts and requirements, so I won\u0026#8217;t duplicate them in this one. But, to keep consistent with the previous review I\u0026#8217;ll go with the same headings/experience areas. That being said \u0026#8211; here we go! DSJ413j Half a year has passed and I\u0026#8217;ve been using Synology NAS for all this time.","title":"Synology DS413j NAS"},{"content":" So I decided that I\u0026#8217;m sick and tired of plugging in and out usb drives. Be it my tiny 16GB daily thumb drive, or store-it-all 2TB external seagate \u0026#8211; this is a pain\u0026#8230; And to make sure everything is stored you have to \u0026#8220;detach/remove\u0026#8221; them safely all the time. And than eventually you need more storage(or will need) and expanding this kind of solution means more devices OR significantly more money. This is long and tedious so for quick and impatient there\u0026#8217;s a summary at the end.\nBelieve it or not more money is inevitable so I decided to try and reduce the number of devices \u0026#8211; pile everything up in one place \u0026#8211; shall it stay safe and robust and accessible at all times. NAS. I had very few requirements:\nat least 4 bays to be able to play with RAID 5/6/10. 3.5 drive interface to keep them cheap \u0026#8220;quiet\u0026#8221; feature \u0026#8211; at this would stay in my room. robust and reliable. BlackArmor400 \u0026lt;/div\u0026gt; I had a couple of Seagate drives before and overall my experience with them was good. Nowadays you can find complaints about pretty much any manufacturer and any product so I did not really pay attention to what others said \u0026#8211; was looking for my set of requirements for the right price. And there it shines \u0026#8211; perfect solution for all my needs and even a little bit more! Remote management, encryption, DDNS, configurable backups, all-you-can-imagine media sharing, internal downloader and more \u0026#8211; sweet!\nSo I went to Amazon and ordered one. It was just before new years so I received my order in a month \u0026#8211; but that was not urgent: storage is not smth. that one should make haste with IMO. Packaging and build quality.\nI was actually impressed \u0026#8211; the thing was of manageable size, pretty compact and fitted into my nightstand lower deck. Loading this thing up with drives was super easy \u0026#8211; it had a smart clip drive holding system. No installation \u0026#8211; you can install some discovery program from CD but really \u0026#8211; you do not need it. The only thing it does \u0026#8211; it finds the IP of your NAS and forwards you to the browser.\nThus overall I was pleased with build quality: yes it was not top notch aluminumnickel but mostly plastic. Yes it was a bit rough on the edges. Yes the green screen was smth both enjoying and amusing, but for the price it was absolutely great and matched my needs in full. I was not going to use this in hazardous environments and I do not have little kids so that I would really worry about the build and plastic. The chip and software is what mattered\u0026#8230;. UI and software UI Console look More images below in the gallery.\nUI was slow. As a developer I\u0026#8217;m used to wait times. I\u0026#8217;m patient. But even for me it was tad slow. It was intuitive though. I quickly found my way around without the manual but then the limitations kicked in\n\u0026#8211; you have have a usb stick plugged in to the first usb slot(and only 1st, which front btw) if you want encryption\n\u0026#8211; you have to have entire volume encrypted\n\u0026#8211; you have to wait all surface scan and zero-out if you change anything about the volumes(and it lasts about 8 hours on my 2TB drives)\n\u0026#8211; you cannot have a read only share(bummer!)\n\u0026#8211; you have to do 1 thing at a time or else everything you configured before may get messed up and only hard reset followed by total zero-outcheck of drives(8 hours again) will save you\n\u0026#8211; and probably many other I did not discover due to I did not plan to use that functionality at all.\nBUT I went through all this, patiently, believing that once I get this linux set up and working \u0026#8211; it\u0026#8217;ll be rock solid and serve me well for many years. That is how it is usually done with linux \u0026#8211; you get it for cheep, but you pay with your time. Your configuration is a pain, but after all it worx (period) The worx.\nSo I wanted to make sure that I can rely on this thing once I configured it. So I wrote a little program, that would generate a set of files, get their md5\u0026#8217;s, measure speed and have some brain to verify that files later. After all, the only way to understand if the drive would work for you \u0026#8211; is to fill it up with data and see how it performs on parallel reads/writes. I\u0026#8217;ll post the code soon to github in case anyone would ever need it. I will.\nI started it up on 2 computers: one writing to encrypted partition, other \u0026#8211; to public one(both raid 10) and a few days later I had my NAS populated with dummy, but recorded data. Thus: write speed turned out to be much slower for the encrypted volume than for the public one \u0026#8211; around 2-5 Mb/s VS 5-7 for the unencrypted. read speed was good for both 10Mb/s for encrypted and 15-20 for unencrypted volume. That was more than satisfying for me. I do not really need fast write, and that yields enough speed for one HD movie stream. Next were the problems tests that I was planning to execute \u0026#8211; like remove a drive and see how NAS tackles it. But I did not have to do this problems arrived by themselves\u0026#8230; The problems.\nAnother morning I woke up and found out that NAS reports one drive to be failed. No big deal \u0026#8211; take it away and put a fresh new one. But I wanted to test out the speed and file integrity before doing this. So I launched my program again in test mode and an hour later my second drive was reported to be failing. Now I was in doubt, because the filesystem was still available. 2 hard drives from one branch of raid 10 fail and FS worx\u0026#8230;how? Well. I restarted the NAS and drives showed up as good but both volumes showed degraded. Then 2 drives rendered failed and public volume remained degraded. Let me remind you that both volumes were based on same drives with same raid setting. Next the unpredictable happened \u0026#8211; all data from public volume disappeared. Volume was mountable, however displaying 90% full and empty at the same time. So I decided to take both of them and inspect in the external enclosure. The drives indeed turned out to have bad sectors on them. Fedora immediately told me that I want to replace those drives. BUT they were readable and fine. a couple of bad sectors could have been easily remapped afaik\u0026#8230;.\nSo I decided to give this NAS the last try to restore the disks with the spare drive I bought just for this purpose. Actually I decided to give NAS a chance to do what it was essentially bought for \u0026#8211; tackle the hardware problem. But after I inserted the disks back(nothing was done to them \u0026#8211; I just ran disk utils and gparted, I did not repair or remap anything. and yes \u0026#8211; I labeled all drives before putting them into nas). \u0026#8211; NAS told me that \u0026#8220;Problem\u0026#8230;.Data is recoverable. Please contact support\u0026#8221;. and pay money, probably\u0026#8230; That was it for me \u0026#8211; filed a return on amazon and the next morning it was gone. SUMMARY\npros: + relatively good pricing(~200$)\n+ nice form factor(small)\n+ nice set of standard features out of the box(ddns, media service, downloader, raids)\n+ enough speed for small office/home experiences.\ncons:\n\u0026#8211; not reliable(easy to corrupt internal FS, unable to restore/maintain data)\n\u0026#8211; clunky, slow and strange software(not only UI). IMO\n\u0026#8211; apparently has problems with concurrent usage. AFAIU\n\u0026#8211; not able to address basic hdd hardware problems(remap or even test for bad sectors \u0026#8211; only does a S.M.A.R.T test and even that unreliably).\n\u0026#8211; virtual support(The forum I visited looks like gives answers only to satisfactory questions or those you can find out by yourself.) Next stop: Synology. To be continued\u0026#8230; *all pictures are referenced from seagate.com ","permalink":"https://blog.vnomad.com/posts/code/seagate-blackarmor-nas-400/","summary":"So I decided that I\u0026#8217;m sick and tired of plugging in and out usb drives. Be it my tiny 16GB daily thumb drive, or store-it-all 2TB external seagate \u0026#8211; this is a pain\u0026#8230; And to make sure everything is stored you have to \u0026#8220;detach/remove\u0026#8221; them safely all the time. And than eventually you need more storage(or will need) and expanding this kind of solution means more devices OR significantly more money.","title":"Seagate BlackArmor NAS 400."},{"content":" I\u0026#8217;m dealing a lot with javascript nowadays and obviously I have to take performance into account. One way of doing this is writing a bunch of test code and record the time for your scripts, but what if you wanted to quickly test out some approaches and do not really want to invest a lot into them? Today I was pointed to a solution: http://jsperf.com/. This awesome tool does not just give you the framework to easily test out javascript but also provides and already created library of tests other people created when investigating their performance issues. Sweet! I finally have answer to this question. And many more 🙂\nIt also quite clear that when dealing with math caching arrays is a must. ","permalink":"https://blog.vnomad.com/posts/code/javascript-performance-tests/","summary":"I\u0026#8217;m dealing a lot with javascript nowadays and obviously I have to take performance into account. One way of doing this is writing a bunch of test code and record the time for your scripts, but what if you wanted to quickly test out some approaches and do not really want to invest a lot into them? Today I was pointed to a solution: http://jsperf.com/. This awesome tool does not just give you the framework to easily test out javascript but also provides and already created library of tests other people created when investigating their performance issues.","title":"Javascript performance tests"},{"content":" It has been a few month since I started mangling with WP7 platform. The more I learnt about it from the inside the more I wanted to buy new real WP7 phone. Things changed slightly after I have done my very first app(didn\u0026#8217;t make it to the app store as I found plenty of similar ones already there and mine was not adding much :() but still as of now I would really be interested in posessing a WP7 phone and giving it a solid try. But let me start from the beginning\u0026#8230;\nLearning As my primary learning resource I used 2 jumpstart sessions : WP7 jumpstart and Mango jumpstart. If you have the time to invest into watching those I highly recommend them as these are very good sources of information to study the platform fast. Especially keeping in mind that all the sessions there are accompanied by code examples which are also easily found on codeplex. The code especially nice due to the availability of the before-after versions of demo applications so that it is easy to see the transition from incomplete/incorrect state to the solid code. Environment Windows phone SDK 7.1 integrates seamlessly into VS2010 and makes a very pleasant environment to work with. The emulator gives you a lot of power when debugging your app. Still I missed the camera support(it is there but I kinda didn\u0026#8217;t like it) and the FS support. It\u0026#8217;s not so easy to look at things located on the Isolated storage as well as on the SD card. Otherwise there\u0026#8217;s everything you\u0026#8217;d want from the emulator, including recording gyroscope and accelerometer changes and playing them afterwards again and again. Development Developing WP7 is tricky yet interesting. You\u0026#8217;re using almost all of what .NET can offer with certain limitations(e.g. AsyncCallback is almost useless) seamlessly and easily. There\u0026#8217;s a lot you can customise in the standard controls collection. Still some common things which I would expect to be just working are in fact not. As an example I cannot grasp why would one want the Popup class if it still has to be injected into the visual tree manually\u0026#8230; Why not use the panel with visibility instead? It\u0026#8217;s a lot more natural to me than injecting the Popup somewhere at runtime\u0026#8230; Another interesting discovery for me was the fact that IsolatedStorage is not available in the OnNavigatedTo event. I guess MS guys give us a hint here that we should probably use only the StateStorage as it is much faster, and then use progress indicators to load heavy stuff after the page is loaded\u0026#8230; but then why would I bother using StateStorage at all? Just put the \u0026#8220;loading\u0026#8230;\u0026#8221; progress on top in the first place and get all the stuff from the IsolatedStorage where it is grouped together nicely and not scattered between 2 storage places(not to mention the fact that when storing to StateStorage you are highly recommended to store things to the IsolatedStorage as well as the state might not be available if the application was killed in the meantime..)\nNevertheless there\u0026#8217;s a lot to admire here as well\u0026#8230; Among other things I liked the controls customisation ability and overlaying concept best. WYSIWYG designing is really helping out here cutting redeployment and testing time. Debugging the real phone is easy too. Bottom line WP7 development surely has its own intricacies one might not like, but for me this is what makes mobile development thrilling. You can discover completely new ways of using the very old concepts/controls and rethink your strategies towards certain solutions. Mobile changes the way you treat data and UI and Metro-powered mobile development really broadens ones vision on how the data can be processed and delivered to utilise the customer needs.","permalink":"https://blog.vnomad.com/posts/code/wp7-mango-dive/","summary":"It has been a few month since I started mangling with WP7 platform. The more I learnt about it from the inside the more I wanted to buy new real WP7 phone. Things changed slightly after I have done my very first app(didn\u0026#8217;t make it to the app store as I found plenty of similar ones already there and mine was not adding much :() but still as of now I would really be interested in posessing a WP7 phone and giving it a solid try.","title":"WP7 Mango dive"},{"content":"Recently had to do an investigation about MySql server performance. So what I basically did was: created a winXP wmWare image, created a script for generating populating sql; installed db server version on that machine and kept track of times while executing sql statements; reverted to the original virgin machine state; start again. The versions I tested on were MySql community server 5.1, 5.5 and the development verion of 5.6. Here is the chart that represents my findings[the smaller the better]:\nAs a quick summary – interestingly enough I do not see any speed improvement since 5.1:) there is one between 5.5 and 5.6 but it’s nowhere near the 5.1.\nNow just a quick overview of what I used to actually get this chart.\nThe testTable:\nThe queries:\nQ1 \u0026lt;td\u0026gt; select count(*) from test.testtable; \u0026lt;/td\u0026gt; Q2 \u0026lt;td\u0026gt; select count(*) from testtable; \u0026lt;/td\u0026gt; Q3 \u0026lt;td\u0026gt; SELECT * FROM testtable tst WHERE tst.id\u0026gt;1000 AND tst.id\u0026lt;10000; \u0026lt;/td\u0026gt; Q4 \u0026lt;td\u0026gt; SELECT COUNT(*) FROM testtable tst WHERE tst.id\u0026gt;1000 AND tst.id\u0026lt;10000; \u0026lt;/td\u0026gt; Q5 \u0026lt;td\u0026gt; SELECT * FROM testtable tst WHERE tst.testInt between 10000 AND 100000 ; \u0026lt;/td\u0026gt; Q6 \u0026lt;td\u0026gt; SELECT COUNT(*) FROM testtable tst WHERE tst.testInt between 10000 AND 100000 ; \u0026lt;/td\u0026gt; Q7 \u0026lt;td\u0026gt; SELECT * FROM testtable tst WHERE tst.testDouble between 0.1 AND 0.5 ; \u0026lt;/td\u0026gt; Q8 \u0026lt;td\u0026gt; SELECT COUNT(*) FROM testtable tst WHERE tst.testDouble between 0.1 AND 0.5 ; \u0026lt;/td\u0026gt; Q9 \u0026lt;td\u0026gt; SELECT * FROM testtable tst WHERE tst.testDouble \u0026lt;= 0.1 AND tst.testDouble \u0026gt; 0.5 ; \u0026lt;/td\u0026gt; Q10 \u0026lt;td\u0026gt; SELECT COUNT(*) FROM testtable tst WHERE tst.testDouble \u0026gt;= 0.1 AND tst.testDouble \u0026lt; 0.5 ; \u0026lt;/td\u0026gt; Q11 \u0026lt;td\u0026gt; SELECT * FROM testtable tst WHERE tst.testDate \u0026gt; \u0026amp;#8216;2005/08/04 07:00\u0026amp;#8217;; \u0026lt;/td\u0026gt; Q12 \u0026lt;td\u0026gt; SELECT COUNT(*) FROM testtable tst WHERE tst.testDate \u0026gt; \u0026amp;#8216;2005/08/04 07:00\u0026amp;#8217;; \u0026lt;/td\u0026gt; Q13 \u0026lt;td\u0026gt; SELECT * FROM testtable tst WHERE tst.testVarchar LIKE \u0026amp;#8216;%AAAAAA\u0026amp;#8217;; \u0026lt;/td\u0026gt; Q14 \u0026lt;td\u0026gt; SELECT * FROM testtable tst WHERE tst.testVarchar LIKE \u0026amp;#8216;%AAAAAA\u0026amp;#8217; OR tst.testVarchar LIKE \u0026amp;#8216;BBBBBB%\u0026amp;#8217;; \u0026lt;/td\u0026gt; Q15 \u0026lt;td\u0026gt; SELECT * FROM testtable tst WHERE tst.testInt between 10000 AND 100000 AND tst.testDouble between 0.1 AND 0.5 AND tst.testDate \u0026gt; \u0026amp;#8216;2005/08/04 07:00\u0026amp;#8217; OR tst.id\u0026gt; 9000000 \u0026lt;/td\u0026gt; Q16 \u0026lt;td\u0026gt; SELECT COUNT(*) FROM testtable tst WHERE tst.testInt between 10000 AND 100000 AND tst.testDouble between 0.1 AND 0.5 AND tst.testDate \u0026gt; \u0026amp;#8216;2005/08/04 07:00\u0026amp;#8217; OR tst.id\u0026gt; 9000000 \u0026lt;/td\u0026gt; Absolute times and machine spec can be found here.\nOf course this is the developer machine setup and ran on one virtual machine, but still I thought that would be interesting for other to know. Ireally looking forward to making some more production-like tests now…\nOne more thing in case interested – the code snippet I used for generating the data:\npublic class CreateTestTableSql { private static final int QUERY_ROWS = 10 * 1000 * 1000; private static final int BATCH_SIZE = 10 * 1000; private static final boolean USE_BATCH = true; static Random r = new Random(); static SimpleDateFormat sdf = new SimpleDateFormat(\u0026#34;yyyy/MM/dd HH:mm\u0026#34;); public static void main(String[] args) throws Exception { StringBuilder spotTradeSQLRow = new StringBuilder(); File f = new File(USE_BATCH ? \u0026#34;batchmysql.sql\u0026#34; : \u0026#34;mysql.sql\u0026#34;); if (f.exists()) { f.delete(); } assert f.createNewFile(); BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(f))); System.out.println(\u0026#34;Start\u0026#34;); int batchCounter = 0; for (int i = 0; i \u0026lt; QUERY_ROWS; i++) { if (USE_BATCH) { if (batchCounter == BATCH_SIZE) { spotTradeSQLRow.append(\u0026#34;;n\u0026#34;); batchCounter = 0; } if (batchCounter == 0) { spotTradeSQLRow.append(\u0026#34;INSERT INTO test.testtable VALUES(\u0026#34;); } else { spotTradeSQLRow.append(\u0026#34;,(\u0026#34;); } } else { spotTradeSQLRow.append(\u0026#34;INSERT INTO test.testtable VALUES(\u0026#34;); } spotTradeSQLRow.append(i + \u0026#34;,\u0026#34;); //id spotTradeSQLRow.append((r.nextBoolean() ?( \u0026#34;\u0026#39;\u0026#34; +getRandomString() + \u0026#34;\u0026#39;\u0026#34;): \u0026#34;NULL\u0026#34;) + \u0026#34;,\u0026#34;); //testVarchar spotTradeSQLRow.append((r.nextBoolean() ? r.nextInt() : \u0026#34;NULL\u0026#34;) + \u0026#34;,\u0026#34;); //testInt spotTradeSQLRow.append((r.nextBoolean() ? r.nextDouble() : \u0026#34;NULL\u0026#34;) + \u0026#34;,\u0026#34;); //testInt spotTradeSQLRow.append((r.nextBoolean() ? (\u0026#34;\u0026#39;\u0026#34; + getRandomDate() + \u0026#34;\u0026#39;\u0026#34;) : \u0026#34;NULL\u0026#34;) + \u0026#34;)\u0026#34;); //testInt if (!USE_BATCH) { spotTradeSQLRow.append(\u0026#34;;\u0026#34;); } out.write(spotTradeSQLRow.toString()); out.write(\u0026#34;n\u0026#34;); spotTradeSQLRow.delete(0, spotTradeSQLRow.length()); batchCounter++; } if (USE_BATCH) { out.write(\u0026#34;;\u0026#34;); } out.close(); System.out.println(\u0026#34;end\u0026#34;); } private static String getRandomDate() { int rand = r.nextInt(10); rand *= (r.nextBoolean() ? -1 : 1); final Calendar cal = Calendar.getInstance(); cal.add(Calendar.YEAR, rand); cal.add(Calendar.DAY_OF_YEAR, rand); cal.add(Calendar.HOUR_OF_DAY, rand); return sdf.format(cal.getTime()); } private static String getRandomString() { final int rand = r.nextInt(10); if (rand \u0026lt; 3) { return \u0026#34;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\u0026#34;; } else if (rand \u0026gt;= 3 \u0026amp;\u0026amp; rand \u0026lt; 6) { return \u0026#34;BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB\u0026#34;; } else { return \u0026#34;CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC\u0026#34;; } } } ","permalink":"https://blog.vnomad.com/posts/code/mysql-performance-5-1-vs-5-5-vs-5-6-dev/","summary":"Recently had to do an investigation about MySql server performance. So what I basically did was: created a winXP wmWare image, created a script for generating populating sql; installed db server version on that machine and kept track of times while executing sql statements; reverted to the original virgin machine state; start again. The versions I tested on were MySql community server 5.1, 5.5 and the development verion of 5.6. Here is the chart that represents my findings[the smaller the better]:","title":"MySql performance. 5.1 VS 5.5 VS 5.6 (dev)"},{"content":"Had a problem with injecting JMSFactory for JBoss MQ using spring(for Camel :)). The problem had the next StackTrace:\nCaused by: javax.naming.CommunicationException [Root exception is java.rmi.ServerException: RemoteException occurred in server thread; nested exception is: java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: java.net.MalformedURLException: no protocol: and] at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:780) at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:627) at javax.naming.InitialContext.lookup(InitialContext.java:392) at org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:154) I was sure I configured it right as I have\n\u0026lt;jee:jndi-lookup id=\u0026#34;JBossMQ\u0026#34; jndi-name=\u0026#34;XAConnectionFactory\u0026#34; proxy-interface=\u0026#34;javax.jms.ConnectionFactory\u0026#34; environment-ref=\u0026#34;jndiProps\u0026#34; resource-ref=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;util:properties id=\u0026#34;jndiProps\u0026#34; location=\u0026#34;META-INF/spring/jndi.properties\u0026#34;/\u0026gt; And with those jndi.properties I was sure I have to get a refference as I could do that using the InitialContext by hand”. Turned out that it was maven that made things go wrong. moving the repository to a path with no spaces solved the issue(e.g. c:mavenrepo).\nHope this helps someone.\n","permalink":"https://blog.vnomad.com/posts/code/java-net-malformedurlexception-no-protocol-and/","summary":"Had a problem with injecting JMSFactory for JBoss MQ using spring(for Camel :)). The problem had the next StackTrace:\nCaused by: javax.naming.CommunicationException [Root exception is java.rmi.ServerException: RemoteException occurred in server thread; nested exception is: java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: java.net.MalformedURLException: no protocol: and] at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:780) at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:627) at javax.naming.InitialContext.lookup(InitialContext.java:392) at org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:154) I was sure I configured it right as I have\n\u0026lt;jee:jndi-lookup id=\u0026#34;JBossMQ\u0026#34; jndi-name=\u0026#34;XAConnectionFactory\u0026#34; proxy-interface=\u0026#34;javax.jms.ConnectionFactory\u0026#34; environment-ref=\u0026#34;jndiProps\u0026#34; resource-ref=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;util:properties id=\u0026#34;jndiProps\u0026#34; location=\u0026#34;META-INF/spring/jndi.","title":"java.net.MalformedURLException: no protocol: and]"},{"content":"If you’re in the same trouble as I was with black screen during boot(plymouth has the theme installed and even displays it during shutdown) then there is a small thing that has to be edited in order to get rid of this annoyance. Go to\n/etc/grub.d/10_linux\nand remove the **handoff=7 **parameter. Inspired by this and also this(pretty nice tool for configuring plymouth for dummies).\n","permalink":"https://blog.vnomad.com/posts/code/plymouth-fix-for-ubuntu-11-04/","summary":"If you’re in the same trouble as I was with black screen during boot(plymouth has the theme installed and even displays it during shutdown) then there is a small thing that has to be edited in order to get rid of this annoyance. Go to\n/etc/grub.d/10_linux\nand remove the **handoff=7 **parameter. Inspired by this and also this(pretty nice tool for configuring plymouth for dummies).","title":"Plymouth fix for Ubuntu 11.04"},{"content":"Great news! Best Hackathon traditions to invade Lviv. DOU is planning a hackathon @ June 9 — 10. Location is not set yet, but people are welcome to join now, so that we know there’ll be enough people comming. More details here. If anyone interested to create a team – reach me via comments here or on IMs…\n","permalink":"https://blog.vnomad.com/posts/code/hackathon-in-lviv/","summary":"Great news! Best Hackathon traditions to invade Lviv. DOU is planning a hackathon @ June 9 — 10. Location is not set yet, but people are welcome to join now, so that we know there’ll be enough people comming. More details here. If anyone interested to create a team – reach me via comments here or on IMs…","title":"Hackathon in Lviv"},{"content":"There is going to be an interesting event soon in Lviv both for those who are in IT and those who love to use and improve their english. It’s called IT Ramblings. Follow the link and check it out. I’m definitely coming, join in 😉\n","permalink":"https://blog.vnomad.com/posts/tea/it-ramblings/","summary":"There is going to be an interesting event soon in Lviv both for those who are in IT and those who love to use and improve their english. It’s called IT Ramblings. Follow the link and check it out. I’m definitely coming, join in 😉","title":"IT ramblings"},{"content":"33+k UAH for those lucky to win the lottery among the ones most skilled in MS puzzle solving:) More here\n","permalink":"https://blog.vnomad.com/posts/code/new-quest-from-microsoft/","summary":"33+k UAH for those lucky to win the lottery among the ones most skilled in MS puzzle solving:) More here","title":"New quest from Microsoft"},{"content":"Spent about 3 hours trying to install the latest java ee sdk on my natty narwhal with no luck. It usually hang with 45% and 5seconds left forever. Might be I’m a bad googler but turned out that there is a bug in the installer which prevents the installation from continuing. The workaround is to disable the network connections before the installation begins(disabling while it is hanging did not work for me). You won’t have the Update\nTool Bootstrap tool configured but still you’ll have the sdk installed and ready for your tests/work.\n","permalink":"https://blog.vnomad.com/posts/code/j2ee-sdk-install-hanging-fix/","summary":"Spent about 3 hours trying to install the latest java ee sdk on my natty narwhal with no luck. It usually hang with 45% and 5seconds left forever. Might be I’m a bad googler but turned out that there is a bug in the installer which prevents the installation from continuing. The workaround is to disable the network connections before the installation begins(disabling while it is hanging did not work for me).","title":"j2ee sdk install hanging fix."},{"content":"Had a real problem with my wifi after moving to Ubuntu from win -\u0026gt; my download speed was dead slow with ~2Mb/s. Tried various things including this this and finally this. The last one did the trick. It was Avahi which spoiled everything. The thing that led me to Avahi was this irritating message popping out each time I connected:\nHaving this changed\n_AVAHI_DAEMON_DETECT_LOCAL=1\nto\nAVAHI_DAEMON_DETECT_LOCAL=0\nin /etc/default/avahi-daemon_\nGot me up to 22Mb/s after reboot. We’ll see if I could squeeze more from my cheap router flashing it with some different firmware, but for now I’m quite happy to gain a 10x speed improvement 🙂\n","permalink":"https://blog.vnomad.com/posts/code/avahi-and-network-service-discovery-disabled/","summary":"Had a real problem with my wifi after moving to Ubuntu from win -\u0026gt; my download speed was dead slow with ~2Mb/s. Tried various things including this this and finally this. The last one did the trick. It was Avahi which spoiled everything. The thing that led me to Avahi was this irritating message popping out each time I connected:\nHaving this changed\n_AVAHI_DAEMON_DETECT_LOCAL=1\nto\nAVAHI_DAEMON_DETECT_LOCAL=0\nin /etc/default/avahi-daemon_\nGot me up to 22Mb/s after reboot.","title":"Avahi and “network service discovery disabled”"},{"content":"I really, really do not know if that’s accidental or on-purpose and whether it’s connected with the fact that Microsoft bought Skype, but this morning I received a wonderful email:\nNow 3 things about this:\nI **am **a skype user. Who the hell is Natalia??? And why, and when and WTF?! I love to use skype. It would be sad if this is the** turning point**. 🙁 ","permalink":"https://blog.vnomad.com/posts/code/skype-microsoft/","summary":"I really, really do not know if that’s accidental or on-purpose and whether it’s connected with the fact that Microsoft bought Skype, but this morning I received a wonderful email:\nNow 3 things about this:\nI **am **a skype user. Who the hell is Natalia??? And why, and when and WTF?! I love to use skype. It would be sad if this is the** turning point**. 🙁 ","title":"Skype + Microsoft."},{"content":"A post for those who, once tried, cannot live without vertical tabs in FF.\nI used to have TabKit installed but this unfortunately does not support FF 4. So I even was very reluctant to switch to the new version as having my browsing (or should I say _research ) _organized, __is one of the crucial parts of my productivity. But turns out there is Vertical Tabs which does almost the same thing. It’s not that polished as TabKit but it “does the thing” and so far I’m happy with it.\nUPD: Found the VertTabBar addon also while writing this post… might suite someone more.\n","permalink":"https://blog.vnomad.com/posts/code/tabkit-vertical-tabs/","summary":"A post for those who, once tried, cannot live without vertical tabs in FF.\nI used to have TabKit installed but this unfortunately does not support FF 4. So I even was very reluctant to switch to the new version as having my browsing (or should I say _research ) _organized, __is one of the crucial parts of my productivity. But turns out there is Vertical Tabs which does almost the same thing.","title":"Tabkit =\u003e Vertical tabs"},{"content":"24-th seconds rules…\nThis mostly ru-zone compliant 🙂\n","permalink":"https://blog.vnomad.com/posts/code/lift-ajax-the-proper-way-of-doing-presentations/","summary":"24-th seconds rules…\nThis mostly ru-zone compliant 🙂","title":"Lift + ajax. The “proper” way of doing presentations."},{"content":"Internet is basically full of subj but vice-versa(BlazeDS to java). So the problem I had was that when the object is “translated” from java via BlazeDS to flex application it had NAN’s in the double fields. The transfer object was a simple POJO I passed via the interface. First thing I checked were the getters – all present and valid. I took quite a lot of time till we figured out that it was the missing setters which made the code malfunction. The problem was that on some objects I declared an immutable interface and implemented it in a DTO object. I did not add setters where I never planned to use them. This turned out to be the crucial mistake: Always be sure to have both getters and setters in your DTO. It doesn’t matter if you pass it via immutable interface or not – the underlying object has to have both methods on the field otherwise we get NAN.\n","permalink":"https://blog.vnomad.com/posts/code/java-to-blazeds-nan-in-double-values/","summary":"Internet is basically full of subj but vice-versa(BlazeDS to java). So the problem I had was that when the object is “translated” from java via BlazeDS to flex application it had NAN’s in the double fields. The transfer object was a simple POJO I passed via the interface. First thing I checked were the getters – all present and valid. I took quite a lot of time till we figured out that it was the missing setters which made the code malfunction.","title":"Java to BlazeDS NAN in double values."},{"content":"Today was investigating the warnings around some of my eclipse maven projects and noticed that I have a few\nThere are no JREs installed in the workspace that are strictly compatible with this environment\nmessages. It took some time to figure out that it was actually the maven-compiler-plugin causing the the J2SE version to be picked up correctly. If I changed the packaging of the maven project to jar everything was generated fine. After some searching it turned out there is a bug with the generation tool m2eclipse I use. As described here the bug was fixed TODAY by removing the java nature from the project, which in turn removes the .classpath necessity which in turns removes the warnings. Few errors less – great work m2eclipse :).\n","permalink":"https://blog.vnomad.com/posts/code/maven-compiler-plugin-causing-eclipse-projects-to-have-j2se-1-4-instead-of-configured-one/","summary":"Today was investigating the warnings around some of my eclipse maven projects and noticed that I have a few\nThere are no JREs installed in the workspace that are strictly compatible with this environment\nmessages. It took some time to figure out that it was actually the maven-compiler-plugin causing the the J2SE version to be picked up correctly. If I changed the packaging of the maven project to jar everything was generated fine.","title":"maven-compiler-plugin causing eclipse projects to have j2se 1.4 instead of configured one"},{"content":"Now really, what would be faster/more reliable for a typical not so complicated and not over-simple case? Yes the one we tend to deal with in our day-to-day work? For those impatient benchmarks are here.Reading a 100/1000-line file is not fun and I really think you shouldn’t bother choosing if you’re dealing with such volumes of data. But if you have to parse 320k-500k records lines, which, in fact, is not that large – 320k of CSV data is ~ 12MB performance is considerable. So let’s start with data definition. Let’s assume we have data like\n1812332,”String1″,”String2″,”String3″,16,\n1812332,”String1″,”String2″,”String3″,16,\n1812332,”String1″,”String2, extra string”,”String3″,16,\nAlso we are going to start with the abstract “blank” for csv reading like:\npublic abstract class CsvStreamReader implements Iterator\u0026lt;CsvData\u0026gt; { protected BufferedReader reader; /** * creates an new {@code CsvStreamReader}. Caller is responsible for stream management. * */ public CsvStreamReader() { } public abstract CsvData next(); public boolean hasNext() { try { return reader.ready(); } catch (IOException e) { e.printStackTrace(); } return false; } @Deprecated public void remove() { // not used } public void setInputStream(InputStream inputStream){ reader = new BufferedReader(new InputStreamReader(inputStream)); } } And a simple data-holder like:\npublic class CsvData { private String[] data; public CsvData(String... data) { this.data = new String[data.length]; System.arraycopy(data, 0, this.data, 0, data.length); } public String getColumn(int index) { return data[index]; } public int getColumnCount() { return data.length; } @Override public String toString() { return \u0026#34;CsvData{\u0026#34; + \u0026#34;data=\u0026#34; + (data == null ? null : Arrays.asList(data)) + \u0026#39;}\u0026#39;; } } Now the first and obvious way to read and parse the CSV would be smth like:\npublic class SplitBasedReader extends CsvStreamReader { public CsvData next() { try { String line = reader.readLine(); return new CsvData(line.split(\u0026#34;,\u0026#34;)); } catch (IOException e) { e.printStackTrace(); } return null; } } This looks fairly good with one lil’ problem: it doesn’t work good. If we take the last line with “String2, extra string” we see that the split would play a bad trick with us breaking the data consistency.\nA quick fix would suggest smth like:\npublic class StringBasedReader extends CsvStreamReader { private static final String QUOTE = \u0026#34;\u0026#34;\u0026#34;; @Override public CsvData next() { try { List\u0026lt;String\u0026gt; data = new ArrayList\u0026lt;String\u0026gt;(); final String line = reader.readLine(); int commaStart = 0; int commaEnd = 0; StringBuffer possibleToken = new StringBuffer(); while (commaEnd \u0026gt;= 0) { commaEnd = line.indexOf(\u0026#39;,\u0026#39;, commaStart + 1); if (commaEnd \u0026lt; 0) { break; } final String possibleColumn = line.substring(commaStart, commaEnd); possibleToken.append(possibleColumn); commaStart = commaEnd + 1; final int length = possibleToken.length(); boolean columnIsOpen = (possibleColumn.startsWith(QUOTE)) \u0026amp;\u0026amp; (!(possibleColumn.endsWith(QUOTE))); if (!columnIsOpen) { data.add(possibleToken.toString()); possibleToken.delete(0, length); } } if (possibleToken.length() != 0) { data.add(possibleToken.toString()); } return new CsvData(data.toArray(new String[]{})); } catch (IOException ioex) { ioex.printStackTrace(); } return null; } } Well yeah, but having string.startsWith checking on String all this takes int account variable length which in fact we do not care about… sounds wasteful. Let’s improve it.\npublic class StringBasedReaderImproved extends CsvStreamReader { private static final char QUOTE = \u0026#39;\u0026#34;\u0026#39;; @Override public CsvData next() { try { List\u0026lt;String\u0026gt; data = new ArrayList\u0026lt;String\u0026gt;(); final String line = reader.readLine(); int commaStart = 0; int commaEnd = 0; StringBuffer possibleToken = new StringBuffer(); while (commaEnd \u0026gt;= 0) { commaEnd = line.indexOf(\u0026#39;,\u0026#39;, commaStart + 1); if (commaEnd \u0026lt; 0) { break; } possibleToken.append(line.substring(commaStart, commaEnd)); commaStart = commaEnd + 1; final int length = possibleToken.length(); boolean columnIsOpen = (possibleToken.charAt(0) == QUOTE) \u0026amp;\u0026amp; (!(possibleToken.charAt(length - 1) == QUOTE)); if (!columnIsOpen) { data.add(possibleToken.toString()); possibleToken.delete(0, length); } } if (possibleToken.length() != 0) { data.add(possibleToken.toString()); } return new CsvData(data.toArray(new String[]{})); } catch (IOException ioex) { ioex.printStackTrace(); } return null; } } OKAY! now it a char and StringBuffer. Looks like we’ve done a great job! Awesome…. although a bit magical. It’s not rocket science but still it’s not pleasant to read. What else might we suggest? Regex.\npublic class RegexBasedReader extends CsvStreamReader { private static final String RE_ANY_INSIDE_QUOTES = \u0026#34;\u0026#34;([^\u0026#34;]*)\u0026#34;\u0026#34;; private static final String RE_ANY_WITHOUT_COMMAS = \u0026#34;([^,]*)\u0026#34;; private static final String RE_ANY = \u0026#34;(\u0026#34; + RE_ANY_INSIDE_QUOTES + \u0026#34;|\u0026#34; + RE_ANY_WITHOUT_COMMAS + \u0026#34;)\u0026#34;; private static final String RE_6_DIGIT_GROUP = \u0026#34;(\\d{6})\u0026#34;; private static final String CSV_REGEX = \u0026#34;^\u0026#34; + RE_6_DIGIT_GROUP + \u0026#34;,\u0026#34; + RE_ANY + \u0026#34;,\u0026#34; + RE_ANY + \u0026#34;,\u0026#34; + RE_ANY + \u0026#34;,\u0026#34; + RE_ANY + \u0026#34;,$\u0026#34;; protected final Pattern pattern; /** * {@inheritDoc} */ public RegexBasedReader() { pattern = Pattern.compile(CSV_REGEX); } public CsvData next() { try { List\u0026lt;String\u0026gt; data = new ArrayList\u0026lt;String\u0026gt;(); final String line = reader.readLine(); final Matcher matcher = pattern.matcher(line); matchDataToColumns(data, matcher); return new CsvData(data.toArray(new String[]{})); } catch (IOException e) { e.printStackTrace(); } return null; } /** * @param data * @param matcher */ protected void matchDataToColumns(List\u0026lt;String\u0026gt; data, Matcher matcher) { if (matcher.matches()) { final int groupCount = matcher.groupCount(); assert groupCount == 13 : \u0026#34;Matched an invalid string - regex should be revised\u0026#34;; final String data1 = matcher.group(1); assert data1 != null : \u0026#34;data1 should always be present\u0026#34;; data.add(data1); String data2 = matcher.group(3); if (data2 == null) { data2 = matcher.group(4); } assert data2 != null : \u0026#34;data2 should somehow be present\u0026#34;; data.add(data2); String data3 = matcher.group(6); if (data3 == null) { data3 = matcher.group(7); } assert data3 != null : \u0026#34;data3 should somehow be present\u0026#34;; data.add(data3); String data4 = matcher.group(9); if (data4 == null) { data4 = matcher.group(10); } assert data4 != null : \u0026#34;data4 should somehow be present\u0026#34;; data.add(data4); String data5 = matcher.group(12); if (data5 == null) { data5 = matcher.group(13); } assert data5 != null : \u0026#34;data5 should somehow be present\u0026#34;; data.add(data5); } } } That looks like Chuck Norris would be proud. Strong and reliable checking, precompiled patern, groups of data, many cases handled same way… room for extension etc.\n*Now lets look at the benchmarks reading over 500k lines:\npublic class Test2 { static List\u0026lt;string\u0026gt; times = new ArrayList\u0026lt;string\u0026gt;(4); public static void main(String[] args) throws IOException { read320KRecords(new SplitBasedReader()); read320KRecords(new StringBasedReader()); read320KRecords(new StringBasedReaderImproved()); read320KRecords(new RegexBasedReader()); } private static void read320KRecords(CsvStreamReader reader) throws IOException { InputStream inputStream = Test2.class.getResourceAsStream(\u0026#34;/CardInfo.csv\u0026#34;); reader.setInputStream(inputStream); long timeStart = System.currentTimeMillis(); while (reader.hasNext()) { CsvData csvData = reader.next(); } long timeEnd = System.currentTimeMillis(); times.add(reader.toString() + \u0026#34; time: \u0026#34; + (new DecimalFormat(\u0026#34;#.####\u0026#34;)).format(new Double( (timeEnd - timeStart) / 1000.0)) + \u0026#34; sec.\u0026#34;); inputStream.close(); } } Output run from IntellyJ Idea:\n\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;b\u0026gt;SplitBasedReader\u0026lt;/b\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;b\u0026gt;StringBasedReader\u0026lt;/b\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;b\u0026gt;StringBasedReaderImproved\u0026lt;/b\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; \u0026lt;b\u0026gt;RegexBasedReader\u0026lt;/b\u0026gt; \u0026lt;/td\u0026gt; Run 1 \u0026lt;td\u0026gt; 1.468 \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; 0.968 \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; 0.984 \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; 1.593 \u0026lt;/td\u0026gt; Run 2 \u0026lt;td\u0026gt; 1.562 \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; 0.953 \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; 0.985 \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; 1.594 \u0026lt;/td\u0026gt; Run 3 \u0026lt;td\u0026gt; 1.531 \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; 1.031 \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; 1.047 \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt; 1.625 \u0026lt;/td\u0026gt; In a chart:\nBut wait – there’s more 🙂\nNow let’s see if we can get even more results out of this. In the previous benchmark runs we did nothing with the CsvData we obtained, but that is not the case in real world right? now consider we add a single\nSystem.out.println(\"csvData = \" + csvData); and this would always result in “csvData = myCSvData”.\nRunning this in IDEA gives next results:\nSplitBasedReader time: 14.634 sec.\nStringBasedReader time: 13.086 sec\nStringBasedReaderImproved time: 12.118 sec\nRegexBasedReader time: 15.244 sec\n**SAME but in console: **\nSplitBasedReader time: 138.025 sec.\nStringBasedReader time: 136.337 sec.\nStringBasedReaderImproved time: 130.975 sec.\nRegexBasedReader time: 131.146 sec.\nSo we see that the buffers and IO impact is immense.\nAnd one more test. Lets assume out toString is smth. a little meaningful like\n\"CsvData{\" + data[0] + data[1] + data[2]; Now the times(idea env execution) are:\nSplitBasedReader time: 21.655 sec.\nStringBasedReader time: 9.772 sec.\nStringBasedReaderImproved time: 9.256 sec.\nRegexBasedReader time: 12.461 sec.\nBottom line:\nWhile robust and effective Regex is not the fastest thing in the world;\nworking with relatively not-so-complex data is faster with “smaller” API’s;\n;\nIO is a bottleneck, not the parsing, usually.\n","permalink":"https://blog.vnomad.com/posts/code/string-split-vs-string-startswith-vs-regex-simple-performance-comparison/","summary":"Now really, what would be faster/more reliable for a typical not so complicated and not over-simple case? Yes the one we tend to deal with in our day-to-day work? For those impatient benchmarks are here.Reading a 100/1000-line file is not fun and I really think you shouldn’t bother choosing if you’re dealing with such volumes of data. But if you have to parse 320k-500k records lines, which, in fact, is not that large – 320k of CSV data is ~ 12MB performance is considerable.","title":"String.split() VS String.startsWith() VS Regex simple performance comparison."},{"content":"There was a nice program for syncing phone and PC called Nokia PC Suite. While still available on some dusty hard drives it is now replaced with something called Nokia Ovi Suite. As I mentioned before – nice piece of software if we forget about all the “store” thing. But it has one important for me thing missing – sms extracting mechanism. You can’t just take all of your sms and store to the file you want. It will either go into backup file or will be stored on you PC. I was really disappointed to learn that so I tried to find where exactly is that info stored on my PC. First search revealed that they use the SQLite db for storing all data located in\n“c:Users[username]AppDataLocalNokiaNokia Data StoreDataBaseMDataStore.db3”\nThe DB is not in any way protected or encrypted so I felt free to dig into my own data. Downloaded a splendid SQLiteManager plugin and started seeking my sms’s. Didn’t take long to find. Whereas the DB structure might be a subject of argue I’ll post some code I used to get the info I needed out of the DB:\nclass Program { static void Main(string[] args) { if (args == null || args.Length \u0026lt; 1) { Console.Out.WriteLine(\u0026#34;Please specify db3 file path as an argument\u0026#34;); return; } string baseName = args[0]; StreamWriter writer = null; try { SQLiteFactory factory = (SQLiteFactory)DbProviderFactories.GetFactory(\u0026#34;System.Data.SQLite\u0026#34;); using (SQLiteConnection connection = (SQLiteConnection)factory.CreateConnection()) { connection.ConnectionString = \u0026#34;Data Source = \u0026#34; + baseName; connection.Open(); Console.WriteLine(\u0026#34;Connection opened..\u0026#34;); using (SQLiteCommand command = new SQLiteCommand(connection)) { command.CommandText = @\u0026#34;SELECT MessageEx.Sender, MessageEx.Text, MessageEx.SentReceivedTimestamp, Item.CreationDate FROM MessageEx INNER JOIN Item ON MessageEx.GUID = Item.GUID ORDER BY MessageEx.SentReceivedTimestamp;\u0026#34;; var reader = command.ExecuteReader(); FileInfo outF = new FileInfo(\u0026#34;result\u0026#34; + DateTime.Now.Date.ToString(\u0026#34;dd_mm_yyyy\u0026#34;) + \u0026#34;.txt\u0026#34;); writer = new StreamWriter(outF.Open(FileMode.Create)); writer.WriteLine(\u0026#34;Sender, Text, Timestamp, Created\u0026#34;); while (reader.Read()) { writer.WriteLine(String.Format(\u0026#34;{0}, {1}, {2}, {3}\u0026#34;, reader.GetString(0), reader.GetString(1), reader.GetDouble(2), reader.GetDouble(3))); Console.Write(\u0026#34;.\u0026#34;); } Console.WriteLine(\u0026#34;Done! Press eny Key to continue.\u0026#34;); } } } catch (Exception ex) { Console.WriteLine(\u0026#34;OOPS:\u0026#34; + ex.Message); } finally { if (writer != null) writer.Close(); } } } This is pretty much all needed to get a well-formed CSV. There is still some work left to get the date from Real to date/time, but I thought it can wait until I really need that info. CSV is easily processed:). Some of this sourcecode is borrowed from here. Personally wouldn’t ever dig into such software peripherals, but they literally forced me to, not providing the info I actually poses.\nHope that helps someone who needs data synchronized from the phone – the DB is a pretty much comprehensible structure and tables and with the mentioned above plugin and a lil’ SQL it’s quite easy to get your data even without programming.\n","permalink":"https://blog.vnomad.com/posts/code/nokia-ovi-suite-sms-extract/","summary":"There was a nice program for syncing phone and PC called Nokia PC Suite. While still available on some dusty hard drives it is now replaced with something called Nokia Ovi Suite. As I mentioned before – nice piece of software if we forget about all the “store” thing. But it has one important for me thing missing – sms extracting mechanism. You can’t just take all of your sms and store to the file you want.","title":"Nokia OVI suite \u0026 sms extract."},{"content":"There’s a ton of Win properties that your program might want to access/possess/transform and there’s a single place to find them: WMI queries. Though some of the properties might be scattered through different classes like Environment and *Info and even *Stream and more(and I believe accessing them through that places is significantly cheaper and faster) there’s one sigle silver bullet to get them all via\nSelect * From [win_category]\nThe problem is there are tons of \u0026amp;#8220;win_category]\u0026amp;#8217; and * values. Luckily there is a [WMICodeCreator][1]. Actually the tool is pretty self explanatory \u0026amp;#8211; just a few tips: instead of using Select * you can use Select [ActualPropertyNameYouWant] which I believe is better instead of tedious browsing through combobox-ui use the text search on the code file supplied in the package All Win properties nicely, fast and reliably right into your BL.\ndo-not-forget-to-use-post\n","permalink":"https://blog.vnomad.com/posts/code/net-wmi-or-how-do-i-get-all-that-info/","summary":"There’s a ton of Win properties that your program might want to access/possess/transform and there’s a single place to find them: WMI queries. Though some of the properties might be scattered through different classes like Environment and *Info and even *Stream and more(and I believe accessing them through that places is significantly cheaper and faster) there’s one sigle silver bullet to get them all via\nSelect * From [win_category]\nThe problem is there are tons of \u0026amp;#8220;win_category]\u0026amp;#8217; and * values.","title":".NET WMI. Or how do I get all that info?"},{"content":"Consider some UI that you would like to present as tabs. And you also know that all these tabs would have a considerate amount of code in common. There are some thoughts [here][1] but those are more about visual representation. Also creating usercontrols I believe is not an option due to it\u0026amp;#8217;s not expected to have more tah one tab of a kind. The solution has to both utilize the VS designer(otherwise tab creation would take considerably more time) and keep the code separate from the tabcontrol \u0026amp;#8211; holder form. So that you have all functionality neatly separated. Haven\u0026amp;#8217;t found any except [here][2] which looks kinda OK but lots of custom code. Would like to have just tabs used just in normal tabcontrol\u0026amp;#8230; Will try to find/develop one over weeks or find a good reason not to do it.(know WPF solves it with templates. requirements \u0026amp;#8211; plain old WinFroms) Any comments are welcome. ","permalink":"https://blog.vnomad.com/posts/code/net-tab-control/","summary":"Consider some UI that you would like to present as tabs. And you also know that all these tabs would have a considerate amount of code in common. There are some thoughts [here][1] but those are more about visual representation. Also creating usercontrols I believe is not an option due to it\u0026amp;#8217;s not expected to have more tah one tab of a kind. The solution has to both utilize the VS designer(otherwise tab creation would take considerably more time) and keep the code separate from the tabcontrol \u0026amp;#8211; holder form.","title":".NET tab control."},{"content":"There is a nice tutorial here on how to create spring web services using jax-b. Works just fine but it’s hell lots of issues you would run into while making it actually work. The most frustrating for me as of today was the absence of Jaxb2Marshaller. in the std “spring-ws-core” artifact package. It’s just not there and noone would tell you. Only _**Jaxb1Marshaller **_is. After an hour googling found this (BTW very simple and straightforward) post where spotted the “spring-oxm-tiger” artifact. This is your saver if you you’re tearing your hair out seeking for the beloved interface. Maybe it’s just late today on the other hand…\n","permalink":"https://blog.vnomad.com/posts/code/org-springframework-oxm-jaxb-jaxb2marshaller/","summary":"There is a nice tutorial here on how to create spring web services using jax-b. Works just fine but it’s hell lots of issues you would run into while making it actually work. The most frustrating for me as of today was the absence of Jaxb2Marshaller. in the std “spring-ws-core” artifact package. It’s just not there and noone would tell you. Only _**Jaxb1Marshaller **_is. After an hour googling found this (BTW very simple and straightforward) post where spotted the “spring-oxm-tiger” artifact.","title":"org.springframework.oxm.jaxb.Jaxb2Marshaller"},{"content":" Finally. Now frankly \u0026amp;#8211; preparing for MS exams while doing die-hard java is not a funny thing to do. NEVER practice such a combination\u0026amp;#8230; About the exam \u0026amp;#8211; it was better then the previous 2: it obeyed no rules:). What I mean here is that I could have skipped the preparation kit completely! Yes there were a few questions related to the book\u0026amp;#8217;s content, BUT reading it is completely optional IMHO. Even more \u0026amp;#8211; you\u0026amp;#8217;ll be fine if you just skim through the chapter headings and introductions. About the questions \u0026amp;#8211; **common sense required. **They are all about common sense. If you developed the apps and know how things are working there \u0026amp;#8211; answers are obvious. Of course there are a few \u0026amp;#8220;do it the MS way\u0026amp;#8221; questions, but most of \u0026amp;#8217;em \u0026amp;#8211; common sense and logic job. So my advise \u0026amp;#8211; schedule for Tuesday morning. And the last one – free certificates are over – you’ll have to order one now if you want. Looks like taking those exams has to be lightning fast, but when would you do work then? So that’s where I’m quitting with MS certification until I get .NET related stuff to do at work again. Heading to SCJP now:) Wish me luck…\n","permalink":"https://blog.vnomad.com/posts/code/mcpd-acquired/","summary":"Finally. Now frankly \u0026amp;#8211; preparing for MS exams while doing die-hard java is not a funny thing to do. NEVER practice such a combination\u0026amp;#8230; About the exam \u0026amp;#8211; it was better then the previous 2: it obeyed no rules:). What I mean here is that I could have skipped the preparation kit completely! Yes there were a few questions related to the book\u0026amp;#8217;s content, BUT reading it is completely optional IMHO.","title":"MCPD acquired."},{"content":"Most of us, who developed any BlackBerry app that had to be shipped OTA had seen this \u0026amp;#8220;descriptive\u0026amp;#8221; error. It might be anything from invalid jad to signing problems. The one I\u0026amp;#8217;m going to describe here is when the size of the cod file is more than 64K. Finding out if you have this problem is fairly easy: just look into the final cod and see if there are actually 2 cod files packaged in one cod. Can be easily done via renaming to .zip and extracting. Other things that would show you smth. has gone wrong:\n-1.cod files are being generated -1.debug files. Cod might be ok, so may be the jad file. But still will get 907. *-1.cod references in ad files. nested cod files as already mentioned. The general approach to fix this issue is creating application libraries and shipping them linked along with application. This is more easily said then done, because decoupling your app when it\u0026#8217;s already working might be a tedious job to do. Moreover when you seem to have completed what is needed you might see that you\u0026#8217;re 2-5 Kb over limit and that really sucks. But that is not all of the \u0026#8220;presents\u0026#8221; you\u0026#8217;ve got with RIM. Let us say you\u0026#8217;ve mastered your app in a way that it is shipped with few libraries and it work OK. Now requirements have come to use a newer JDE/add some features. First thing to check would be just to compile using the new JDE. Although you won\u0026#8217;t probably have any issues with compiling it is VERY likely that you\u0026#8217;ll get larger cod files as result. I tested with JDE\u0026#8217;s from 4.0.2 till 4.7. And every new version compiles more code then the previous one. One exception with 4.6 \u0026#8211; it compiles the larges binaries whatsoever :). So you\u0026#8217;re back to your previous job \u0026#8211; refactoring the source code:) In order for these things to happen less often use these approaches when developing with RIM: Avoid nested classes. Each Nested class would enlarge the original class file and produce and extension worth at least 1.1K Avoid public static or just public/protected methods/properties. Generates huge amount of header bytecode. Avoid anonymous classes. Each anonymous class would result in $N.class where N is the number of your anonymous class:) Each worth at lest 0.9K. If you structure your code to use existing classes, you\u0026#8217;ll reduce the output bytecode significantly. If the nested class has to be used \u0026#8211; try to use anonymous instead. You\u0026#8217;ll gain about 0.5 K on each. RIM doesn\u0026#8217;t like generics. Full-stop Try to avoid using interfaces. If, for example, the base class implements and interface and the child one also states that \u0026#8211; you\u0026#8217;ll get double same bytecode. From my experience with RIM I\u0026#8217;d better use classes(if applicable) and only then interfaces. The overhead is tremendous. Happy development days with RIM 😉 ","permalink":"https://blog.vnomad.com/posts/code/907-invalid-cod-and-other-blackberry-ota-problems/","summary":"Most of us, who developed any BlackBerry app that had to be shipped OTA had seen this \u0026amp;#8220;descriptive\u0026amp;#8221; error. It might be anything from invalid jad to signing problems. The one I\u0026amp;#8217;m going to describe here is when the size of the cod file is more than 64K. Finding out if you have this problem is fairly easy: just look into the final cod and see if there are actually 2 cod files packaged in one cod.","title":"907: Invalid cod and other BlackBerry OTA problems."},{"content":"A lil’ bit nerdy here. So if anyone does not like all that computer stuff skip to the LAST LINE.\nThe trouble.\nIt all started when I bought my first wireless router D-Link DIR 320. It looked fine. Started working in seconds and was pretty easy to configure. I was really happy but the I suddenly saw that I can’t reach my favorite finance site. Sites may be down, I thought. the next day I checked out at work and the it revealed to working just fine. But back at home I couldn’t reach it again. I looked as it was downloading it forever..\nThe struggle\nI played with DNS, learned that google’s DNS is todays probably the most reliable one and easy to remember – 8.8.8.8. Pinged the websites but nothing really helped. Even if I was able to reach the main page after numerous pings – it all died just after browser/router reboot.\nI asked network administrators and friends but noone could give me a real solution. the best answer I’ve heard – do you really need those sites? Forget ’em – everything else is working just fine 🙂 Marvelous 🙁\nThe Solution\nI posted my problem on one of the network community threads. After standard advises to update firmware and disable the firewall I was recommended to change the MTU. To a value of 1480. Magic number.\nI changed it and it worked. **BUT **I will never be satisfied with a short win:) I began digging to understand the “magic”. So the first post I found was http://forums.techguy.org/networking/475606-dsl-download-speed-sucks.html. Using it found out that actually the working setting of 1480 produces next awful things:\nC:WINDOWSsystem32\u0026gt;ping yahoo.com -f -l 1480 Pinging yahoo.com [69.147.125.65] with 1480 bytes of data: Packet needs to be fragmented but DF set. Packet needs to be fragmented but DF set. Packet needs to be fragmented but DF set. Packet needs to be fragmented but DF set. Ping statistics for 69.147.125.65: Packets: Sent = 4, Received = 0, Lost = 4 (100% loss), And following the article’s advice:\nC:WINDOWSsystem32\u0026gt;ping yahoo.com -f -l 1452 Pinging yahoo.com [69.147.125.65] with 1452 bytes of data: Reply from 69.147.125.65: bytes=1452 time=16ms TTL=58 Reply from 69.147.125.65: bytes=1452 time=14ms TTL=58 Reply from 69.147.125.65: bytes=1452 time=16ms TTL=58 Reply from 69.147.125.65: bytes=1452 time=15ms TTL=58 Ping statistics for 69.147.125.65: Packets: Sent = 4, Received = 4, Lost = 0 (0% loss), Approximate round trip times in milli-seconds: Minimum = 14ms, Maximum = 16ms, Average = 15ms What is the optimum MTU for YOUR network is still a question – I found mine to be still 1480 :D. But I think this might be worth remembering for the future “practices”\nLAST LINE: if you can’t reach some websites after installing the router – try changing MTU in router connection properties to 1500 or 1480.\n","permalink":"https://blog.vnomad.com/posts/code/wireless-router-problem-and-an-unexpected-way-to-solve-it/","summary":"A lil’ bit nerdy here. So if anyone does not like all that computer stuff skip to the LAST LINE.\nThe trouble.\nIt all started when I bought my first wireless router D-Link DIR 320. It looked fine. Started working in seconds and was pretty easy to configure. I was really happy but the I suddenly saw that I can’t reach my favorite finance site. Sites may be down, I thought.","title":"Wireless router problem and an unexpected way to solve it."},{"content":"I had a very ‘uncomfortable’ issue with Idea when using it for ant builds – it hang in certain places like jar update task, rename task or similar.\nAll my struggle can be found on Idea track. Fortunately Carl Abramsson found a workaround for that issue using\n-noinput\nswitch to ant launch. Now everything works like a charm. Decided to create this post in case some one will be desperately googling for a solution in the wrong place 🙂\n","permalink":"https://blog.vnomad.com/posts/code/idea-ant-hanging/","summary":"I had a very ‘uncomfortable’ issue with Idea when using it for ant builds – it hang in certain places like jar update task, rename task or similar.\nAll my struggle can be found on Idea track. Fortunately Carl Abramsson found a workaround for that issue using\n-noinput\nswitch to ant launch. Now everything works like a charm. Decided to create this post in case some one will be desperately googling for a solution in the wrong place 🙂","title":"Idea ant hanging"},{"content":"Installed, played with it a bit… Looks nice 🙂\nAmong significant pluses(IMHO of course):\nsmoother experience nice improved and thought out UI sms log deserves additional applause (clap)(clap)(clap) back(PC-\u0026gt;phone) synchronization improved(both speed and reliability) working(at last) maps(NavTech) among things I miss: full control over the phone\u0026#8217;s file system application install media(other then mp3) transfer But for those the are great news: Good ol\u0026#8217; PC Suite is not removed with Ovi upgrade 🙂 So you can still use it if you wish to\u0026#8230; Generally Ovi is a much better tool for daily sync then PC Suite was. I literally enjoy using it. And most of the PC Suite functionality preserved. I didn\u0026#8217;t use the Ovi store \u0026#8211; the main purpose of all this thing :):):) but I used maps service and it is pretty decent. Keeping in mind that you can download the maps for different regions and upload them to your mobile beforehand makes it a very useful thing, specially if you have a gen5 Nokia. ","permalink":"https://blog.vnomad.com/posts/code/nokia-ovi-suite/","summary":"Installed, played with it a bit… Looks nice 🙂\nAmong significant pluses(IMHO of course):\nsmoother experience nice improved and thought out UI sms log deserves additional applause (clap)(clap)(clap) back(PC-\u0026gt;phone) synchronization improved(both speed and reliability) working(at last) maps(NavTech) among things I miss: full control over the phone\u0026#8217;s file system application install media(other then mp3) transfer But for those the are great news: Good ol\u0026#8217; PC Suite is not removed with Ovi upgrade 🙂 So you can still use it if you wish to\u0026#8230; Generally Ovi is a much better tool for daily sync then PC Suite was.","title":"Nokia Ovi suite"},{"content":"Quite a time ago had to do this but had no time for posting a complete solution. Read a few articles on that so that I got the idea. Although it looks quite simple you might run into several configuration issues firing weird and long stacktraces. To get rid of those I\u0026amp;#8217;ll describe the way it worked for me with some additional comments. First of all lets assume we use JBoss app server. Different versions of JBoss have their own configuration \u0026amp;#8220;specials\u0026amp;#8221; so I\u0026amp;#8217;ll stick to 5.0.1 jdk 6. First of all we need to register the desired datasource withing the container obtaining a JNDI name. Example configurtion files for registration can be found in [JBoss install dir]/docsexamplesjca. The resulting config file which has to be pout under server/[configuration_name]/deploy would look like \u0026lt;local-tx-datasource\u0026gt; \u0026lt;jndi-name\u0026gt;MySqlDS\u0026lt;/jndi-name\u0026gt; \u0026lt;connection-url\u0026gt;jdbc:mysql://localhost:3306/mydatasource\u0026lt;/connection-url\u0026gt; \u0026lt;driver-class\u0026gt;com.mysql.jdbc.Driver\u0026lt;/driver-class\u0026gt; \u0026lt;user-name\u0026gt;user\u0026lt;/user-name\u0026gt; \u0026lt;password\u0026gt;pwd\u0026lt;/password\u0026gt; \u0026lt;exception-sorter-class-name\u0026gt;org.jboss.resource.adapter.jdbc.vendor.MySQLExceptionSorter\u0026lt;/exception-sorter-class-name\u0026gt; \u0026lt;metadata\u0026gt; \u0026lt;type-mapping\u0026gt;mySQL\u0026lt;/type-mapping\u0026gt; \u0026lt;/metadata\u0026gt; \u0026lt;/local-tx-datasource\u0026gt; Then in hibernate properties\n###### JNDI std JBOSS connection #################### hibernate.connection.datasource = java:MySqlDS hibernate.transaction.factory_class = org.hibernate.transaction.JTATransactionFactory hibernate.transaction.manager\\_lookup\\_class = org.hibernate.transaction.JBossTransactionManagerLookup Deploying your app, especially if you deployed with Tomcat compatibility you might see the next exception on startup:\nERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/mydb]] (main) Exception starting filter ServiceFilter java.lang.\u0026lt;b\u0026gt;ClassCastException\u0026lt;/b\u0026gt;: com.arjuna.ats.jbossatx.jta.TransactionManagerDelegate cannot be cast to javax.transaction.TransactionManager at org.hibernate.transaction.JNDITransactionManagerLookup.getTransactionManager(JNDITransactionManagerLookup.java:23) at org.hibernate.impl.SessionFactoryImpl.SessionFactoryImpl.java:264) at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1055) In short this means that you have a classloader issue having loaded the wrong manager first. Most likely you have the javax-transaction.jar in your bin. Remove it and everything will work fine :).\nIf you need to set up the very same thing on Tomcat, then you have to keep in mind the next thing\nTomcat is a hybrid sort of environment (neither fish nor fowl) from the standpoint of Hibernate. Tomcat provides a JNDI and DataSource, unlike a standalone application. The DataSource facility should facilitate portability among application servers. But like a standalone environment, Tomcat provides no Transaction Manager. Hence your code must use the Hibernate Transaction Manager, as it would in a standalone application environment\nWith this in mind you’ll have to configure the server.xml with\n\u0026lt;Resource name=\u0026#34;jdbc/testdb\u0026#34; auth=\u0026#34;Container\u0026#34; type=\u0026#34;javax.sql.DataSource\u0026#34; maxActive=\u0026#34;100\u0026#34; maxIdle=\u0026#34;30\u0026#34; maxWait=\u0026#34;10000\u0026#34; username=\u0026#34;user\u0026#34; password=\u0026#34;pwd\u0026#34; driverClassName=\u0026#34;com.mysql.jdbc.Driver\u0026#34; url=\u0026#34;jdbc:mysql://localhost:3306/mydatasource?autoReconnect=true\u0026#34;/\u0026gt; And web.xml with\n\u0026lt;resource-ref\u0026gt; \u0026lt;description\u0026gt;My datasource\u0026lt;/description\u0026gt; \u0026lt;res-ref-name\u0026gt;jdbc/testdb\u0026lt;/res-ref-name\u0026gt; \u0026lt;res-type\u0026gt;javax.sql.DataSource\u0026lt;/res-type\u0026gt; \u0026lt;res-auth\u0026gt;Container\u0026lt;/res-auth\u0026gt; \u0026lt;/resource-ref\u0026gt; Then your hibernate.properties configuration would look like:\nhibernate.dialect=org.hibernate.dialect.MySQLInnoDBDialect hibernate.connection.datasource = java:comp/env/jdbc/testdb hibernate.transaction.factory_class = org.hibernate.transaction.JTATransactionFactory ","permalink":"https://blog.vnomad.com/posts/code/switching-to-container-based-datasource/","summary":"Quite a time ago had to do this but had no time for posting a complete solution. Read a few articles on that so that I got the idea. Although it looks quite simple you might run into several configuration issues firing weird and long stacktraces. To get rid of those I\u0026amp;#8217;ll describe the way it worked for me with some additional comments. First of all lets assume we use JBoss app server.","title":"Switching to  container based datasource…"},{"content":" Those of you who use devenv for building VS solutions(although you are discouraged to [here][1]) might get into trouble if your solution has more than 1 project and it takes quite a time building both. Today I had a problem with that launching VS build from inside an ant script \u0026amp;#8211; a standard windows crash appeared with 0xc000005 error code and a \u0026amp;#8220;friendly\u0026amp;#8221; Send/Don\u0026amp;#8217;t send error to Microsoft dialog. Also I noticed that the VS cl.exe compiler process is hanging after this crash, waiting for infinity. Googling around led me to [this hm\u0026amp;#8230; page][2] after I thoroughly read the [very one microsoft forum thread about the issue][3]. The culprit is that you have to use 1 thread for all your compiling. Reposting from the last link you have to set “maximum number of parallel project builds” to 1 instead of 2 or more, it doesn’t crash anymore.\nexplanation – a memory leak in the building module…\nThis actually doesn\u0026amp;#8217;t have to reproduce in SP1. I\u0026amp;#8217;ve got the latest VS Team developer with the latest SP and it still reproduces\u0026amp;#8230; Will try msBuild tomorrow and see if situation improves having more threads as the way it had been mentioned in the above links \u0026amp;#8211; if you have multi-core architecture you probably don\u0026amp;#8217;t want to do everything in one thread, especially if this is your continuous integration server. ","permalink":"https://blog.vnomad.com/posts/code/devenv-crash-from-the-command-line/","summary":"Those of you who use devenv for building VS solutions(although you are discouraged to [here][1]) might get into trouble if your solution has more than 1 project and it takes quite a time building both. Today I had a problem with that launching VS build from inside an ant script \u0026amp;#8211; a standard windows crash appeared with 0xc000005 error code and a \u0026amp;#8220;friendly\u0026amp;#8221; Send/Don\u0026amp;#8217;t send error to Microsoft dialog. Also I noticed that the VS cl.","title":"Devenv crash from the command line."},{"content":"There are a few articles on the web describing how to load assemblies using reflection, thus allowing you to execute third-party code inside your own application. While applicable in most cases, my customer wanted those plugins to be replaceable on-the-fly. Keep mind that once an assembly has been loaded into an application domain it cannot be unloaded unless you unload the domain(which is you main app domain by default)=close the application. Also Loading dll’s in the main application domain is very risky in terms of security concerns. But back to the problem – as long as your assembly is loaded into any domain it is locked, meaning that you can’t replace it with the newer version.\nNaturally you’ll turn to creating a separate app domain. and try to AppDomain.load() assembly there… Now that’s the time you’ll start experiencing problems. Here we can get smth like “This method should only be used to load an assembly into the current application domain. This method is defined for interoperability callers who cannot call the static Load method.” In short – you’ll fail to load the assembly having its path. Well, actually what you really need is to be able to get some object out of there, right? Suppose you use simple “middle-tier-interface” assembly like\nnamespace PInterface { public interface PluginInterface { string DoSmth(); } } Then when you want to load Some type, let it be like this:\nnamespace SamplePlugin { public class Plugin1 :MarshalByRefObject, PluginInterface { #region PluginInterface public string DoSmth() { return \u0026#34;Hello!\u0026#34;; } #endregion } } You would simply do it like:\nAppDomain newDomain = AppDomain.CreateDomain(\u0026#34;newDOmain\u0026#34;); newDomain.CreateInstanceFromAndUnwrap(pathToDLL, pluginClassName); Assuming you know the class name(s) of course:). If you don’t, then it’s 2 choices: either you specify that the plugin assembly has to have a “marker” type (say “class PluginType{}”) and then after loading an assembly into app domain execute the callback on it to get the class names via reflection load OR you might end up with a crossDomain walker like this:\nusing System; using System.Collections.Generic; using System.Windows.Forms; using System.Reflection; namespace WindowsApplication1 { static class Program { private readonly static string PLUGIN_INTERFACE_NAME = \u0026#34;PluginInterfaceName\u0026#34;; private readonly static string PLUGIN_CLASSES_NAMES = \u0026#34;PluginClasses\u0026#34;; /// \u0026lt;summary\u0026gt; /// The main entry point for the application. /// \u0026lt;/summary\u0026gt; [STAThread] static int Main(String[] args) { object interfaceName = AppDomain.CurrentDomain.GetData(PLUGIN_INTERFACE_NAME); List\u0026lt;string\u0026gt; pluginClassesNames = new List\u0026lt;string\u0026gt;(3); if (args.Length \u0026gt; 0) { string sInterfaceName = (string)interfaceName; foreach(string arg in args) try { Assembly asm = Assembly.LoadFrom(arg); Type[] possiblePlugins = asm.GetTypes(); List\u0026lt;Type\u0026gt; realCandidates = new List\u0026lt;Type\u0026gt;(3); foreach (Type t in possiblePlugins) { if (!t.IsAbstract \u0026amp;\u0026amp; !t.IsInterface \u0026amp;\u0026amp; (t.GetInterface(sInterfaceName) != null)) pluginClassesNames.Add(t.FullName); } } catch (Exception ex) { pluginClassesNames.Add(\u0026#34;Exception \u0026#34; + ex.ToString()); } } AppDomain.CurrentDomain.SetData(PLUGIN_CLASSES_NAMES, pluginClassesNames.ToArray()); return pluginClassesNames.Count; } } } using it won’t be a problem:\nint execRes = newDomain.ExecuteAssembly(_classFinderAssemblyPath, AppDomain.CurrentDomain.Evidence, new string[] { path }); if (execRes \u0026lt;= 0) throw new Exception(\u0026#34;No plugins found in \u0026#34; + path); string[] pluginClasses = (string[])newDomain.GetData(PLUGIN_CLASSES_NAMES); Then calling a simple AppDomain.Unload(); would solve your problem. If you are lucky enough to have a pure .NET world and are not concerned about security, then you’re definitely lucky. And I am not :):(.\nLet us now assume you want those plugins to be consumable from the c++ application. Suppose your client has a big c++ app and now realized developing plugins in .NET would be easier. Then your natural choice is to make it as much less painful for c++ app to use you code as possible. A solution to that would be to have a .NET plugin manager, exposed to c++ app via the COM object. You may end up with smth. like this: using System; using System.Collections.Generic; using System.Text; using System.Runtime.InteropServices; using System.Reflection; using System.IO; using System.Runtime.Remoting; using System.Security.Policy; using System.Security; using System.Security.Permissions; namespace ComPluginManager { [ComVisible(true)] public class PluginManger: IPluginManager { private IDictionary\u0026lt;String, AppDomain\u0026gt; _pluginStore; private String _interfaceName = \u0026#34;PluginInterface\u0026#34;; private String _classFinderAssemblyPath; private readonly static string PLUGIN_INTERFACE_NAME = \u0026#34;PluginInterfaceName\u0026#34;; private readonly static string PLUGIN_CLASSES_NAMES = \u0026#34;PluginClasses\u0026#34;; public PluginManger() { _pluginStore = new Dictionary\u0026lt;String, AppDomain\u0026gt;(5); } public object[] LoadPlugin(string path) { List\u0026lt;object\u0026gt; result = new List\u0026lt;object\u0026gt;(3); AppDomainSetup setup = new AppDomainSetup(); setup.ApplicationBase = Path.GetDirectoryName(path); // plugin path PermissionSet trustPermissionSet = new PermissionSet(PermissionState.Unrestricted); AppDomain newDomain = AppDomain.CreateDomain( String.Format(\u0026#34;Domain{0}\u0026#34;, Path.GetFileName(path)), null, setup, trustPermissionSet); try { newDomain.SetData(PLUGIN_INTERFACE_NAME, \u0026#34;PluginInterface\u0026#34;); int execRes = newDomain.ExecuteAssembly(_classFinderAssemblyPath, AppDomain.CurrentDomain.Evidence, new string[] { path }); if (execRes \u0026lt;= 0) throw new Exception(\u0026#34;No plugins found in \u0026#34; + path); string[] pluginClasses = (string[])newDomain.GetData(PLUGIN_CLASSES_NAMES); _pluginStore[path] = newDomain; foreach (string pluginClass in pluginClasses) { ObjectHandle objHandle = Activator.CreateInstanceFrom(newDomain, path, pluginClass); if (objHandle != null) { object unwrappedInstance = objHandle.Unwrap(); result.Add(unwrappedInstance); } result.Add(_pluginStore[path].CreateInstanceFromAndUnwrap(path, pluginClass)); } } catch (Exception ex) { result.Add(ex); } return result.ToArray(); } public void UnloadPlugin(string path) { try { AppDomain domain = _pluginStore[path]; _pluginStore.Remove(path); AppDomain.Unload(domain); } catch (Exception ex) { ;} } public String InterfaceName { get { return _interfaceName; } set { _interfaceName = value; } } public String ClassFinderAssemblyPath { get { return _classFinderAssemblyPath; } set { _classFinderAssemblyPath = value; } } } } And it’s interface of course like:\nusing System; using System.Collections.Generic; using System.Text; using System.Runtime.InteropServices; namespace ComPluginManager { [ComVisible(true)] public interface IPluginManager { String InterfaceName { get; set; } String ClassFinderAssemblyPath { get; set;} void UnloadPlugin(String path); Object[] LoadPlugin(String path); } } Two things to notice here: I haven’t managed to get the plain class’s public methods visible to C++ so I used an interface. And second, probably the most important – PermissionSet. If you do not set this you wont be able to anything inside you app domain, except the very basic things like calculations and maybe some other data manipulation. You can find more info on this here and here.\nAnother important thing is that as long as your code is going to be executed from an unmanaged environment and want to do smth with partially trusted code – you have to use\n[assembly: AllowPartiallyTrustedCallersAttribute()] In both manager and plugin assemblies. Further explanation on how it works can be found here.\nNow if you crossed your fingers at the right moment did everything wright this plugin manager would load assemblies for you, return you the instantiated objects and free the dlls on your request flawlesly.\nAnd you will be able to put that shiny “Update” button on the toolbar without asking the user to reboot/restart an application whenever you need the plugin update. And not bother with temporary files and “special” startup routines… etc. I think the idea is clear 🙂\n","permalink":"https://blog.vnomad.com/posts/code/creating-dynamic-plugin-architecture-with-c-net/","summary":"There are a few articles on the web describing how to load assemblies using reflection, thus allowing you to execute third-party code inside your own application. While applicable in most cases, my customer wanted those plugins to be replaceable on-the-fly. Keep mind that once an assembly has been loaded into an application domain it cannot be unloaded unless you unload the domain(which is you main app domain by default)=close the application.","title":"Creating dynamic plugin architecture with C#.NET"},{"content":"\nBeing a \u0026#8216;mobile\u0026#8217; developer is definitely fun. Although sometimes, when you think about it \u0026#8216;deeper\u0026#8217; you\u0026#8217;d rather drink a pint of whiskey:). Take a look at the enterprise Symbian OS: http://www.codeproject.com/KB/mobile/Symbian_OS_design_faults.aspx Reliable, huh? 😉 And it\u0026#8217;s not just Symbian \u0026#8211; in my point of view it\u0026#8217;s MIDP itself. You just can\u0026#8217;t rely on it unless you test, test and once again \u0026#8211; test. For me it feels like implementation usually just do not care about about what does the specification say. Things just DO NOT WORK\u0026#8230; although documented that they should. Taking into account that there are tons of different devices out there your development might just drive you crazy. For example this issue haven\u0026#8217;t ever been resolved so far. We are moving to mobile applications fast and I hope many things would change soon, for developing Products with all the \u0026#8216;stuff\u0026#8217; we have available now\u0026#8230; it\u0026#8217;s bit\u0026#8230; em\u0026#8230; unreliable. If not worse. I\u0026#8217;m not talking here about mobile games or some sparky screensaver \u0026#8211; this can do fine even now. But it\u0026#8217;s still interesting \u0026#8211; you\u0026#8217;re back into time when you had to count every single byte of memory you use and expect that environment \u0026#8220;doesn\u0026#8217;t really like those guys here\u0026#8221;. SO that\u0026#8217;s a bit of a challenge and it definitely makes you \u0026#8220;programing understanding\u0026#8221; better. ","permalink":"https://blog.vnomad.com/posts/code/sad-funny-world-of-mobile-development/","summary":"Being a \u0026#8216;mobile\u0026#8217; developer is definitely fun. Although sometimes, when you think about it \u0026#8216;deeper\u0026#8217; you\u0026#8217;d rather drink a pint of whiskey:). Take a look at the enterprise Symbian OS: http://www.codeproject.com/KB/mobile/Symbian_OS_design_faults.aspx Reliable, huh? 😉 And it\u0026#8217;s not just Symbian \u0026#8211; in my point of view it\u0026#8217;s MIDP itself. You just can\u0026#8217;t rely on it unless you test, test and once again \u0026#8211; test. For me it feels like implementation usually just do not care about about what does the specification say.","title":"Sad \u0026 funny world of mobile development."},{"content":"Yess and BTW its the Skype shortcut. While on thinking mood guess what would the ‘telemonision’ or here in Ukraine ‘telemonizor’ would mean? You guessed it right – a monitor, which has a capability to be come an TV. Why would one need such a thing – I dunno, but lots and lots of people here want it. I suppose they think that in this way they would spend less money – but hey – you would have none: no monitor would be a good TV and no TV would suit you as a nice fast-response monitor, UNLESS it costs more then 2 of them bought separately. Then what’s the fuss about I ask?! And yet another day someone comes and asks- could you advice a nice monitor? You tell smth from your own experience, and they hear smth like – “Oh but it’s too small to be a nice TV”. god damn – you asked about the monitor – not the TV set, or I lost it somewhere? And the story repeats all over again with different things : PcBox(nice workstation PC + XBox), Cameraphone…etc. Last one seems to be a well known product already.. for all those telemonision-lovers out there. Poor people I must say.\n","permalink":"https://blog.vnomad.com/posts/tea/think/","summary":"Yess and BTW its the Skype shortcut. While on thinking mood guess what would the ‘telemonision’ or here in Ukraine ‘telemonizor’ would mean? You guessed it right – a monitor, which has a capability to be come an TV. Why would one need such a thing – I dunno, but lots and lots of people here want it. I suppose they think that in this way they would spend less money – but hey – you would have none: no monitor would be a good TV and no TV would suit you as a nice fast-response monitor, UNLESS it costs more then 2 of them bought separately.","title":":? = (think)"},{"content":"Now that I wrote lots of \u0026amp;#8216;bad\u0026amp;#8217; stuff about this new community version \u0026amp;#8211; time to write something fine, as I really enjoy developing in this IDE. First of all I downloaded a new 90.193 version and noticed that UI issues are all fixed in it. Although my ‘more serious’ still reproduce this is something pleasant, indicating that the work is in progress and I’m sure all the other stuff will be fixed soon.\nAnother thing I wanted to tell is a lil’ story about how IDE can save ‘ur time. I gave a task to my co-developer to clean-up the Constants class of all the unnecessary constants we had. there was quite a rush some time before and we didn’t have time to think over renaming and finding the ‘correct match’. Using Eclipse it took 3-4 hours looking ant every single constant and drilling through the code to find usages. Ok. Today I opened the file with my Idea community and guess what I saw? Right – 9 constants in different places reported having no usage at all. How much time did I spend? Probably a second – to open the file, all the rest had been done by Idea… And this is just one of the cases.\nSo I\u0026amp;#8217;ll continue using this community version and try to contribute to it as much as I can, for it definitely makes me more productive. ","permalink":"https://blog.vnomad.com/posts/code/jetbrains-idea-still-the-best/","summary":"Now that I wrote lots of \u0026amp;#8216;bad\u0026amp;#8217; stuff about this new community version \u0026amp;#8211; time to write something fine, as I really enjoy developing in this IDE. First of all I downloaded a new 90.193 version and noticed that UI issues are all fixed in it. Although my ‘more serious’ still reproduce this is something pleasant, indicating that the work is in progress and I’m sure all the other stuff will be fixed soon.","title":"JetBrains Idea – still the best."},{"content":"Now seriously smth HAS to be done about Ukrainian girls reputation in Europe and generally throughout the world. Now I can’t speak for whole Ukraine but it seems to me that at least Western Ukraine girls are not that money-loving. Today walking to work I saw this\nAll this stuff means \u0026#8220;I am a wealthy entrepreneur from USA looking for a nice whore wife from Ukraine aging 19-27\u0026#8243;. Now I\u0026#8217;ve seen this in newspapers and message boards etc. But on billboard???!!! I think they have crossed the line with this. Where is the Ukrainian MFA looking? It ruined my day.. ","permalink":"https://blog.vnomad.com/posts/tea/femen-must-have-been-doing-that-right/","summary":"Now seriously smth HAS to be done about Ukrainian girls reputation in Europe and generally throughout the world. Now I can’t speak for whole Ukraine but it seems to me that at least Western Ukraine girls are not that money-loving. Today walking to work I saw this\nAll this stuff means \u0026#8220;I am a wealthy entrepreneur from USA looking for a nice whore wife from Ukraine aging 19-27\u0026#8243;. Now I\u0026#8217;ve seen this in newspapers and message boards etc.","title":"Femen must have been doing that right."},{"content":"In my \u0026lt;span\u0026gt;\u0026lt;/span\u0026gt;[\u0026lt;span\u0026gt;\u0026lt;/span\u0026gt;previous pos][1][\u0026lt;span\u0026gt;\u0026lt;/span\u0026gt;t\u0026lt;span\u0026gt;\u0026lt;/span\u0026gt;][2] I described some minors that harmed my first impressions on this perfect IDE, but now that I used it for a week more serious things came along. First of all I’ve ran into an issue with ant Jar task. It refused to work with an ‘update’ option set to true. The interesting part of it was that executing the task independently didn’t cause any pain, but launching it in the sequence(multiple calls through different build scripts) caused ant to … hang. It just waits indefinitely. I double checked if the file was locked – it wasn’t. I could do anything I want with the file – even delete it while ant was successfully hanging. Fortunately I resolved this by using a combination of ‘unzip’/’jar’ tasks, but “it’s not the right way”.\nSecond thing that struck me was the ant editor. I felt really happy fixing build scripts in Idea so I recommended it to a colleague of mine. She tried it and the first time she opened the the build script – Idea hang with eating all of the CPU and a fair amount of ram. I thought it’s something like ‘things happen’. But it reproduced continuously. So I tried opening it by myself – and it also reproduced!!! Damn! Eclipse opens the file in a blink of the eye. The file is fairly big and complicated. But it is _impossible _to work with it in Idea.\nPersonally I don’t think I would experience any of these issues using the earlier 8.0 commercial version or 9.0 commercial. But these things might really ruin Idea reputation as a “great IDE” for people who haven’t used it and want to look at it while it’s available free.\nThe last but not the least – plugins. Even if it does work with 9.0 version, it may well crash your community version, so watch – out.\n","permalink":"https://blog.vnomad.com/posts/code/intellij-idea-community-edition-now-it-gets-serious/","summary":"In my \u0026lt;span\u0026gt;\u0026lt;/span\u0026gt;[\u0026lt;span\u0026gt;\u0026lt;/span\u0026gt;previous pos][1][\u0026lt;span\u0026gt;\u0026lt;/span\u0026gt;t\u0026lt;span\u0026gt;\u0026lt;/span\u0026gt;][2] I described some minors that harmed my first impressions on this perfect IDE, but now that I used it for a week more serious things came along. First of all I’ve ran into an issue with ant Jar task. It refused to work with an ‘update’ option set to true. The interesting part of it was that executing the task independently didn’t cause any pain, but launching it in the sequence(multiple calls through different build scripts) caused ant to … hang.","title":"IntelliJ IDEA Community Edition – now it gets serious."},{"content":"Recently JetBrains [released the brand new version of IDEA][1] free for all. A few years before I Used this IDE for some projects and was very happy with it \u0026amp;#8211; consequent moving to eclipse disappointed me much. However time passed and I\u0026amp;#8217;ve got used to eclipse \u0026amp;#8211; it\u0026amp;#8217;s not a bad platform after all and it was free. So now when the free version idea came out I was very anxious convincing our customers to switch. Our system uses Ant for all building and and we\u0026amp;#8217;re used to remote debugging \u0026amp;#8211; thus all these fancy features left behind in community version didn\u0026amp;#8217;t scare me off. It also has to be mentioned that we do quite a bit of mobile development and I thought J2ME plugin available would do just right. However things went on not just as fine as I’ve expected them to. Firstly this J2ME plugin refused to work crashing so seriously, that I had to reinstall the IDE. Moreover after uninstall/install IDE refused to launch at all. I had to remove it once again, restart and then install it from scratch – then it worked. Also I noticed IndexOutOfRange exceptions happening when using ‘External libraries’ feature in the project tab. Of course they do not happen all the time – you have to do some quick combination of adding/removing/updating libraries, but still – it’s not the way of “the most intelligent IDE”.\nI was most disappointed with menus in project settings dialog – they just refuse to work after some actions: add new library button, which normally results in “Add new library” dialog starts presenting 2 menu item one of which is “add new library” and the second is “empty” 🙂 none clickable.\nHowever all these issues can be solved reloading the IDE which saves the day as the IDE is fast. Of cource all the standard IDEA features related to code completion, hinting and other ‘helping the developer to master his/her masterpiece” works perfect and to my mind – way better then the same thing in Eclipse.\nTo sum up I would say that I expected to see just another state-of-the-art IDE and it really turned out to be one. Except that it disappointed me quite a number of times :). Since these things were not critical and Eclipse also likes to crash suddenly – I’ll stick to this IDE, hoping the JetBrains will solve these problems in the nearest “patch”. If they don’t… well i think they will 🙂\n","permalink":"https://blog.vnomad.com/posts/code/intellij-idea-community-edition-first-impressions/","summary":"Recently JetBrains [released the brand new version of IDEA][1] free for all. A few years before I Used this IDE for some projects and was very happy with it \u0026amp;#8211; consequent moving to eclipse disappointed me much. However time passed and I\u0026amp;#8217;ve got used to eclipse \u0026amp;#8211; it\u0026amp;#8217;s not a bad platform after all and it was free. So now when the free version idea came out I was very anxious convincing our customers to switch.","title":"IntelliJ IDEA Community Edition first impressions."},{"content":"THEY ALL SUCK!!! a big deal.\nI will start with the last one. Having just recovered from the flu I decided to go to the hospital in order to check if I’ve totally recovered and that there is nothing “under the hood” which would strike me in the back in few days. The normal procedure here is to have a blood analysis and a few more tests. Step one – find the doctor. The friendly woman on the reception forwarded me to the room 225 where I had to meet one. No lines – I just enter the room and the doctor greets me: “Hi, were are you living?” WTF?! – “Bla-bla”(giving him my address). “You know – I can do anything for you – your flat is not ‘in my range’. Your doctor will come 6 hours later.” God damn! I’ve got work to do! After I insisted he gave me the ticket for tests. Happy with that I come 4 storeys up. I enter the test-room and the friendly nurse greets me “Hi, have you got your cotton-wool and hydrogen peroxide with you? If not we’re not able to proceed with the tests”. Holy….. where am I ? In the desert? Africa? Global shortage of everything? NO – UKRAINE! It turned out that I just need to give her 2 UAH and it turns out the everything is in its place…. For God sakes! I understand salaries are low, but soon I see I would have to do the tests by myself – they will generously give me an opportunity to use their precious equipment!\nNow those people… We’ve got an epidemic situation here recently. Same as EVERY year. Just that now also have elections coming. So this situation is shifted to be the disaster of all times and our candidates faithfully fighting it. Thanks to that everyone got frightened that they will come down ill or even worse – die. Predictably (in the ukrainian way) people bought all the available medicine in all possible stores. Result – healthy people with pills, store owners with money – poor ill people without money and medicine dying. This is the Ukrainian way of preventing epidemics.\nNow you just listen to them – the major reason for the flu to spread so fast is !!!! migration of people in western Ukraine. Translation: these european bastards going back and forth and pople trying to earn a bit of money – they are THE MOST EVIL – lets isolate them! Bullshit! Double bullshit! Look into our hospitals – they are almost ruins. Let any european enter the toilet in our hospital, in the hospital where people are trying to cure serious diseases or are having procedures of different complexity, where babies are born – he/she will never vote for Ukraine to join EU. EVER. I mentioned toilet because if of hand it might not strike that hard – visiting that place leaves an unforgettable impression. This is why we have an epidemic situation – because doctors say – it’s not my case,and all the money for hospitals are … vanished.\nI wonder if it ever comes to en end or at least change. And I wonder if I would be still alive…\n","permalink":"https://blog.vnomad.com/posts/tea/flu-people-and-ukrainian-healthcare-system/","summary":"THEY ALL SUCK!!! a big deal.\nI will start with the last one. Having just recovered from the flu I decided to go to the hospital in order to check if I’ve totally recovered and that there is nothing “under the hood” which would strike me in the back in few days. The normal procedure here is to have a blood analysis and a few more tests. Step one – find the doctor.","title":"Flu, people and ukrainian healthcare system"},{"content":"Reading the developers guide on BlackBerry you may come across astonishing things. I’m impressed. When I started doing little things in the blackberry app I soon got used to it and considered the platform to be well organized. Now that I’m reading a book I get more and more confused about what I should do and what I shan’t! Take a look at this masterpiece\n\u003e \u003e \u003e Why it is not necessary to obfuscate applications \u003e \u003e \u003e \u003e The compiler for the BlackBerry® Java™ Development Environment is set to minimize the size of the application. \u003e \u003e \u003e \u003e The .cod file that results provides obfuscation-like services that are similar to those that obfuscation packages \u003e \u003e \u003e \u003e provide in an effort to reduce the size of the .cod file. For example, the BlackBerry Java Development Environment \u003e \u003e \u003e \u003e removes the following information from a .cod file: \u003e \u003e \u003e \u003e • all debug information \u003e \u003e \u003e \u003e • local variable names \u003e \u003e \u003e \u003e • source Line Numbers \u003e \u003e \u003e \u003e • private method and member names \u003e \u003e \u003e \u003e As such, RIM does not believe it is necessary for you to provide obfuscation for your applications in addition to the \u003e \u003e \u003e \u003e existing obfuscation that, by default, the BlackBerry JDE provides for all applications. In fact, Research In Motion \u003e \u003e \u003e \u003e does not perform any additional obfuscation of its own products. \u003e \u003e \u003e \u003e The BlackBerry JDE does not integrate support for obfuscation through third-party tools . As such, you must \u003e \u003e \u003e \u003e include a command-line procedure to obfuscate .cod files for use on BlackBerry devices. \u003e \u003e \u003e \u003e \u003e \u003e \u003e \u003e So obfuscate or not? that is thew question\u0026#8230;. \u003e \u003e \u003e \u003e Another one \u0026#8211; comment to a method from SDK\nCategory:Framework: This element may be called by the underlying framework. Members that are invoked by the framework may not behave exactly as documented. WHAT DA HELL??? \u003e \u003e \u003e \u003e And the last one so far \u003e \u003e \u003e \u003e \u003e \u003e \u003e \u003e \u003e \u003e HorizontalFieldManager organizes fields horizontally. To enable horizontal scrolling, provide the \u003e \u003e \u003e \u003e Manager.HORIZONTAL_SCROLL style. If you do not include the HORIZONTAL_SCROLL parameter, the \u003e \u003e \u003e \u003e fields arrange themselves horizontally and can exceed the width of the screen, but users cannot scroll to \u003e \u003e \u003e \u003e content that is beyond the right side of the screen. \u003e \u003e \u003e \u003e BlackBerry devices do not display horizontal scrolling indicators or scroll bars \u003e \u003e \u003e \u003e \u003e \u003e \u003e \u003e \u003e \u003e Just wait me telling the user \u0026#8211; \u0026#8220;This application is magic \u0026#8211; you don\u0026#8217;t see the scrollbars, but the content is there \u0026#8211; believe it, or not\u0026#8221; (rofl)\u0026#8230;.\nProbably will edit this post later with more \u0026#8220;funny stuff\u0026#8221;\n\u0026#8212;\u0026#8212;\u0026#8212;\u0026#8212; and here it comes:)\nNice title\nUsing HTTPS connections.\nAfter this goes the detailed explanation how to code and use http(s) connections on BlackBerry. And then a small hint\n: The BlackBerry Internet Service Browser does not allow Java applications to initiate HTTP, HTTPS, or TCP connections. LOL. \u003e ","permalink":"https://blog.vnomad.com/posts/code/blackberry-fun/","summary":"Reading the developers guide on BlackBerry you may come across astonishing things. I’m impressed. When I started doing little things in the blackberry app I soon got used to it and considered the platform to be well organized. Now that I’m reading a book I get more and more confused about what I should do and what I shan’t! Take a look at this masterpiece\n\u003e \u003e \u003e Why it is not necessary to obfuscate applications \u003e \u003e \u003e \u003e The compiler for the BlackBerry® Java™ Development Environment is set to minimize the size of the application.","title":"BlackBerry fun."},{"content":"Continuing the BlackBerry theme would like to share a few more issues I’ve ran into recently.\nInternet usage.\nIf you subscribe to blackberry service you can optionally buy some “internet package” from your provider in order to minimize internet expenses. This a great choice since you’re going to visit internet pretty often if you’ve chosen blackberry. Everything goes fine until you start using Java apps on your phone. Java uses it OWN predefined internet connection DIFFERENT from the one the browser uses. Thus don’t be surprised to receive bills in the end of the month for internet besides your prepaid one. Currently I haven’t found a solution to workaround that and doubt that there is one. OTA\nWhen compiling your Java app to cod files watch out for .debug files. If you’ll notice some than you’re most likely to have OTA downloading problems with “Error code 97” – invalid cod file. The reason for this is that you’ve reached the byte limit for one library/cod. In BB you’re not allowed to send more than N(differs from JDE to JDE) bytes of data in one cod OTA. Workaround for that is splitting code into libraries and linking them. ALSO JDE may split your cod files into [name]-1,[name]-2 .cod files. The reason and solution for this is the same. Research RIM libraries – they have a lot of peculiar things developed tat can really help you out when “reinventing the wheel”. ","permalink":"https://blog.vnomad.com/posts/code/blackberry-internet-usage-ota-and-other-staff/","summary":"Continuing the BlackBerry theme would like to share a few more issues I’ve ran into recently.\nInternet usage.\nIf you subscribe to blackberry service you can optionally buy some “internet package” from your provider in order to minimize internet expenses. This a great choice since you’re going to visit internet pretty often if you’ve chosen blackberry. Everything goes fine until you start using Java apps on your phone. Java uses it OWN predefined internet connection DIFFERENT from the one the browser uses.","title":"BlackBerry internet usage, OTA and other staff."},{"content":"Recently had an issue in the BlackBerry Java application: it was reported to crash if the sounds were on and played often. However it didn’t crash if sounds were played once in a while. After some investigation it turned out that there are no memory leaks but some thing blocked the event dispatch queue. I asked for help on Stack Overflow and BlackBerry developer forums but that didn’t lead me anywhere except that I thought that something definitely gets locked. as my sounds were played via\nSoundPlayer sp = new SoundPlayer((String) ((SoundNotification) arg).getArg() + Constants.EXTENSION_MIDI); sp.setVolumeLevel(100); sp.setMaxPlaybackMilis(4000); invokeLater(sp); i though that maybe this is the concurrent resource access issue as some of the melodies had to be played more than one time. So I implemented a simple manager like\nclass SoundManager implements Runnable { boolean _isRunning; Vector _playList; public SoundManager() { _isRunning = true; _playList = new Vector(10); } public synchronized void stop() { _isRunning = false; } public synchronized void addTrack(String item) { _playList.insertElementAt(item, _playList.size()); notify(); } public void run() { while (_isRunning) { if (_playList.isEmpty()) { synchronized (this) { try { wait(); } catch (InterruptedException e) { // do nothing } } continue; } else { // no f..n queue in this SDK String item = null; synchronized (_playList) { item = (String) _playList.elementAt(0); _playList.removeElementAt(0); } final SoundPlayer sp = new SoundPlayer(item); while (sp.isPlaying()) sleep(500); sp.setVolumeLevel(100); sp.setMaxPlaybackMilis(4000); sp.run(); } } } private void sleep(long timeout) { try { Thread.sleep(timeout); } catch (InterruptedException e) { } } } and launched it along with application. BTW I was pretty much surprised that there IS NO QUEUE in 4.0.2 blackberry JDK SO i had to use Vector(well din’t really have to but it was used all around the code so I just grabbed it to be able to asap). This solved the issue.\nHowever the the root of the problem was different from what I thought(though the solution is still correct). The root of the problem was my misunderstanding of the invokeLater method. It is misleading that it takes Runnable as a param – it actually executes your runnable on the event dispatch queue! Gotcha! Some of my sounds were 13 seconds long – no wonder firmware blocked the app with “Application is not responding” exception.\n","permalink":"https://blog.vnomad.com/posts/code/blackberry-invokelater-and-multimedia/","summary":"Recently had an issue in the BlackBerry Java application: it was reported to crash if the sounds were on and played often. However it didn’t crash if sounds were played once in a while. After some investigation it turned out that there are no memory leaks but some thing blocked the event dispatch queue. I asked for help on Stack Overflow and BlackBerry developer forums but that didn’t lead me anywhere except that I thought that something definitely gets locked.","title":"BlackBerry invokeLater and Multimedia."},{"content":"Finally I found a nice code formatter for google blogs. Thanks to PleaseMakeAnote now I can make such fancy posts as:\nusing System; /// \u0026lt;summary\u0026gt; /// Summary description for Class1 /// \u0026lt;/summary\u0026gt; public class Class1 { public Class1() { // // TODO: Add constructor logic here // int x = 10; } } ","permalink":"https://blog.vnomad.com/posts/code/blogger-code-formatting/","summary":"Finally I found a nice code formatter for google blogs. Thanks to PleaseMakeAnote now I can make such fancy posts as:\nusing System; /// \u0026lt;summary\u0026gt; /// Summary description for Class1 /// \u0026lt;/summary\u0026gt; public class Class1 { public Class1() { // // TODO: Add constructor logic here // int x = 10; } } ","title":"Blogger code formatting."},{"content":" One step forward to MCPD. To my mind there is not that much to pass in this exam(MCPD) \u0026amp;#8211; it\u0026amp;#8217;s like a combination of the previous 2 with some logic included- not just simple development components. Regarding the exam – not much can be said. Only one thing is worth mentioning – it feels like not everything in this exam is covered by the training kit. Of course I can be wrong, but still feels like it is… Interesting how would the next one go…\n","permalink":"https://blog.vnomad.com/posts/code/mcts-acquired/","summary":"One step forward to MCPD. To my mind there is not that much to pass in this exam(MCPD) \u0026amp;#8211; it\u0026amp;#8217;s like a combination of the previous 2 with some logic included- not just simple development components. Regarding the exam – not much can be said. Only one thing is worth mentioning – it feels like not everything in this exam is covered by the training kit. Of course I can be wrong, but still feels like it is… Interesting how would the next one go…","title":"MCTS acquired!"},{"content":" Amazing. Yes it was really amazing. I traveled with my darling Anya and I didn\u0026amp;#8217;t expect it that good especially keeping in mind that we had to go with a 4 star hotel. However it was really nice and if you consider going to Turkey with a low budget \u0026amp;#8211; I would recommend [Kosdere Exclusive][1](the place we stayed in). First thing I have to mention is our tour agency [Tez Tour][2]. Everywhere we went we saw their buses/representatives that were very friendly and helpful. You could get any info|support you needed and always with a cheerful smile. Of course they most of the personnel in the hotel understands/speaks English buy it way more convenient if there is someone that can explain smth to you using your native language. Another thing worth mentioning the Turkish people standard of living. When I was planning to visit this country I believed Ukraine is far more strong both economically and ethically. But when I actually talked to people there and listened to what they say interesting facts turned out. One of the things that impressed me the most(and I’ve seen the proof of it by my very own eyes) – the absence of crime on the streets. If the shop owner wants to close the shop he/she simply hangs a big peace of fabrics over the shop-front and that’s it! Nothing gets stolen. Unf…believable. Also the country takes good care of people, provides free education and has a good well-formed and modern army. BTW half of the country’s budget goes to army needs. Another interesting thing is that an average wedding in Turkey has \u0026gt;500 invitees. And the ones that are held in the countryside have more than 1200 invitees. And all these people know each other. The population of the country is twice as ours and I believe their economy is twice as strong… They produce perfect cars, textile and have a well developed tourism(although it gives them only 5% of their country’s income).\nAnd, of course, the sea. I visited the Mediterranean seashore. The water there is so salty then why you dry-up after swimming you can collect salt from your skin. This fact makes it very easy to swim even with one hand:). the water is blue and somewhere at 6:30 AM it looks totally white(due to lots of salt). 26-28 degrees above zero in the water makes you wanna never come out to the shore.\nA few words about the weather. The first day when we arrived I was struck by the heat and the amount of moisture int the air. To my great relief the conditioner in our room was working regardless of the key-lock present, so I whenever I returned back to my hotel room I could have a fresh breath. But the mediterranian sea was great so I din’t visit my hotel room often :). And later, when I had already got used to the worm climate there sometimes in the evening I even felt a bit cold(and the conditioner was used then hardly once a day for a few hours).\nAnother nice thing was the local food. In the hotel restaurant you could find everything: different meat, fish, vegetables, fruits, junk-food:). I think it could meat anyone’s needs and tastes. Also turkish delight and sherbet are definitely worth trying.\nOf course it is a bit weird to see palms instead of oaks and beeches, swarthy people all around you and most drinks for 1$, but I really think this country is worth visiting again.\n","permalink":"https://blog.vnomad.com/posts/travel/tur/turkey-vacation/","summary":"Amazing. Yes it was really amazing. I traveled with my darling Anya and I didn\u0026amp;#8217;t expect it that good especially keeping in mind that we had to go with a 4 star hotel. However it was really nice and if you consider going to Turkey with a low budget \u0026amp;#8211; I would recommend [Kosdere Exclusive][1](the place we stayed in). First thing I have to mention is our tour agency [Tez Tour][2].","title":"Turkey vacation."},{"content":"It\u0026amp;#8217;s funny sometimes how could absolutely non-officially connected news be linked together so tightly that one couldn\u0026amp;#8217;t even imagine. Today, reading the daily news I came across an article describing the Barack Obama\u0026amp;#8217;s attitude towards Ukrainian \u0026lt;span style=\u0026quot;font-family: -webkit-monospace;\u0026quot;\u0026gt;\u0026lt;span style=\u0026quot;-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\u0026quot;\u0026gt;\u0026lt;span style=\u0026quot;font-family: 'Times New Roman';\u0026quot;\u0026gt;\u0026lt;span style=\u0026quot;-webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px;\u0026quot;\u0026gt;sovereignty along with greetings regarding this year\u0026amp;#8217;s independence day. Between the other it was stated there that \u0026amp;#8220;USA won\u0026amp;#8217;t abandon Ukraine on its way towards democratic future\u0026amp;#8230;\u0026amp;#8221;. Nice words, always pleased to hear/read such things in the mediapress. \u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; But this wasn’t the article that made me write this post. That article arrived 15 minutes later. And it was about… guess what? – Dmitry Medvedev’s greetings about Ukrainian independence day! 🙂 It has to be mentioned that earlier NATO officially stated that they won’t engage in any conflicts regarding Ukrainian territory and borders….\nSo, what was that? A mere coincidence? For me it feels like it wasn’t. Anyways – there are things to think over. And over. IMHO nice that I’m living in Lviv, which is more far away from Russia then most of the cities in Ukraine, very nice.\n","permalink":"https://blog.vnomad.com/posts/tea/ukrainian-independence-day/","summary":"It\u0026amp;#8217;s funny sometimes how could absolutely non-officially connected news be linked together so tightly that one couldn\u0026amp;#8217;t even imagine. Today, reading the daily news I came across an article describing the Barack Obama\u0026amp;#8217;s attitude towards Ukrainian \u0026lt;span style=\u0026quot;font-family: -webkit-monospace;\u0026quot;\u0026gt;\u0026lt;span style=\u0026quot;-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\u0026quot;\u0026gt;\u0026lt;span style=\u0026quot;font-family: 'Times New Roman';\u0026quot;\u0026gt;\u0026lt;span style=\u0026quot;-webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px;\u0026quot;\u0026gt;sovereignty along with greetings regarding this year\u0026amp;#8217;s independence day. Between the other it was stated there that \u0026amp;#8220;USA won\u0026amp;#8217;t abandon Ukraine on its way towards democratic future\u0026amp;#8230;\u0026amp;#8221;.","title":"Ukrainian independence day."},{"content":"Recently(probably 2 moths ago, but still – recently) had to configure a bit of security for our test servers, visible to the web. Of course started with securing services under their own special accounts, limited to a very small amount of rights. Everything went on smoothly except one lil’ thing – it didn’t work:) All permissions were set correctly, all relationships assigned well, but services didn’t start. Resolution(found it in 2 hours) was fairly simple – while creating accounts for my services I forgot to check the “Password never expires” checkbox. Probably Windows wanted to change the password and the service didn’t expose a “free will” for changing pwds so that the whole authorization process failed. Technically it’s my fault, really – stupid case:(\n","permalink":"https://blog.vnomad.com/posts/code/windows-service-accounts/","summary":"Recently(probably 2 moths ago, but still – recently) had to configure a bit of security for our test servers, visible to the web. Of course started with securing services under their own special accounts, limited to a very small amount of rights. Everything went on smoothly except one lil’ thing – it didn’t work:) All permissions were set correctly, all relationships assigned well, but services didn’t start. Resolution(found it in 2 hours) was fairly simple – while creating accounts for my services I forgot to check the “Password never expires” checkbox.","title":"Windows service accounts."},{"content":"It often happens that you have smth. to share with the rest of the world, but you do not have time for it.\n\u0026#8220;You do not have time\u0026#8221;\u0026#8230; sounds pathetic\u0026#8230; I think it happens more because of the laziness\u0026#8230; yeah definitely. Now I begin to understand why podcasts gain more and more popularity these days \u0026#8211; you do not have to organize links, format text. Find errors, reread the written text in order to find ABSOLUTELY ODD sentences 🙂 Interesting how do experienced bloggers keep their notes and where\u0026#8230; My last try is google docs. Though a friend of mine says it not a stable system \u0026#8211; I already use it for some plain text storing and it has never failed. It\u0026#8217;s really convenient, if you\u0026#8217;re online of course:) ","permalink":"https://blog.vnomad.com/posts/tea/how-do-they-do-it/","summary":"It often happens that you have smth. to share with the rest of the world, but you do not have time for it.\n\u0026#8220;You do not have time\u0026#8221;\u0026#8230; sounds pathetic\u0026#8230; I think it happens more because of the laziness\u0026#8230; yeah definitely. Now I begin to understand why podcasts gain more and more popularity these days \u0026#8211; you do not have to organize links, format text. Find errors, reread the written text in order to find ABSOLUTELY ODD sentences 🙂 Interesting how do experienced bloggers keep their notes and where\u0026#8230; My last try is google docs.","title":"How do they do it?"},{"content":"Today visited Times. Was interested in one article about (RU+GBR)/UA. To hell the article. I read the comments. OMG.\nOMG again. \u0026#8220;People, even something that you care for most (democracy?) does not give you the right to lie passionately and ignore facts and invent lies. BTW, Eduard Glushko \u0026#8211; if you are so much afraid of the The Molotov-Ribbentrop Pact, it still can be repaired. Poland has to give back to Germany the territories they got after WW2. Ukraine has to democratically shrink to the pre-war size. How\u0026#8217;bout that?\u0026#8220; One of the posts there. It got normal replies. thoughtful replies. Let me show you one more: \u0026#8220;So the Times still thinks Russia is the agressor in the Russia-Georgia war? As an Ukrainia citizen I want to say that most Ukrainians don\u0026#8217;t want NATO, they want to head towards Russia. About the Russia-Georgia war, its old news. Everybody knows who the agressor was. Imagine Russia estblishing a pro-Russian government in Mexico and then training and equiping Mexicans with Russian military hardware, and then Mexico attacks Americans in Texas. EXACTLY the same situation, only from an other point of view. \u0026#8220; Makes me think Ukraine has got another IT president. \u0026#8220;Long live the King\u0026#8221;. Or at least a \u0026#8220;spare\u0026#8221; minister of foreign affairs. What\u0026#8217;s frightening is that no one replies. Now imagine Europeans or other reading this post. What do they think? I think you\u0026#8217;ve got the idea. Horrible. I never paid too much attention to the saying the Ukraine looses the \u0026#8220;IT war\u0026#8221; with Russia every day, but I think we all should. Regularly. I know it\u0026#8217;s a common ukrainian habit \u0026#8211; sit on the ass doing nothing till someone comes and hits you in the face, but times change fast and some habits just have to get lost, or we will get lost with them. ","permalink":"https://blog.vnomad.com/posts/tea/ukrainians-on-times/","summary":"Today visited Times. Was interested in one article about (RU+GBR)/UA. To hell the article. I read the comments. OMG.\nOMG again. \u0026#8220;People, even something that you care for most (democracy?) does not give you the right to lie passionately and ignore facts and invent lies. BTW, Eduard Glushko \u0026#8211; if you are so much afraid of the The Molotov-Ribbentrop Pact, it still can be repaired. Poland has to give back to Germany the territories they got after WW2.","title":"Ukrainians on Times."},{"content":" Now you never know how will modern technology strike you next time… Experience I’ve got today is remarkable. It’s not that something awful happened, but potentially this is really serious. Imagine you have a template in the phone to send SMS quickly with predefined text. And Imagine this piece of software has bugs… Whatever – one might think if it won’t send an sms – I’ll retype and sent it again. Now the real trouble comes when it sends sms far more then once. And it becomes even worse if an sms you send is a special one… a service one… designed to pay for services using you credit card. And then when you realize that the amount of money withdrawn from you account is not expected N but M*N, where M is a random bug number you look like that smiley. And you can’t blame anyone(providers are innocent – they got m requests and thoroughly fulfilled ’em) – ’cause you’re afraid to reproduce and hope it won’t ever reproduce. So watch-out for new technology – sometimes it knocks you down.\n\u0026lt;o:p\u0026gt;\u0026lt;/o:p\u0026gt;\n","permalink":"https://blog.vnomad.com/posts/code/damn-symbian-errors/","summary":"Now you never know how will modern technology strike you next time… Experience I’ve got today is remarkable. It’s not that something awful happened, but potentially this is really serious. Imagine you have a template in the phone to send SMS quickly with predefined text. And Imagine this piece of software has bugs… Whatever – one might think if it won’t send an sms – I’ll retype and sent it again.","title":"Damn Symbian errors!"},{"content":"[\u0026lt;img style=\u0026ldquo;float:left; margin:0 10px 10px 0;cursor:pointer; cursor:hand;width: 160px; height: 80px;\u0026rdquo; src=\u0026ldquo;http://2.bp.blogspot.com/_SwypSVIrwAo/See277vd4pI/AAAAAAAADrc/YzPLJ891L2s/s320/MCP(rgb).jpg\u0026rdquo; border=\u0026ldquo;0\u0026rdquo; alt=\u0026quot;\u0026quot; id=\u0026ldquo;At last i finally got time to get to that certification center and pass that damn 70-536. You can’t really work with all of that technology at once to keep all the names of classes and methods in your head, and the projects are swapping fast… SO it took me more than a year to get from an idea of sitting an axam to actually passing it. If anyone interested \u0026#8211; during the exam found out that Self-paced training kit is a big deal in preparation for this exam. I even noticed a few questions right from the preparation tests. The rime was far more than enough. The survey that followed the exam was probably half the time :). So generally it\u0026#8217;s not hard and it\u0026#8217;s a good experience\u0026#8230; ","permalink":"https://blog.vnomad.com/posts/code/mcp-aquired/","summary":"[\u0026lt;img style=\u0026ldquo;float:left; margin:0 10px 10px 0;cursor:pointer; cursor:hand;width: 160px; height: 80px;\u0026rdquo; src=\u0026ldquo;http://2.bp.blogspot.com/_SwypSVIrwAo/See277vd4pI/AAAAAAAADrc/YzPLJ891L2s/s320/MCP(rgb).jpg\u0026rdquo; border=\u0026ldquo;0\u0026rdquo; alt=\u0026quot;\u0026quot; id=\u0026ldquo;At last i finally got time to get to that certification center and pass that damn 70-536. You can’t really work with all of that technology at once to keep all the names of classes and methods in your head, and the projects are swapping fast… SO it took me more than a year to get from an idea of sitting an axam to actually passing it.","title":"MCP aquired…"},{"content":"Everybody knows of such a nice tool developed by our precious Google as Google Search. Recently I conducted a search on my computer for a simple word ‘Hack’. I was impressed by the results:\nthe word is mostly used in … !!!Java sdk!!! – try it out. I saw also some Visusal Studio files and some more but… I the Sun guys need to hack Windows in orde to get things done… no fursther comments…\nCurrentSettings.vssettings 4\u0026#34;PropertyValue name=0\u0026#34;TODO:2PropertyValue name=1\u0026#34;HACK:2PropertyValue name=2\u0026#34;UNDONE:2PropertyValue name=3 Preview My DocumentsVisua...CurrentSettings.vssettings - Open folder - 4 cached - Nov 05 XMLDocBookpeardoc2Convert.inc returns\u0026#39; access\u0026#39; false) nopackage) ret =array( foreach(tags[tags\u0026#39; as $tag) if (tag[keyword\u0026#39; return\u0026#39; hack because stupid Converter isn\u0026#39;t doing its job $tag[keyword\u0026#39; returns\u0026#39; ret[tag[keyword\u0026#39; tag Preview ProjectsPHP...XMLDocBookpeardoc2Convert.inc - Open folder - 1 cached - Oct 17 Exported-2008-10-06.vssettings 4\u0026#34; PropertyValue name=0\u0026#34;TODO:2 PropertyValue name=1\u0026#34;HACK:2 PropertyValue name=2\u0026#34;UNDONE:2 PropertyValue name=3 Preview SOENFLASHFLASH2Exported-2008-10-06.vssettings - Open folder - 1 cached - Oct 16 ScriptShellPanel.java else {endUpdate( else {endUpdate( public void removeUpdate(DocumentEvent e) This is a bit of a hack but is probably better than relying on /the JEditorPane to update the caret\u0026#39;s position Preview ProgramsJavajdk1.6.0_...ScriptShellPanel.java - Open folder - 1 cached - Oct 07 Wonderland.java import java.awt.Color; import javax.swing. import javax.swing.text. hack to load attributed content *public class Wonderland {Wonderland(DefaultStyledDocument doc, StyleContext styles Preview ProgramsJavajdk1.6.0_10dem...Wonderland.java - Open folder - 1 cached - Oct 07 HelloWorld.java import java.awt.Color; import javax.swing. import javax.swing.text. hack to load attributed content. public class HelloWorld {HelloWorld(DefaultStyledDocument doc, StyleContext styles Preview ProgramsJavajdk1.6.0_10dem...HelloWorld.java - Open folder - 1 cached - Oct 07 MetalworksHelp.java null) restore the original cursor html.setCursor(cursor) PENDING(prinz) remove this hack when /automatic validation is activated. Container parent =html.getParent( parent.repaint( else Preview ProgramsJavajdk1.6.0_10...MetalworksHelp.java - Open folder - 1 cached - Oct 07 Wonderland.java import java.awt.Color; import javax.swing. import javax.swing.text. hack to load attributed content *public class Wonderland {Wonderland(DefaultStyledDocument doc, StyleContext styles Preview ProgramsJavajdk1.6.0_10dem...Wonderland.java - Open folder - 1 cached - Oct 07 HelloWorld.java import java.awt.Color; import javax.swing. import javax.swing.text. hack to load attributed content. public class HelloWorld {HelloWorld(DefaultStyledDocument doc, StyleContext styles Preview ProgramsJavajdk1.6.0_10dem...HelloWorld.java - Open folder - 1 cached - Oct 07 MetalworksHelp.java null) restore the original cursor html.setCursor(cursor) PENDING(prinz) remove this hack when /automatic validation is activated. Container parent =html.getParent( parent.repaint( else Preview ProgramsJavajdk1.6.0_10...MetalworksHelp.java - Open folder - 1 cached - Oct 07 Win32FileSystem.java charAt(src) path.charAt(src +1) Remove leading slashes if followed by drive specifier. This hack is necessary to support file URLs containing drive specifiers (e.g. file:c:path\u0026#34; As a Preview ProgramsJavajdk1.6.0_1...Win32FileSystem.java - 1 cached - Mar 12 SynthTreeUI.java modify the paintContext\u0026#39;s state to match the state for the row /this is a hack in that it requires knowledge of the subsequent /method calls. The point is, the context used Preview ProgramsJavajdk1.6.0_10sr...SynthTreeUI.java - 1 cached - Mar 12 SynthTabbedPaneUI.java to just repaint the tab area! tabPane.repaint( forward the event delegate.mouseReleased(e) hack: The super method *should* be setting the mouse-over property correctly /here, but it doesn Preview ProgramsJavajdk1.6.0...SynthTabbedPaneUI.java - 1 cached - Mar 12 JPasswordField.java code\u0026gt; protected String paramString( return super.paramString( echoChar= echoChar; This method is a hack to get around the fact that we cannot *directly override setUIProperty because part Preview ProgramsJavajdk1.6.0_10...JPasswordField.java - 1 cached - Mar 12 JMXServiceURL.java virtual `preceding the name. We represent any alphanumeric character by `a\u0026#39; We need a special hack to check, as required by the RFC 2609 (SLP) grammar, that the last component of Preview ProgramsJavajdk1.6.0_10...JMXServiceURL.java - 1 cached - Mar 12 PlainView.java Offset of where to draw the first character on the first line. This is a hack and temporary until we can better address the problem *of text measuring. This field is actually Preview ProgramsJavajdk1.6.0_10src....PlainView.java - 1 cached - Mar 12 StringContent.java we don\u0026#39;t have a 100% pure solution for *this. so this class trys to hack a solution *to causing the marks to be collected. final class StickyPosition implements Position {StickyPosition Preview ProgramsJavajdk1.6.0_10...StringContent.java - 1 cached - Mar 12 EventQueue.java in sun.awt. Both of these approaches /have been frowned upon. So for now, we hack. In tiger, we will probably give timestamps to all events, so this /will no longer be Preview ProgramsJavajdk1.6.0_10src...EventQueue.java - 1 cached - Mar 12 EventDispatchThread.java never throw any sort of exception. p\u0026gt; i\u0026gt;Note:i\u0026gt; This method is a temporary hack to work around the *absence of a real API that provides the ability to replace the Preview ProgramsJavajdk1.6...EventDispatchThread.java - 1 cached - Mar 12 ICC_Profile.java InputStream s) throws IOException {byte profileData[ if (s instanceof ProfileDeferralInfo) hack to detect profiles whose loading can be deferred *return getDeferredInstance(ProfileDeferralInfo Preview ProgramsJavajdk1.6.0_10sr...ICC_Profile.java - 1 cached - Mar 12 ","permalink":"https://blog.vnomad.com/posts/code/java-sdk-is-hacking-window/","summary":"Everybody knows of such a nice tool developed by our precious Google as Google Search. Recently I conducted a search on my computer for a simple word ‘Hack’. I was impressed by the results:\nthe word is mostly used in … !!!Java sdk!!! – try it out. I saw also some Visusal Studio files and some more but… I the Sun guys need to hack Windows in orde to get things done… no fursther comments…","title":"Java sdk is hacking Window… :)"},{"content":"I had to travel to Sweden recently. So probably in 2 hours or so i packed all the necessary things, took my old notebook-bag out of the dusty closet (cleaned it) and packed all the NB-stuff into it. I also included my new KOSS UR-40 headphones in the bag. I have to tell I wasn’tso much impressed when I bought them. You know – in Ukraine if want to know how smth sounds you’ll probably have to buy it first. Well they were better than an average headset but still I considered my old Panasonic HG50 to sound softer even if they didn’t catch some low levels.\nSo as I pointed out, I took all my stuff and started off for the journey. It took me 2 flights to get to Sweden and, as a result 4 X-ray checks on my luggage. Tired to death I reached the hotel at 9 PM and after a brief shower decided to listen to smth good before I get to sleep. I put my headphones on, launch winamp, brose for smth and \u0026#8211; oh my goodness! What a perfect sound! At first I didn\u0026#8217;t believe it were my new UR-40\u0026#8230; but then I thought it can\u0026#8217;t be my old Panasonic one\u0026#8217;s -they cant catch that tiny sound\u0026#8230; Finally I realized smth must have happened to my KOSS. I dunno what and I dunno why, but now they sound a lot better. Still not worth the money I paid but close to it. So whenever you have a bad headset \u0026#8211; try putting it through an X-ray – and maybe they\u0026#8217;ll get better too;) ","permalink":"https://blog.vnomad.com/posts/travel/x-ray-headphones-improve/","summary":"I had to travel to Sweden recently. So probably in 2 hours or so i packed all the necessary things, took my old notebook-bag out of the dusty closet (cleaned it) and packed all the NB-stuff into it. I also included my new KOSS UR-40 headphones in the bag. I have to tell I wasn’tso much impressed when I bought them. You know – in Ukraine if want to know how smth sounds you’ll probably have to buy it first.","title":"X-ray headphones improve"},{"content":"Recently I needed to do a simple task – implement a radio button list with choices under J2ME MIDP 2.0. I started with creating an new view of type javax.microedition.lcdui.List, keeping in mind that I can just construct it with List.EXCLUSIVE and add whatever items i want and everything should work fine. Well almost… All looked nice and the items showed up very attractively, having transparency and current font set up by default, which looked quite impressive.\nBut than our quality assurance posted me a “small” bug. They said – after navigating from and to the screen selected item looses focus and moreover if the first item is not selected and you navigate from and to he screen you’re not able to select first choice until you move selection up and down…. What a tiny thing i thought… Should be a 5 minute fix. But when I investigated further it occurred that there is no method setting current highlighted item in list. Could be accomplished by Displayable.setCurrentItem() but this is reported to be buggy on some phones! What a mess!\nOk i thought – wise man couldn’t leave it just like that – it’s very annoying form the users point of view. So looked forward to the standard radio-list approach and found javax.microedition.lcdui.ChoiceGroup. Which in-fact worked just perfectly with one flaw – it can be placed only on a form and thus has its own control background(not transparent). Apparently non-transparent background is better than ‘buggy functionality’ in fancy list. People need software that works perfect(and looks perfect too but works comes first). Hope that thing will be fixed in new releases of MIDP. BTW heard they are going to implements impressive things there… Just can’t wait seeing ’em in action 🙂\n","permalink":"https://blog.vnomad.com/posts/code/j2me-radio-lists-trouble/","summary":"Recently I needed to do a simple task – implement a radio button list with choices under J2ME MIDP 2.0. I started with creating an new view of type javax.microedition.lcdui.List, keeping in mind that I can just construct it with List.EXCLUSIVE and add whatever items i want and everything should work fine. Well almost… All looked nice and the items showed up very attractively, having transparency and current font set up by default, which looked quite impressive.","title":"J2ME radio lists trouble"},{"content":"The nice thing about all Noka phones is that they simply work. No excuses. But seems like putting lts of effort into the phone firmware leaves very little to the supporting software these phones are shipped with. There is a really nice piece of software called “Nokia PC Suite”. Though it is 80% useless to my mind it has always been a pleasure for me to know I can manage utmost every feature in my phone throught that shiny UI. I can, but, in some cases I’d better not:) The funniest feture out of this suit is Nokia Music Transfer. Along with smart logic buit in wasting your disk space it has a nice(at first glance) feature of converting your mp3/whatever tracks into optimized aac/aac+ format. Perfect one may think untill he/she uses it in practice. I got various “sound effects” starting from speediing up the tempo, loosing framents of audio and music distortion and ending up with gaining file size(but you expect it to shrink and the format suggests…). Well I have still managed one positive feature – you can copy your media and organize playlists inside it, which in fact works pretty good(but you can use File manager for that purpose quite easilly too AND without creation of tonns of folders on your media card, but that a whole another story…). Hope Noka guys would fix it in comming updates ’cause it’s… not even annoying – it’s funny:)\nBTW \u0026#8211; the update manager software works perfect(at least for me) too;) ","permalink":"https://blog.vnomad.com/posts/code/strange-nokia-music-converter/","summary":"The nice thing about all Noka phones is that they simply work. No excuses. But seems like putting lts of effort into the phone firmware leaves very little to the supporting software these phones are shipped with. There is a really nice piece of software called “Nokia PC Suite”. Though it is 80% useless to my mind it has always been a pleasure for me to know I can manage utmost every feature in my phone throught that shiny UI.","title":"Strange Nokia Music converter."},{"content":"Actually a painfull process it can be if the project you’re trying to convert has lots of custom stuff. The first problem i stumbled upon was resources. eah yeah – i mean form resources. They ciompletely refused to work. I know about that separation that came in when VS 2005 was introduced so I did use DeCodEx to make majour conversion and splitting but it still turned out that my forms are not opening :(. So here is what i did – i converted the resource files using ‘resgen’ tool to and from *.resx files. Some of them twice. yeah twice. I don’t know why but it turned out that converting once may not help and making this twice solves the problem… Also don’t forget to reload VS every time you do such conversions ’cause you might not see the resuult. I know that sounds odd but thats real life and experience and finally that worked out for me.\nAnother awful thing i had to fight was error like \u0026#8220;object \u0026#8230; returned null \u0026#8230; but this is not allowed \u0026#8220;. After some googling and investigating i found the solution like this: properties which caused that eroor were decorated with [DesignerSerializationVisibility(DesignerSerializationVisibility.Content)] After removing this decoration all works good. There is quite a usefull article of this on MSDN. ","permalink":"https://blog.vnomad.com/posts/code/net-1-0-to-net-2-0-migration/","summary":"Actually a painfull process it can be if the project you’re trying to convert has lots of custom stuff. The first problem i stumbled upon was resources. eah yeah – i mean form resources. They ciompletely refused to work. I know about that separation that came in when VS 2005 was introduced so I did use DeCodEx to make majour conversion and splitting but it still turned out that my forms are not opening :(.","title":".NET 1.0 to .NET 2.0 migration…"},{"content":"About 3 years ago I wash introduced to CVS and from that time I havent stopped using it as it quickly became my daily useage tool. Since than I tried some different tools- just because i had to due to work purposes and one of them was Subversion(SVN). I [ractically don’t see any difference between the two in usage and moreover in the interface. It has to be said that I use TortoiseCVS/SVN verisons – maybe standalone apps differ significantly. Well the reason I considered wriiting this post is recently I decided to move all my projects from CVS to SVN. The reasons for my ‘great migration’ were next: with the same level of usability SVN to mym mind is much better on the repository side. Just take a look at all these files produced by CVS – it takes tonn of time to parse all of them for some filesystem tool.And due to that(and i think not only that) it consumes more space. For example the same set of projects wasted 1.5 GB with CVS and 1.3GB for SVN. I think this is a considerable ‘thing’ to take into account especially in terms of source codes. I mean no harm or rude words to CVS – that is a wonderful system and i’ve used it for yeras. But again SVN to my mind seems to be smarter and, by the way, faster in file handling. I havent used SVN personally for long so I cant now judge about stability but taking into account number of projects hosted over the internet using Subversion i think that won’t be a problem either….\n","permalink":"https://blog.vnomad.com/posts/code/svn-vs-cvs/","summary":"About 3 years ago I wash introduced to CVS and from that time I havent stopped using it as it quickly became my daily useage tool. Since than I tried some different tools- just because i had to due to work purposes and one of them was Subversion(SVN). I [ractically don’t see any difference between the two in usage and moreover in the interface. It has to be said that I use TortoiseCVS/SVN verisons – maybe standalone apps differ significantly.","title":"SVN vs CVS"},{"content":"Recently found myself registered in this wierd system Next In. The most interesting part is I’ve never made any registrations on this site at all! Looks like those guys’ve just stolen public info from famous sites like Linked-In. If anyone comes across this one don’t trust any info they give – ‘case started by stealing i think they will go further. Just want to make official notice of that I have no relation to info that can be found there. Thing like that make me so frustrated!\n","permalink":"https://blog.vnomad.com/posts/tea/who-the-hell-is-next-in/","summary":"Recently found myself registered in this wierd system Next In. The most interesting part is I’ve never made any registrations on this site at all! Looks like those guys’ve just stolen public info from famous sites like Linked-In. If anyone comes across this one don’t trust any info they give – ‘case started by stealing i think they will go further. Just want to make official notice of that I have no relation to info that can be found there.","title":"Who the hell is “Next In”?"},{"content":"Now that this fancy prog is available i downloaded and installed it hoping to see all that Google promised it will have. However either ’cause its beta or these things just cant be fixed for browsers – here ‘s my opinion after about half a moth usage.\nUsability – good, except if one tab hangs – all tabs entire app hang…After some time however you get a dialog requesting the stop of some plugin, but in general – if there is no active items on the page – it just hangs 🙁\nI can’t say i experieced tremendous change after moving from firefox. I almost never use drag-tab-out feature. As for me it would be much better to have some kind of tab-grouping mechanism ’cause having lots of instances of chrome in my task bar doesnt really make me happy.\nSafety – good, when I came to page with harmful script it took me one checkbox to get rid of the page. Certificate management also good but I haven’t found a funtion to add exceptions – maybe there will be one in final version. The one thing i want to mention is – I was amazed about how easily it grabbed all my passwords from firefox – is it so easy to do or I have missed something…. Agreement issue is also one thing to keep in mind.\nStability – rather good than bad. After long period of time it still becomes sluggish as any other browser. Especially if there are lots of tabs open. Today i had an issue with google reader: i listened to some podcasts via reader and then after some switching in preferences the just refused to play though download bar was progressing… What was the most interesting part is that closing the tab and opening it didn’t help. How does it connects with the super-separate process concept ;)? Error messages ala ‘Sorry error happened’ are not even worth mentioning.\nSo to sum up: Chrome is is a very pleasant browser to use but now it doesnt seem to liverage all the problems that it is said to. Commercials are good but reality bytes…\nHappy browsing!\n","permalink":"https://blog.vnomad.com/posts/code/google-chrome/","summary":"Now that this fancy prog is available i downloaded and installed it hoping to see all that Google promised it will have. However either ’cause its beta or these things just cant be fixed for browsers – here ‘s my opinion after about half a moth usage.\nUsability – good, except if one tab hangs – all tabs entire app hang…After some time however you get a dialog requesting the stop of some plugin, but in general – if there is no active items on the page – it just hangs 🙁","title":"Google chrome"},{"content":"Windows Installer… nightmare… WISE – hurt me plenty. Although this is much simpler and logical to my mind then WI it is still very sensible to changes. What I am trying to say – if do everything right from the first time e.g. correctly choose all names and dialogs and files e.t.c it works perfectly. But when after 5 minutes you decide to change, say, some script or file destination WISE i making so many actions in background you can’t even imagine. This is because of many assumptions WISE makes upon what actually you are trying to do. So the bad part of this is something won’t just work even if looks the same as before.\nSo my advise is: to backups as often as you can. Done an action – it is working – save this version and only than continue. Otherwise you’ll have hours of figuring out why this or that happens and than be much more surprised with everything working again if you start everything up from the beginning. Happy installation making!\n","permalink":"https://blog.vnomad.com/posts/code/wise-installation-studio/","summary":"Windows Installer… nightmare… WISE – hurt me plenty. Although this is much simpler and logical to my mind then WI it is still very sensible to changes. What I am trying to say – if do everything right from the first time e.g. correctly choose all names and dialogs and files e.t.c it works perfectly. But when after 5 minutes you decide to change, say, some script or file destination WISE i making so many actions in background you can’t even imagine.","title":"WISE installation studio"},{"content":"Ever thought of using mysql database in .NET app? Obviously you link some other language with this DB format but it can be perfectly handled with MySql connector for .NET you can use standard ADO interfaces and approaches. Now that was the time I REALLY enjoyed working with mysql at last.\n","permalink":"https://blog.vnomad.com/posts/code/mysql-in-net/","summary":"Ever thought of using mysql database in .NET app? Obviously you link some other language with this DB format but it can be perfectly handled with MySql connector for .NET you can use standard ADO interfaces and approaches. Now that was the time I REALLY enjoyed working with mysql at last.","title":"MySQL in .NET"},{"content":"Yesterday tried to post some code to my technical blog again. What a painfull process was that! Never thought it would be so hard to add some custom javascript to my template. If Google validates input so hard why won’t they create some custom tag for code? I think many people use code posts in blogger but as far as i’ve seen all of them look pretty bad. Live space\nlooks much better in that perspective… Hope this would be somehow solved soon…\n","permalink":"https://blog.vnomad.com/posts/code/code-highlighting-lib-missing/","summary":"Yesterday tried to post some code to my technical blog again. What a painfull process was that! Never thought it would be so hard to add some custom javascript to my template. If Google validates input so hard why won’t they create some custom tag for code? I think many people use code posts in blogger but as far as i’ve seen all of them look pretty bad. Live space","title":"Code highlighting lib missing."},{"content":"Subj is only at beta but is really nice! Though not very complicated and lots of info on google sites i found it still quite time consuming to write a single posting app… But when finished everything looked very nice!\nclass Program { const string GOOGLE_LOGIN_SECTION = \u0026#34;googleLogin\u0026#34;; const string BATCH_COUNT_SETTING = \u0026#34;batchCount\u0026#34;; const string CHECK_EXISTANCE_SETTING = \u0026#34;checkExistance\u0026#34;; const string MyItem_ITEMTYPE_SETTING = \u0026#34;MyItemItemType\u0026#34;; const string MyDB_CONNECTION_STRING = \u0026#34;MyDBConnectionString\u0026#34;; static void Main(string[] args) { string appNameG = Utils.AssemblyCompany + \u0026#34;-\u0026#34; + Utils.AssemblyTitle + \u0026#34;-\u0026#34; + Utils.AssemblyVersion; string userName, passs; int batchCount; bool checkExistance = false; SqlConnection connection; // configuration parsing Console.Write(\u0026#34;Initializing...\u0026#34;); try { GoogleLoginSection gLogin = ConfigurationManager.GetSection(GOOGLE_LOGIN_SECTION) as GoogleLoginSection; userName = gLogin.UserName; passs = gLogin.Password; batchCount = int.Parse(ConfigurationManager.AppSettings[BATCH_COUNT_SETTING]); MyItem.MyItem_TYPE = ConfigurationManager.AppSettings[MyItem_ITEMTYPE_SETTING]; checkExistance = bool.Parse(ConfigurationManager.AppSettings[CHECK_EXISTANCE_SETTING]); connection = new SqlConnection(ConfigurationManager.ConnectionStrings[MyDB_CONNECTION_STRING].ConnectionString); } catch (Exception ex) { Console.WriteLine(\u0026#34;Failed configuration parsing. {0}\u0026#34;, ex.Message); return; } Console.WriteLine(\u0026#34; OK.\u0026#34;); //get a google service Console.Write(\u0026#34;Logging to Google....\u0026#34;); GBaseService service = null; try { GDataGAuthRequestFactory fact = new GDataGAuthRequestFactory(\u0026#34;xapi\u0026#34;, appNameG); GDataCredentials myCred = new GDataCredentials(userName, passs); string developerToken = fact.QueryAuthToken(myCred); service = new GBaseService(appNameG, developerToken); service.Credentials = myCred; } catch (Exception ex) { Console.WriteLine(\u0026#34;Google authorization failed! {0}\u0026#34;, ex.Message); return; } Console.WriteLine(\u0026#34; OK.\u0026#34;); Console.Write(\u0026#34;Connecting to database....\u0026#34;); //acquire reader and send data in batches SqlDataReader reader = Utils.GetReader(connection); if (reader == null) return; Console.WriteLine(\u0026#34; OK.\u0026#34;); //reader.Read(); //service.Insert(GBaseUriFactory.Default.ItemsFeedUri, (new MyItem(reader)).CreateGEntry(new AtomPerson(AtomPersonType.Author, userName), 1)); GBaseQuery query = new GBaseQuery(GBaseUriFactory.Default.ItemsFeedUri); MyItem workMyItem; GBaseFeed resultQ = null; AtomFeed batchFeed; AtomPerson author = new AtomPerson(AtomPersonType.Author, userName); batchFeed = GetNewBatchFeed(service); int processed = 1; Console.WriteLine(\u0026#34;Processing data in batches of {0}\u0026#34;, batchCount); while (reader.Read()) { workMyItem = new MyItem(reader); Console.Write(\u0026#34;{0,-45}\u0026#34;, workMyItem); if (workMyItem.Name.Length \u0026lt; 3) { Console.WriteLine(\u0026#34;MyItem has too short name to be stored GBase!\u0026#34;); continue; } if (checkExistance) { try { query.GoogleBaseQuery = string.Format(\u0026#34;[item type: {0}] (\u0026#34;{1}\u0026#34;)\u0026#34;, MyItem.MyItem_TYPE, workMyItem.Name.Replace(\u0026#39;:\u0026#39;, \u0026#39; \u0026#39;));//search replacing COLONS a these are service charackters. resultQ = service.Query(query); } catch (Exception ex) { Console.WriteLine(\u0026#34;!!!Searching failed...!!!n{0}\u0026#34;, ex.Message); } } if (checkExistance \u0026amp;\u0026amp; (resultQ.Entries.Count \u0026gt; 0)) { Console.WriteLine(\u0026#34; -Found {1} matching item(s). Skipping.\u0026#34;); } else { batchFeed.Entries.Add(workMyItem.CreateGEntry(author, processed)); Console.WriteLine(\u0026#34; Added to batch.\u0026#34;); processed++; } if (processed == batchCount) { Console.WriteLine(\u0026#34;n**Sending batch...\u0026#34;); if (!SendBatch(service, batchFeed)) return; batchFeed = GetNewBatchFeed(service); processed = 1; } } if (processed \u0026gt; 1) { SendBatch(service, batchFeed); } //clean up try { connection.Close(); reader.Close(); } catch (Exception ex) { Console.WriteLine(\u0026#34;Could not release connection resources.{0}\u0026#34;, ex.Message); } } private static AtomFeed GetNewBatchFeed(GBaseService service) { AtomFeed batchFeed; batchFeed = new AtomFeed(GBaseUriFactory.Default.ItemsFeedBatchUri, service); batchFeed.BatchData = new GDataBatchFeedData(); return batchFeed; } private static bool SendBatch(GBaseService service, AtomFeed batchFeed) { try { AtomFeed result = service.Batch(batchFeed, GBaseUriFactory.Default.ItemsFeedBatchUri); Console.WriteLine(\u0026#34;nn*** {0} entries published.\u0026#34;, result.Entries.Count); } catch (Exception ex) { Console.WriteLine(\u0026#34;Couldn\u0026#39;t publish batch data. {0}nContinue?(y/n)\u0026#34;, ex.Message); ConsoleKeyInfo key = Console.ReadKey(); if (key.KeyChar == \u0026#39;y\u0026#39;) { return false; } } return true; } } ","permalink":"https://blog.vnomad.com/posts/code/trying-out-google-base/","summary":"Subj is only at beta but is really nice! Though not very complicated and lots of info on google sites i found it still quite time consuming to write a single posting app… But when finished everything looked very nice!\nclass Program { const string GOOGLE_LOGIN_SECTION = \u0026#34;googleLogin\u0026#34;; const string BATCH_COUNT_SETTING = \u0026#34;batchCount\u0026#34;; const string CHECK_EXISTANCE_SETTING = \u0026#34;checkExistance\u0026#34;; const string MyItem_ITEMTYPE_SETTING = \u0026#34;MyItemItemType\u0026#34;; const string MyDB_CONNECTION_STRING = \u0026#34;MyDBConnectionString\u0026#34;; static void Main(string[] args) { string appNameG = Utils.","title":"Trying out Google base"},{"content":"Interesting things happen when you try to marshal something in real life….Even if you do not happen to dig into strange structure-marshalling: just a few methods or smth. strange problems may occur. For example marshalling char** for in and out usage. I was struggling for about a day for the code worked on developmnet environment and did not on test:). So the correct marshal is next [native] extern __declspec(dllexport) int SomeFunc(char** stringArray); [marshal]\n[DllImport(\u0026#34;funct.dll\u0026#34;, EntryPoint = \u0026#34;SomeFunc\u0026#34;, ExactSpelling = true)] internal static extern int SomeFunc([In,Out] String[] stringArray); AND! Do not forget to allocate enough memory for the array elements:\n[pseudocode]\nfor (int i = 0; i \u0026lt;\u0026gt; { arr[i] = new String(\u0026#39; \u0026#39;, 256); } If you want to marshal a string and DO NOT use it afterwards(no result is written to it) use string but if you do use a StringBuilder with OUT modifier: [native] extern __declspec(dllexport) int SomeFunc(void* ad, char* buf, int size, float someParam); [marshal]\n[DllImport(\u0026#34;funct.dll\u0026#34;, EntryPoint = \u0026#34;SomeFunc\u0026#34;, ExactSpelling = true)] internal static extern int SomeFunc(IntPtr handle, [Out] StringBuilder buffer, int size, [In] float someParam); Now let us imagine a more complicated example of function: two string are passed to the function: one is an ASCII string and one is a UNICODE one. The result has to be written into the second string. simple auto modifier in CharSet wont help we’ll have to use MarshalAs attribute: [native] extern __declspec(dllexport) int SomeFunc(void* ad, const char *name, wchar_t *value, int valueSize); [marshal]\n[DllImport(\u0026#34;funct.dll\u0026#34;, EntryPoint = \u0026#34;SomeFunc\u0026#34;,CharSet=CharSet.Auto, ExactSpelling = true)] internal static extern int SomeFunc(IntPtr handle, [MarshalAs(UnmanagedType.LPStr)] [In] string name, [MarshalAs(UnmanagedType.LPWStr)] [In,Out] string value, int size); ","permalink":"https://blog.vnomad.com/posts/code/net-marshalling/","summary":"Interesting things happen when you try to marshal something in real life….Even if you do not happen to dig into strange structure-marshalling: just a few methods or smth. strange problems may occur. For example marshalling char** for in and out usage. I was struggling for about a day for the code worked on developmnet environment and did not on test:). So the correct marshal is next [native] extern __declspec(dllexport) int SomeFunc(char** stringArray); [marshal]","title":".NET Marshalling"},{"content":"The previous post highlighted how to accomplish the given task using TIFF-PDF-JPEG-BITMAP conversion. Though this was is complicated it works perfect. But so much code for so little functionality often is not considered good if even eccepted. Recently a new way was found. It has to be said that it is not “the proper way”, because it needs some annatural code, but it is considerably lighter than the previous one. SO the idea is to draw direktly on the window using its HWND and SDK drawContentsToFunction. Not say , much – just look at the code – it is fairly simple:\n//declare it somwhere in the code 🙂\nPDPage g_page; //use this code when user selects the tiff file to display Dialog::getStatement()-\u0026gt;ConvertTiffToPdf(\u0026amp;doc, documentIndex); if(g_page) { PDDoc docToRelease = PDPageGetDoc(g_page); PDPageRelease(g_page); PDDocClose(docToRelease); } g_page = PDDocAcquirePage (doc, 0); //use this code in the OnRefresh/OnPaint event handler for the desired picturebox or any HWND\nvoid ASAPI AnotStatementADMDialogDrawProc (ADMDialogRef inDialog, ADMDrawerRef inDrawer) { if (!g_page) sADMDialog-\u0026gt;DefaultDraw(inDialog, inDrawer); HWND hwnd = ::FindWindowEx(0, 0, 0, \u0026#34;Add Anoto Statement\u0026#34;); HWND bitmaphwnd = GetDlgItem(hwnd,IDC_STATICIMAGE); HDC hdc = GetDC(bitmaphwnd); RECT rect; GetClientRect( bitmaphwnd, \u0026amp;rect); ::FillRect(hdc, \u0026amp;rect, (HBRUSH) (COLOR_WINDOW)); ASFixedMatrix matrix; //if needed change this matrix to provide proper size PDPageGetFlippedMatrix(g_page, \u0026amp;matrix); PDPageDrawContentsToWindow(g_page, bitmaphwnd , hdc, false, \u0026amp;matrix, 0,0,0); ReleaseDC(hwnd,hdc); DeleteDC(hdc); } ","permalink":"https://blog.vnomad.com/posts/code/display-tiff-in-picturebox-adobe-plugins/","summary":"The previous post highlighted how to accomplish the given task using TIFF-PDF-JPEG-BITMAP conversion. Though this was is complicated it works perfect. But so much code for so little functionality often is not considered good if even eccepted. Recently a new way was found. It has to be said that it is not “the proper way”, because it needs some annatural code, but it is considerably lighter than the previous one. SO the idea is to draw direktly on the window using its HWND and SDK drawContentsToFunction.","title":"Display TIFF in picturebox (Adobe plugins)"},{"content":"Today i would like to continue PDF plugins development theme. The next thing i was struggling with for about three days was displaying *TIFF ot *TIF images in Picture box control on he ADMDialog. Well nice thing is it can do this, bad thing is: not the way we think it should be. Unfortunately i havent found the other way as to convert image file to JPEG format(through PDF) and that load it as BITMAP which i could put into the ADMIconRef…Also i would like to admit that after loading the HBITMAP i had to resize it to the proper the of pcture box i had. There i used some nice piece of code found on http://www.codeguru.com/cpp/g-m/bitmap/specialeffects/article.php/c4897/. So here is the code i used.\n//header file for TIFF-PDF-JPEG-HBITMAP conversion\n#include \u0026lt;map\u0026gt; #include \u0026lt;olectl.h\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026#34;AVCmdDefs.h\u0026#34; /* * PDF to HBITMAP conversion classes */ typedef map\u0026lt;int,string\u0026gt; TiffToJPGMap; class TiFFDialogPrivewHelper { public: static HBITMAP getBitmapFromPDF(int documentIndex,WORD width, WORD height); static void initTempFolder(); static void cleanTempFolder(); private: static TiffToJPGMap m_convertedPDFs; static bool m_isTempFolderInit; static string m_tempFolderName; static void convertPDFToJPG(int documentIndex, string jpegFullPath); static HBITMAP resizeBitmap(HBITMAP hBmp, WORD wNewWidth, WORD wNewHeight); static HBITMAP getJPEGFromPDF(string jpegName); static HBITMAP getBitmapFromJPEG(string jpegFullPath); /* * Classt tha provides PDF to JPEG file conversion via AVConversion API */ class ConversionFromPDFProvider { private: static AVConversionFromPDFHandler gConversionHandler; PDEContent volatile pdeContent; void GetJPEGHandler(); public: ACCB1 void ACCB2 Convert (int documentIndex, string jpegFullpath); static ACCB1 ASBool ACCB2 fromPDFEnumProc(AVConversionFromPDFHandler handler, AVConversionEnumProcData data); }; /* * BITMAP resize functions */ // // Functions for smooth bitmap resize // // Improvement: float calculations changed to int. // // Ivaylo Byalkov, January 24, 2000 // e-mail: ivob@i-n.net // // helper function prototypes static BITMAPINFO *PrepareRGBBitmapInfo(WORD wWidth, WORD wHeight); static void ShrinkDataInt(BYTE *pInBuff,WORD wWidth,WORD wHeight,BYTE *pOutBuff,WORD wNewWidth,WORD wNewHeight); static void EnlargeDataInt(BYTE *pInBuff,WORD wWidth,WORD wHeight,BYTE *pOutBuff,WORD wNewWidth,WORD wNewHeight); static int *CreateCoeffInt(int nLen, int nNewLen, BOOL bShrink); /////////////////////////////////////////////////////////// // Main resize function static HBITMAP ScaleBitmapInt(HBITMAP hBmp,WORD wNewWidth,WORD wNewHeight); }; /* //// realization is quite big but it works 😉 /* * PDF to HBITMAP conversion implementation code */ /* * TiFFDialogPrivewHelper function implementation */ string TiFFDialogPrivewHelper::m_tempFolderName; HBITMAP TiFFDialogPrivewHelper::getBitmapFromJPEG(string jpegFullPath) { LPSTR pFile = new char[jpegFullPath.length() + 1]; strcpy(pFile,jpegFullPath.c_str()); HANDLE hFile; HBITMAP hBmp; DWORD dwSize; DWORD dwRead; HGLOBAL hMemJpeg; LPSTREAM lpStream; OLE_HANDLE hJpegBmp; HRESULT hr; LPPICTURE lpPicture = NULL; void *pMemJpeg; /* Open the file and get the size. */ if((hFile = CreateFile(pFile, GENERIC_READ, FILE_SHARE_READ, NULL, OPEN_EXISTING, 0, NULL)) == INVALID_HANDLE_VALUE) return NULL; if((dwSize = GetFileSize(hFile, NULL)) == 0xFFFFFFFF) { CloseHandle(hFile); return NULL; } /* Allocate space for file, read it in, and then close the file again. */ if((hMemJpeg = GlobalAlloc(GMEM_MOVEABLE, dwSize)) == NULL) { CloseHandle(hFile); return NULL; } if((pMemJpeg = GlobalLock(hMemJpeg)) == NULL) { CloseHandle(hFile); GlobalFree(hMemJpeg); return NULL; } if(!ReadFile(hFile, pMemJpeg, dwSize, \u0026amp;dwRead, NULL)) { CloseHandle(hFile); GlobalFree(hMemJpeg); return NULL; } CloseHandle(hFile); GlobalUnlock(hMemJpeg); /* Create the stream and load the picture. */ if((hr = CreateStreamOnHGlobal(hMemJpeg, TRUE, \u0026amp;lpStream)) != S_OK) { GlobalFree(hMemJpeg); return NULL; } if(OleLoadPicture(lpStream, dwSize, FALSE, IID_IPicture,(void**) \u0026amp;lpPicture) != S_OK) { GlobalFree(hMemJpeg); lpStream-\u0026gt;Release(); return NULL; } /* Get the handle to the image, and then copy it. */ if((lpPicture-\u0026gt;get_Handle( \u0026amp;hJpegBmp)) != S_OK) { GlobalFree(hMemJpeg); lpStream-\u0026gt;Release(); lpPicture-\u0026gt;Release(); return NULL; } if((hBmp = (HBITMAP)CopyImage((HANDLE *) hJpegBmp, IMAGE_BITMAP, 0, 0, LR_COPYRETURNORG)) == NULL) { GlobalFree(hMemJpeg); lpStream-\u0026gt;Release(); lpPicture-\u0026gt;Release(); return NULL; } /* Free the original image and memory. */ GlobalFree(hMemJpeg); lpStream-\u0026gt;Release(); lpPicture-\u0026gt;Release(); return hBmp; } void TiFFDialogPrivewHelper::initTempFolder() { ASFileSys currentFS = ASGetDefaultFileSys(); ASPathName asPath = ASFileSysGetTempPathName(currentFS, NULL); if (asPath == NULL) { m_tempFolderName = \u0026#34;c:\u0026#34;; } // convert pathname from Acrobat pathname to char char *path = ASFileSysDisplayStringFromPath(currentFS, asPath); // buffer should be freed ASFileSysReleasePath(currentFS, asPath); if (path == NULL) { m_tempFolderName = \u0026#34;c:\u0026#34;; } string pathString = path; ASfree(path); //remove the temp file name int slashIndex = pathString.find_last_of(\u0026#39;\\\u0026#39;); if (slashIndex \u0026lt;= 0) { slashIndex = pathString.find_last_of(\u0026#39;/\u0026#39;); } pathString.erase(slashIndex,pathString.length() - slashIndex); m_tempFolderName = pathString + \u0026#34;//JPEGsFromPDfs//\u0026#34;; ASFileSysCreateFolder(currentFS,ASFileSysCreatePathName(currentFS, ASAtomFromString(\u0026#34;Cstring\u0026#34;), m_tempFolderName.c_str(), 0),false); m_isTempFolderInit = true; } void TiFFDialogPrivewHelper::cleanTempFolder() { ASFileSys currentFS = ASGetDefaultFileSys(); ASPathName tempFolderName = ASFileSysCreatePathName(currentFS, ASAtomFromString(\u0026#34;Cstring\u0026#34;), m_tempFolderName.c_str(), 0); for(TiffToJPGMap::iterator it = m_convertedPDFs.begin(); it != m_convertedPDFs.end(); it++) { ASPathName convertedJPEG = ASFileSysCreatePathName(currentFS, ASAtomFromString(\u0026#34;Cstring\u0026#34;), ((pair\u0026lt;int,string\u0026gt;)(*it)).second.c_str(), 0); ASFileSysRemoveFile(currentFS,convertedJPEG); ASFileSysReleasePath(currentFS,convertedJPEG); } ASFileSysRemoveFolder(currentFS,tempFolderName); ASFileSysReleasePath(currentFS,tempFolderName); m_convertedPDFs.clear(); m_isTempFolderInit = false; } TiffToJPGMap TiFFDialogPrivewHelper::m_convertedPDFs; bool TiFFDialogPrivewHelper::m_isTempFolderInit = false; void TiFFDialogPrivewHelper::convertPDFToJPG(int documentIndex, string jpegFullPath) { ConversionFromPDFProvider provider; provider.Convert(documentIndex,jpegFullPath); } HBITMAP TiFFDialogPrivewHelper::resizeBitmap(HBITMAP hBmp, WORD wNewWidth, WORD wNewHeight) { HBITMAP result = ScaleBitmapInt(hBmp,wNewWidth,wNewWidth); return result; } HBITMAP TiFFDialogPrivewHelper::getBitmapFromPDF(int documentIndex,WORD width, WORD height) { if(m_isTempFolderInit) { TiffToJPGMap::iterator it = m_convertedPDFs.find(documentIndex); if (it == m_convertedPDFs.end()) { //evaluate corresponding jpeg path string combinedJpegPath; combinedJpegPath.insert(0,m_tempFolderName); combinedJpegPath += \u0026#34;ConvertedPDF\u0026#34;; std::stringstream ss; std::string stringIndex; ss \u0026lt;\u0026lt; documentIndex; ss \u0026gt;\u0026gt; stringIndex; combinedJpegPath += stringIndex; combinedJpegPath += \u0026#34;.jpeg\u0026#34;; convertPDFToJPG(documentIndex,combinedJpegPath); m_convertedPDFs.insert(pair\u0026lt;int,string\u0026gt;(documentIndex,combinedJpegPath)); it = m_convertedPDFs.find(documentIndex); } HBITMAP jpg = getBitmapFromJPEG(((pair\u0026lt;int,string\u0026gt;)(*it)).second); return resizeBitmap(jpg,width,height); } return NULL; } ////////////////////////////////////////////////////////////////////////// ////////////////////////////////////////////////////////////////////////// ////////////////////////////////////////////////////////////////////////// /* * ConversionFromPDFProvider functions */ AVConversionFromPDFHandler TiFFDialogPrivewHelper::ConversionFromPDFProvider::gConversionHandler = NULL; ACCB1 void ACCB2 TiFFDialogPrivewHelper::ConversionFromPDFProvider::Convert(int documentIndex, string jpegFullPath) { ASAtom cmdName; AVCommand cmd; AVConversionFlags flags=0; const int MAX_PATH_LENGTH = 255; char temp[MAX_PATH_LENGTH]=\u0026#34;\u0026#34;; PDDoc pdDoc; //filename for the jpeg output file char* outFileName = new char[jpegFullPath.length() + 1]; strcpy(outFileName, jpegFullPath.c_str()); DURING Dialog::getStatement()-\u0026gt;ConvertTiffToPdf(\u0026amp;pdDoc,documentIndex); ASPathName jpgPathName = ASFileSysCreatePathName(ASGetDefaultFileSys(), ASAtomFromString(\u0026#34;Cstring\u0026#34;), outFileName, 0); cmdName=ASAtomFromString(\u0026#34;GeneralInfo\u0026#34;); cmd=AVCommandNew(cmdName); volatile ASCab settings=ASCabNew(); ASCab inputs = ASCabNew(); ASCabPutPointer (inputs, kAVCommandKeyPDDoc, PDDoc, pdDoc, NULL); if (kAVCommandReady != AVCommandSetInputs (cmd, inputs)) { //some error handling; } ASCab config = ASCabNew(); ASCabPutInt (config, \u0026#34;UIPolicy\u0026#34;, kAVCommandUIInteractive); if(kAVCommandReady!=AVCommandSetConfig (cmd, config)) { //some error handling; } ASCabPutInt (settings, kExtractImgCmdKeyConvFormat, kImgConversionFormatJpeg); ASCabPutInt (settings, kExtractJpegCmdKeyCompression, kJpegCompressionLow); ASCabPutInt (settings, kExtractJpegCmdKeyFormat, kJpegFormatOptimized); ASCabPutInt (settings, kExtractImgCmdKeyColorSpace, kColorSpaceGrayscale); ASCabPutInt (settings, kExtractImgCmdKeyResolution, kImgResolution300); if(kAVCommandReady!=AVCommandSetParams (cmd, settings)) { //some error handling; } GetJPEGHandler(); //handler for jpeg if(kAVConversionFailed == AVConversionConvertFromPDFWithHandler (gConversionHandler, settings,//param settings kAVConversionNoFlags, pdDoc//active pddoc , jpgPathName//destn filename , ASGetDefaultFileSys(), NULL)) { //some error logging } PDDocClose(pdDoc); HANDLER END_HANDLER } /* fromPDFEnumProc * ---------------------------------------------------------------------- * * Called by Acrobat as it cycles through each FromPDF handler. */ ACCB1 ASBool ACCB2 TiFFDialogPrivewHelper::ConversionFromPDFProvider::fromPDFEnumProc(AVConversionFromPDFHandler handler, AVConversionEnumProcData data) { DURING //Get the name of this filter ASInt32 len = 255; AVFileFilterRec filterRec = handler-\u0026gt;convFilter; char * filterName = ASTextGetPDTextCopy(filterRec.filterDescription, \u0026amp;len); //If it\u0026#39;s the JPEG handler, then set our global handler to it. //Name changed to just \u0026#34;JPEG\u0026#34; in 6.0 if ((!strcmp(filterName, \u0026#34;JPEG Files\u0026#34;)) || (!strcmp(filterName, \u0026#34;JPEG\u0026#34;))) { gConversionHandler = handler; } HANDLER return false; END_HANDLER return true; } void TiFFDialogPrivewHelper::ConversionFromPDFProvider::GetJPEGHandler() { AVConversionFromPDFEnumProc fromPDFEnumProcCB = ASCallbackCreateProto(AVConversionFromPDFEnumProc, \u0026amp;TiFFDialogPrivewHelper::ConversionFromPDFProvider::fromPDFEnumProc); AVConversionEnumFromPDFConverters (fromPDFEnumProcCB, NULL); ASCallbackDestroy(fromPDFEnumProcCB); } ////////////////////////////////////////////////////////////////////////// ////////////////////////////////////////////////////////////////////////// ////////////////////////////////////////////////////////////////////////// /* * In memory bitmap resizing functions realizations */ HBITMAP TiFFDialogPrivewHelper::ScaleBitmapInt(HBITMAP hBmp,WORD wNewWidth,WORD wNewHeight) { BITMAP bmp; ::GetObject(hBmp, sizeof(BITMAP), \u0026amp;bmp); // check for valid size if((bmp.bmWidth \u0026gt; wNewWidth \u0026amp;\u0026amp; bmp.bmHeight \u0026lt; wNewHeight) || (bmp.bmWidth \u0026lt; wNewWidth \u0026amp;\u0026amp; bmp.bmHeight \u0026gt; wNewHeight)) return NULL; HDC hDC = ::GetDC(NULL); BITMAPINFO *pbi = PrepareRGBBitmapInfo((WORD)bmp.bmWidth, (WORD)bmp.bmHeight); BYTE *pData = new BYTE[pbi-\u0026gt;bmiHeader.biSizeImage]; ::GetDIBits(hDC, hBmp, 0, bmp.bmHeight, pData, pbi, DIB_RGB_COLORS); delete pbi; pbi = PrepareRGBBitmapInfo(wNewWidth, wNewHeight); BYTE *pData2 = new BYTE[pbi-\u0026gt;bmiHeader.biSizeImage]; if(bmp.bmWidth \u0026gt;= wNewWidth \u0026amp;\u0026amp; bmp.bmHeight \u0026gt;= wNewHeight) ShrinkDataInt(pData, (WORD)bmp.bmWidth, (WORD)bmp.bmHeight, pData2, wNewWidth, wNewHeight); else EnlargeDataInt(pData, (WORD)bmp.bmWidth, (WORD)bmp.bmHeight, pData2, wNewWidth, wNewHeight); delete pData; HBITMAP hResBmp = ::CreateCompatibleBitmap(hDC, wNewWidth, wNewHeight); ::SetDIBits(hDC, hResBmp, 0, wNewHeight, pData2, pbi, DIB_RGB_COLORS); ::ReleaseDC(NULL, hDC); delete pbi; delete pData2; return hResBmp; } /////////////////////////////////////////////////////////// BITMAPINFO *TiFFDialogPrivewHelper::PrepareRGBBitmapInfo(WORD wWidth, WORD wHeight) { BITMAPINFO *pRes = new BITMAPINFO; ::ZeroMemory(pRes, sizeof(BITMAPINFO)); pRes-\u0026gt;bmiHeader.biSize = sizeof(BITMAPINFOHEADER); pRes-\u0026gt;bmiHeader.biWidth = wWidth; pRes-\u0026gt;bmiHeader.biHeight = wHeight; pRes-\u0026gt;bmiHeader.biPlanes = 1; pRes-\u0026gt;bmiHeader.biBitCount = 24; pRes-\u0026gt;bmiHeader.biSizeImage = ((3 * wWidth + 3) \u0026amp; ~3) * wHeight; return pRes; } /////////////////////////////////////////////////////////// int *TiFFDialogPrivewHelper::CreateCoeffInt(int nLen, int nNewLen, BOOL bShrink) { int nSum = 0, nSum2; int *pRes = new int[2 * nLen]; int *pCoeff = pRes; int nNorm = (bShrink) ? (nNewLen \u0026lt;\u0026lt; 12) / nLen : 0x1000; int nDenom = (bShrink)? nLen : nNewLen; ::ZeroMemory(pRes, 2 * nLen * sizeof(int)); for(int i = 0; i \u0026lt; nLen; i++, pCoeff += 2) { nSum2 = nSum + nNewLen; if(nSum2 \u0026gt; nLen) { *pCoeff = ((nLen - nSum) \u0026lt;\u0026lt; 12) / nDenom; pCoeff[1] = ((nSum2 - nLen) \u0026lt;\u0026lt; 12) / nDenom; nSum2 -= nLen; } else { *pCoeff = nNorm; if(nSum2 == nLen) { pCoeff[1] = -1; nSum2 = 0; } } nSum = nSum2; } return pRes; } /////////////////////////////////////////////////////////// void TiFFDialogPrivewHelper::ShrinkDataInt(BYTE *pInBuff, WORD wWidth, WORD wHeight, BYTE *pOutBuff, WORD wNewWidth, WORD wNewHeight) { BYTE *pLine = pInBuff, *pPix; BYTE *pOutLine = pOutBuff; DWORD dwInLn = (3 * wWidth + 3) \u0026amp; ~3; DWORD dwOutLn = (3 * wNewWidth + 3) \u0026amp; ~3; int x, y, i, ii; BOOL bCrossRow, bCrossCol; int *pRowCoeff = CreateCoeffInt(wWidth, wNewWidth, TRUE); int *pColCoeff = CreateCoeffInt(wHeight, wNewHeight, TRUE); int *pXCoeff, *pYCoeff = pColCoeff; DWORD dwBuffLn = 3 * wNewWidth * sizeof(DWORD); DWORD *pdwBuff = new DWORD[6 * wNewWidth]; DWORD *pdwCurrLn = pdwBuff, *pdwCurrPix, *pdwNextLn = pdwBuff + 3 * wNewWidth; DWORD dwTmp, *pdwNextPix; ::ZeroMemory(pdwBuff, 2 * dwBuffLn); y = 0; while(y \u0026lt; wNewHeight) { pPix = pLine; pLine += dwInLn; pdwCurrPix = pdwCurrLn; pdwNextPix = pdwNextLn; x = 0; pXCoeff = pRowCoeff; bCrossRow = pYCoeff[1] \u0026gt; 0; while(x \u0026lt; wNewWidth) { dwTmp = *pXCoeff * *pYCoeff; for(i = 0; i \u0026lt; 3; i++) pdwCurrPix[i] += dwTmp * pPix[i]; bCrossCol = pXCoeff[1] \u0026gt; 0; if(bCrossCol) { dwTmp = pXCoeff[1] * *pYCoeff; for(i = 0, ii = 3; i \u0026lt; 3; i++, ii++) pdwCurrPix[ii] += dwTmp * pPix[i]; } if(bCrossRow) { dwTmp = *pXCoeff * pYCoeff[1]; for(i = 0; i \u0026lt; 3; i++) pdwNextPix[i] += dwTmp * pPix[i]; if(bCrossCol) { dwTmp = pXCoeff[1] * pYCoeff[1]; for(i = 0, ii = 3; i \u0026lt; 3; i++, ii++) pdwNextPix[ii] += dwTmp * pPix[i]; } } if(pXCoeff[1]) { x++; pdwCurrPix += 3; pdwNextPix += 3; } pXCoeff += 2; pPix += 3; } if(pYCoeff[1]) { // set result line pdwCurrPix = pdwCurrLn; pPix = pOutLine; for(i = 3 * wNewWidth; i \u0026gt; 0; i--, pdwCurrPix++, pPix++) *pPix = ((LPBYTE)pdwCurrPix)[3]; // prepare line buffers pdwCurrPix = pdwNextLn; pdwNextLn = pdwCurrLn; pdwCurrLn = pdwCurrPix; ::ZeroMemory(pdwNextLn, dwBuffLn); y++; pOutLine += dwOutLn; } pYCoeff += 2; } delete [] pRowCoeff; delete [] pColCoeff; delete [] pdwBuff; } /////////////////////////////////////////////////////////// void TiFFDialogPrivewHelper::EnlargeDataInt(BYTE *pInBuff, WORD wWidth, WORD wHeight, BYTE *pOutBuff, WORD wNewWidth, WORD wNewHeight) { BYTE *pLine = pInBuff, *pPix = pLine, *pPixOld, *pUpPix, *pUpPixOld; BYTE *pOutLine = pOutBuff, *pOutPix; DWORD dwInLn = (3 * wWidth + 3) \u0026amp; ~3; DWORD dwOutLn = (3 * wNewWidth + 3) \u0026amp; ~3; int x, y, i; BOOL bCrossRow, bCrossCol; int *pRowCoeff = CreateCoeffInt(wNewWidth, wWidth, FALSE); int *pColCoeff = CreateCoeffInt(wNewHeight, wHeight, FALSE); int *pXCoeff, *pYCoeff = pColCoeff; DWORD dwTmp, dwPtTmp[3]; y = 0; while(y \u0026lt; wHeight) { bCrossRow = pYCoeff[1] \u0026gt; 0; x = 0; pXCoeff = pRowCoeff; pOutPix = pOutLine; pOutLine += dwOutLn; pUpPix = pLine; if(pYCoeff[1]) { y++; pLine += dwInLn; pPix = pLine; } while(x \u0026lt; wWidth) { bCrossCol = pXCoeff[1] \u0026gt; 0; pUpPixOld = pUpPix; pPixOld = pPix; if(pXCoeff[1]) { x++; pUpPix += 3; pPix += 3; } dwTmp = *pXCoeff * *pYCoeff; for(i = 0; i \u0026lt; 3; i++) dwPtTmp[i] = dwTmp * pUpPixOld[i]; if(bCrossCol) { dwTmp = pXCoeff[1] * *pYCoeff; for(i = 0; i \u0026lt; 3; i++) dwPtTmp[i] += dwTmp * pUpPix[i]; } if(bCrossRow) { dwTmp = *pXCoeff * pYCoeff[1]; for(i = 0; i \u0026lt; 3; i++) dwPtTmp[i] += dwTmp * pPixOld[i]; if(bCrossCol) { dwTmp = pXCoeff[1] * pYCoeff[1]; for(i = 0; i \u0026lt; 3; i++) dwPtTmp[i] += dwTmp * pPix[i]; } } for(i = 0; i \u0026lt; 3; i++, pOutPix++) *pOutPix = ((LPBYTE)(dwPtTmp + i))[3]; pXCoeff += 2; } pYCoeff += 2; } delete [] pRowCoeff; delete [] pColCoeff; } //finally the Dialog::getStatement()-\u0026gt;ConvertTiffToPdf(\u0026amp;pdDoc,documentIndex); which could cause questios. Here is realization of ConvertTiffToPdf function bool ConvertTiffToPdf(PDDoc *TargetPdDoc, unsigned long aIndex) { std::string aFileName = getFilenameByIndex(aIndex); if(aFileName.empty()) return false; std::string ImageFilePath = getDirectoryName() + aFileName; ASPathName File_To_Be_Converted_To_PDF = ASFileSysCreatePathName( ASGetDefaultFileSys(), ASAtomFromString(\u0026#34;Cstring\u0026#34;), ImageFilePath.c_str(), NULL); AVConversionStatus status = AVConversionConvertToPDF( kAVConversionNoFlags, File_To_Be_Converted_To_PDF, ASGetDefaultFileSys(), TargetPdDoc, NULL); ASFileSysReleasePath (ASGetDefaultFileSys(), File_To_Be_Converted_To_PDF); if(status != kAVConversionSuccess) return false; return true; } \u0026lt;/int,string\u0026gt;\u0026lt;/int,string\u0026gt;\u0026lt;/int,string\u0026gt;\u0026lt;/int,string\u0026gt;\u0026lt;/cstring\u0026gt;\u0026lt;/olectl.h\u0026gt; \u0026lt;/map\u0026gt; ","permalink":"https://blog.vnomad.com/posts/code/tiff-to-picture-box-in-pdf-plugin-adm-dialog/","summary":"Today i would like to continue PDF plugins development theme. The next thing i was struggling with for about three days was displaying *TIFF ot *TIF images in Picture box control on he ADMDialog. Well nice thing is it can do this, bad thing is: not the way we think it should be. Unfortunately i havent found the other way as to convert image file to JPEG format(through PDF) and that load it as BITMAP which i could put into the ADMIconRef…Also i would like to admit that after loading the HBITMAP i had to resize it to the proper the of pcture box i had.","title":"Tiff to Picture box in PDF plugin ADM dialog"},{"content":"Recently i was developing a feature for the Adobe(R) Acrobat Reader(R) plugin and come across an issue of selecting/highlighting annotations on the document based on some criteria e.g. if an annotation is positioned too close to the margin of the page… – bad you are :). Here i’ll post a tutorial like code for atchieving this goal for when trying to resolve that problem the only helpful information i foud was the Adobe Acrobat 7.0.5 SDK.First i would like to say that i haven’t found better way(say another way) to make slection/highlight of an annotation that creating my own selection server for that annotation. It also has to be said that every single type in Acrobat that “can be highlighted” has its own selection server(of type AVDocSelectionServer) which in practise can be obtained if you know its “internal” name. For example if you want a selection server for type “Button” you can something as following:\nAVDocGetSelectionServerByType(ASAtomFromString(\u0026#34;Button\u0026#34;)); There are selection servers for simple annotations but my annotation was a custom object, created by plug-in and thus didn’t have one. It didn’t prevent acrobat to use normal highlighting for it as when treating it as simple annotation in object editing mode, but the request was to provide highligting regardless of mode. So solution is to register the selection server. There is an example shipped with SDK of how to make custom selection servers but this example has a minor bug in it(it is configured so that selection will be drawn on every page whereas it has to be drawn only on the page where the object resides) and it doesnt take into consideration possibility of acrobat to change selection servers without notifying current selection server to lose its selection(for example when user press CTRL+A). So here we go with the code:First thing is to create a class which would be holding our selection and provide the selection type. To manage selections on different pages i created a simple class containinng list with page/data pairs and made it static for cross-page persistance. secondly implement the selection server. There is one workaround here in my code: to handle CTRL+A for simple objects on the page i use its selection server by injecting “losing selection” funtionality before server case takes place and then return to the normal application flow.This is definetely not a good way – but i found no other solution and this one is working:).\nSo here is the header file of the Selection Server\n/********************************************************************* ADOBE SYSTEMS INCORPORATED Copyright (C) 1994-2003 Adobe Systems Incorporated All rights reserved. NOTICE: Adobe permits you to use, modify, and distribute this file in accordance with the terms of the Adobe license agreement accompanying it. If you have received this file from a source other than Adobe, then your use, modification, or distribution of it requires the prior written permission of Adobe. --------------------------------------------------------------------- SelectionServer.h *********************************************************************/ #ifndef PIDGETSELECTIONSERVER_H #define PIDGETSELECTIONSERVER_H #include \u0026lt;list\u0026gt; #include \u0026lt;map\u0026gt; typedef pair\u0026lt;pdpage,list\u0026lt;asfixedRect\u0026gt;*\u0026gt; PageSelection; /* CustomClassSelection ** ------------------------------------------------------ ** ** This is the structure used to store selection data for ** selections of type \u0026#34;CustomClass\u0026#34;. All callbacks in our ** AVDocSelectionServer can assume that selData is a ** pointer to one of these. */ typedef struct _t_CustomClassSelection { PDAnnot annotToScrollTo;// the first annot that is highlighted list\u0026lt;pageSelection\u0026gt;* pageSelectionToHighlight; AVDoc currentDoc; bool isAnnotToScrollToSet; } CustomClassSelectionRec, *CustomClassSelection; // Pidget selection/highlight methods. These methods are // shared between the selection server and the AVTool. void InitializeCustomClassSelectionServer (void); /* SelectionServerGetType ** ------------------------------------------------------ ** */ /** We\u0026#39;re registering a selection server of type \u0026#34;CustomClass\u0026#34;. ** ** @return the selection server type. ** */ static ACCB1 ASAtom ACCB2 CustomClassSelectionServerGetType () { return ASAtomFromString (\u0026#34;CustomClass\u0026#34;); } ACCB1 void ACCB2 DrawCustomClassSelection (AVPageView pageView, AVDevRect *updateRect, void *data); extern ACCB1 void ACCB2 SelectionServerLosingSelection (AVDoc doc, void *selData, ASBool highlight); void* MySelectAllProc (AVDoc doc, void * selData); extern AVDocSelectionSelectAllProc prc; #endif // !SELECTIONSERVER_H // ***************Its corresponding realization and helper \u0026#39;drawing utils\u0026#39; file intended to actually draw the selection************ /********************************************************************* ADOBE SYSTEMS INCORPORATED Copyright (C) 1994-2003 Adobe Systems Incorporated All rights reserved. NOTICE: Adobe permits you to use, modify, and distribute this file in accordance with the terms of the Adobe license agreement accompanying it. If you have received this file from a source other than Adobe, then your use, modification, or distribution of it requires the prior written permission of Adobe. -------------------------------------------------------------------*/ /** file SelectionServer.cpp - The SelectionServer plug-in implements a selection server to handle pidgets. The pidgets selection tool allows users to select pidgetss by calling AVDocSetSelection() with a selection type of \u0026#34;CustomClass\u0026#34;. This call passes control to the selection server, which proceeds to highlight the pidget. - The selection server functionality is limited to getting, showing, and losing a selection. *********************************************************************/ #ifndef MAC_PLATFORM #include \u0026#34;PIHeaders.h\u0026#34; #endif #include \u0026#34;CommonHeaders.h\u0026#34; #include \u0026#34;SelectionServer.h\u0026#34; #include \u0026#34;Page.h\u0026#34; /*------------------------------------------------------- Constants/Declarations -------------------------------------------------------*/ static ASAtom CustomClass_K; static AVPageViewDrawProc cbDrawCustomClassSelection; static AVDocSelectionServerRec CustomClassSelectionServer; static AVDocSelectionSelectAllProc prc; /*------------------------------------------------------- AVDocSelectionServer Callbacks -------------------------------------------------------*/ /* SelectionServerGettingSelection ** ------------------------------------------------------ ** */ //** This is the selection server\u0026#39;s callback for when a //** selection is registered. //** //** @param selData pointer to an CustomClassSelectionRec allocated //** through ASmalloc. The LosingSelection callback will call //** ASfree() on it. //** //** @see AVAppRegisterForPageViewDrawing //** */ static ACCB1 void ACCB2 SelectionServerGettingSelection (AVDoc doc, void *selData, ASBool highlight) { ASAtom atm = ASAtomFromString(\u0026#34;Authoring\u0026#34;); AVDocSelectionServer srvr = AVDocGetSelectionServerByType(atm); prc = srvr-\u0026gt;SelectAll; srvr-\u0026gt;SelectAll = ASCallbackCreateProto (AVDocSelectionSelectAllProc, \u0026amp;MySelectAllProc); AVPageView pageView = AVDocGetPageView(doc); CustomClassSelection isel = (CustomClassSelection)selData; // Draw the selection. It will only be drawn if the page // holding the selection is being displayed. DrawCustomClassSelection (pageView, NULL, selData); // Register the AVPageViewDrawProc so we can redraw the selection // when the page is updated. AVAppRegisterForPageViewDrawing (cbDrawCustomClassSelection, isel); } void* MySelectAllProc (AVDoc doc, void * selData){ SelectionServerLosingSelection(AVAppGetActiveDoc(),Page::currentSelection,false); ASAtom atm = ASAtomFromString(\u0026#34;Authoring\u0026#34;); AVDocSelectionServer srvr = AVDocGetSelectionServerByType(atm); srvr-\u0026gt;SelectAll = prc; return srvr-\u0026gt;SelectAll(doc,selData); } /* SelectionServerLosingSelection ** ------------------------------------------------------ ** */ /** This is called whenever we have an active selection ** and the Viewer is attempting to change the selection ** to something else. ** ** @see AVDocGetPageView ** @see AVAppUnregisterForPageViewDrawing ** @see PDPageGetNumber ** @see AVPageViewGetFirstVisiblePageNum ** @see AVPageViewGetLastVisiblePageNum ** @see AVPageViewRectToDevice ** @see AVPageViewInvalidateRect ** @see AVPageViewDrawNow ** @see PDPageRelease ** @see ASFree */ ACCB1 void ACCB2 SelectionServerLosingSelection (AVDoc doc, void *selData, ASBool highlight) { AVPageView pageView = AVDocGetPageView(doc); CustomClassSelection isel = (CustomClassSelection)selData; ASAtom atm = ASAtomFromString(\u0026#34;Authoring\u0026#34;); AVDocSelectionServer srvr = AVDocGetSelectionServerByType(atm); srvr-\u0026gt;SelectAll = prc; // Make sure that an exception doesn\u0026#39;t prevent us from // releasing the PDPage. DURING // Unregister the AVPageViewDrawProc; there\u0026#39;s no selection // to draw any more. AVAppUnregisterForPageViewDrawing (cbDrawCustomClassSelection); for(list\u0026lt;pageSelection\u0026gt;::iterator i = isel-\u0026gt;pageSelectionToHighlight-\u0026gt;begin(); i != isel-\u0026gt;pageSelectionToHighlight-\u0026gt;end(); i++) { PageSelection* iteratorSel = \u0026amp;(*i); ASInt32 pageNum = PDPageGetNumber (iteratorSel-\u0026gt;first); if ((pageNum \u0026gt;= AVPageViewGetFirstVisiblePageNum(pageView)) \u0026amp;\u0026amp; (pageNum \u0026lt;= AVPageViewGetLastVisiblePageNum(pageView)) \u0026amp;#038;\u0026amp;#038; highlight) { AVDevRect viewRect; for(list\u0026lt;asfixedRect\u0026gt;::iterator pageRect = iteratorSel-\u0026gt;second-\u0026gt;begin(); pageRect != iteratorSel-\u0026gt;second-\u0026gt;end();pageRect++) { AVPageViewRectToDevice (pageView, \u0026amp;(*pageRect), \u0026amp;viewRect); AVPageViewInvalidateRect (pageView, \u0026amp;viewRect); } AVPageViewDrawNow (pageView); } } HANDLER END_HANDLER; // Release the page. for(list\u0026lt;pageSelection\u0026gt;::iterator i = isel-\u0026gt;pageSelectionToHighlight-\u0026gt;begin(); i != isel-\u0026gt;pageSelectionToHighlight-\u0026gt;end(); i++) { PDPageRelease (((PageSelection)(*i)).first); } // Free the selection data. Note that anyone calling AVDocSetSelection // for our selection server must have used ASmalloc to allocate the // memory, or this won\u0026#39;t work. ASfree (isel); } /* SelectionServerShowSelection ** ------------------------------------------------------ ** */ /** If the user has strayed to a page different from the / ** selection, this callback will take the user to the ** correct page and scroll the selection into view. ** ** @see AVPageViewBeginOperation ** @see AVPageViewGoTo ** @see AVPageViewRectToDevice ** @see AVPageViewScrollToRect ** @see AVPageViewEndOperation **/ static ACCB1 void ACCB2 SelectionServerShowSelection (AVDoc doc, void *selData) { //currently not used } ASBool SelectionServerKeyDown (AVDoc doc, void * data, AVKeyCode key, AVFlagBits16 flags){ if (key == 127) { AVDocClearSelection(AVAppGetActiveDoc(),false); } return false; } void* SelectionServerRemovedFromSelection (AVDoc doc, void * curData, void * remData, ASBool highlight) { int x = 10; return NULL; } /* InitializeSelectionServer ** ------------------------------------------------------ ** */ //** Create and register the selection server for pidgets. // ** // ** @see ASAtomFromString // ** @see AVDocRegisterSelectionServer // ** */ void InitializeCustomClassSelectionServer (void) { // Initialize our supporting globals. CustomClass_K = CustomClassSelectionServerGetType(); cbDrawCustomClassSelection = ASCallbackCreateProto (AVPageViewDrawProc, DrawCustomClassSelection); // Set up the pidget selection server. memset (\u0026amp;CustomClassSelectionServer, 0, sizeof(AVDocSelectionServerRec)); CustomClassSelectionServer.size = sizeof(AVDocSelectionServerRec); // Currently, we only implement Getting, Losing and Showing selections. CustomClassSelectionServer.GetType = ASCallbackCreateProto (AVDocSelectionGetTypeProc, \u0026amp;CustomClassSelectionServerGetType); CustomClassSelectionServer.GettingSelection = ASCallbackCreateProto (AVDocSelectionGettingSelectionProc, \u0026amp;SelectionServerGettingSelection); CustomClassSelectionServer.LosingSelection = ASCallbackCreateProto (AVDocSelectionLosingSelectionProc, \u0026amp;SelectionServerLosingSelection); CustomClassSelectionServer.ShowSelection = ASCallbackCreateProto (AVDocSelectionShowSelectionProc, \u0026amp;SelectionServerShowSelection); CustomClassSelectionServer.KeyDown = ASCallbackCreateProto (AVDocSelectionKeyDownProc, \u0026amp;SelectionServerKeyDown); CustomClassSelectionServer.RemovedFromSelection = ASCallbackCreateProto (AVDocSelectionRemovedFromSelectionProc, \u0026amp;SelectionServerRemovedFromSelection); AVDocRegisterSelectionServer (\u0026amp;CustomClassSelectionServer); } // drawing utils implementation /********************************************************************* ADOBE SYSTEMS INCORPORATED Copyright (C) 1994-2003 Adobe Systems Incorporated All rights reserved. NOTICE: Adobe permits you to use, modify, and distribute this file in accordance with the terms of the Adobe license agreement accompanying it. If you have received this file from a source other than Adobe, then your use, modification, or distribution of it requires the prior written permission of Adobe. -------------------------------------------------------------------*/ /** file SelectionServerDrawUtils.cpp - Implementation to draw the highlight around the selected pidget. *********************************************************************/ #ifndef MAC_PLATFORM #include \u0026#34;PIHeaders.h\u0026#34; #endif #include \u0026#34;CommonHeaders.h\u0026#34; #include \u0026#34;SelectionServer.h\u0026#34; #include \u0026#34;Resource.h\u0026#34; /*------------------------------------------------------- Helper Methods -------------------------------------------------------*/ /* DrawCustomClassSelectionHighlight ** ------------------------------------------------------ ** */ /** Draws the selection on the pageview. Simply draws a ** rectangle around the pidget. ** ** @see AVPageViewSetColor ** @see AVPageViewDrawRectOutline ** */ static void DrawCustomClassSelectionHighlight (AVPageView pageView, const AVDevRect *selBounds) { PDColorValueRec colorVal; // Define the color for our selection. colorVal.space = PDDeviceRGB ; colorVal.value[0] = ASInt32ToFixed(1); colorVal.value[1] = colorVal.value[2] = ASInt32ToFixed(0); // Set the drawing color for the pageview. AVPageViewSetColor (pageView, \u0026amp;colorVal); // Draw the highlight. AVPageViewDrawRectOutline(pageView, selBounds, 2, NULL, 0); } /* DrawCustomClassSelection ** ------------------------------------------------------ ** */ /** This is the AVPageViewDrawProc that draws the current ** selection. It is registered whenever the selection server\u0026#39;s ** GettingSelection callback is called, and unregistered when ** the LosingSelection callback is called. The callback is ** created in InitializeSelectionServer(). ** ** @see AVPageViewGetFirstVisiblePageNum ** @see AVPageViewGetLastVisiblePageNum ** @see AVPageViewRectToDevice ** */ ACCB1 void ACCB2 DrawCustomClassSelection (AVPageView pageView, AVDevRect *updateRect, void *data) { CustomClassSelection isel = (CustomClassSelection)data; for(list\u0026lt;pageSelection\u0026gt;::iterator i = isel-\u0026gt;pageSelectionToHighlight-\u0026gt;begin(); i != isel-\u0026gt;pageSelectionToHighlight-\u0026gt;end(); i++) { PageSelection* iteratorSel = \u0026amp;(*i); if(AVAppGetActiveDoc() != isel-\u0026gt;currentDoc) { //this is not the document we need return; } ASInt32 pageNum = PDPageGetNumber (iteratorSel-\u0026gt;first); DURING if ((pageNum \u0026gt;= AVPageViewGetFirstVisiblePageNum(pageView)) \u0026amp;\u0026amp; (pageNum \u0026lt;= AVPageViewGetLastVisiblePageNum(pageView))\u0026amp;#038;\u0026amp;#038;(pageNum == AVPageViewGetPageNum(pageView))) { // Convert the pidgets\u0026#39;s bounding rect to device space. for(list\u0026lt;asfixedRect\u0026gt;::iterator pageRect = iteratorSel-\u0026gt;second-\u0026gt;begin(); pageRect != iteratorSel-\u0026gt;second-\u0026gt;end();pageRect++) { ASFixedRect rect = *pageRect; AVDevRect viewRect; AVPageViewRectToDevice (pageView, \u0026amp;rect, \u0026amp;viewRect); DrawCustomClassSelectionHighlight (pageView, \u0026amp;viewRect); } } HANDLER END_HANDLER } } //we\u0026#8217;ll also need some class to hold the selection class instance #include \u0026#34;CustomClassSelectionServer/SelectionServer.h\u0026#34; class Page: { public: Page(Form *parent); ~Page(); //other custom code static void InitSelection(); static void SetSelection(); static CustomClassSelection currentSelection; }; typedef vector\u0026lt;page\u0026gt; PageVector; //making the selection would be fairly easy: Page::InitSelection(); for(every_page) { if( need_selection ) { / /add selection rectangle pageSlctn.second-\u0026gt;push_back(boundingRect); if(!currentSelection-\u0026gt;isAnnotToScrollToSet) { currentSelection-\u0026gt;annotToScrollTo = annot; currentSelection-\u0026gt;isAnnotToScrollToSet = true; //also add referrence to document to avoid cross document painting currentSelection-\u0026gt;currentDoc = AVAppGetActiveDoc(); } currentSelection-\u0026gt;pageSelectionToHighlight-\u0026gt;push_back(pageSlctn); } } Page::SetSelection(); ","permalink":"https://blog.vnomad.com/posts/code/custom-selection-server-in-pdf-plugin/","summary":"Recently i was developing a feature for the Adobe(R) Acrobat Reader(R) plugin and come across an issue of selecting/highlighting annotations on the document based on some criteria e.g. if an annotation is positioned too close to the margin of the page… – bad you are :). Here i’ll post a tutorial like code for atchieving this goal for when trying to resolve that problem the only helpful information i foud was the Adobe Acrobat 7.","title":"Custom selection server in PDF plugin"},{"content":"Recently, i started to come across _r e a l l y _nice books about software project management and risks. So friends of mine also share good patterns/best practices books. among them the can be listed :\n_ _Tom DeMarco, “Waltzing with Bears: Managing Risk on Software Projects” Steve McConnell “Software project survival guide” “Analysis Patterns: Reusable Object Models” Martin Fowler Design Patterns Book\nDesign Patterns: Elements of Reusable Object-Oriented Software by ErichGamma, RichardHelm, RalphJohnson, and JohnVlissides Edvard Yourdon ‘Death March’ if someone can contribute to the list – welcome!\n","permalink":"https://blog.vnomad.com/posts/code/nice-books-to-readoopood-agile-etc/","summary":"Recently, i started to come across _r e a l l y _nice books about software project management and risks. So friends of mine also share good patterns/best practices books. among them the can be listed :\n_ _Tom DeMarco, “Waltzing with Bears: Managing Risk on Software Projects” Steve McConnell “Software project survival guide” “Analysis Patterns: Reusable Object Models” Martin Fowler Design Patterns Book\nDesign Patterns: Elements of Reusable Object-Oriented Software by ErichGamma, RichardHelm, RalphJohnson, and JohnVlissides Edvard Yourdon ‘Death March’ if someone can contribute to the list – welcome!","title":"Nice books to read[OOP,OOD, Agile etc.]"}]